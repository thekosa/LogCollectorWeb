var jw=Object.defineProperty;var Uw=(n,t,e)=>t in n?jw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Lt=(n,t,e)=>Uw(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function Hw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _d={exports:{}},Da={},vd={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Ww(){if(hm)return At;hm=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,b={};function R(F,q,ct){this.props=F,this.context=q,this.refs=b,this.updater=ct||S}R.prototype.isReactComponent={},R.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function z(){}z.prototype=R.prototype;function $(F,q,ct){this.props=F,this.context=q,this.refs=b,this.updater=ct||S}var Y=$.prototype=new z;Y.constructor=$,M(Y,R.prototype),Y.isPureReactComponent=!0;var Z=Array.isArray,nt=Object.prototype.hasOwnProperty,tt={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(F,q,ct){var _t,Tt={},St=null,jt=null;if(q!=null)for(_t in q.ref!==void 0&&(jt=q.ref),q.key!==void 0&&(St=""+q.key),q)nt.call(q,_t)&&!P.hasOwnProperty(_t)&&(Tt[_t]=q[_t]);var Ut=arguments.length-2;if(Ut===1)Tt.children=ct;else if(1<Ut){for(var Qt=Array(Ut),Se=0;Se<Ut;Se++)Qt[Se]=arguments[Se+2];Tt.children=Qt}if(F&&F.defaultProps)for(_t in Ut=F.defaultProps,Ut)Tt[_t]===void 0&&(Tt[_t]=Ut[_t]);return{$$typeof:n,type:F,key:St,ref:jt,props:Tt,_owner:tt.current}}function k(F,q){return{$$typeof:n,type:F.type,key:q,ref:F.ref,props:F.props,_owner:F._owner}}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function V(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ct){return q[ct]})}var N=/\/+/g;function C(F,q){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):q.toString(36)}function Ft(F,q,ct,_t,Tt){var St=typeof F;(St==="undefined"||St==="boolean")&&(F=null);var jt=!1;if(F===null)jt=!0;else switch(St){case"string":case"number":jt=!0;break;case"object":switch(F.$$typeof){case n:case t:jt=!0}}if(jt)return jt=F,Tt=Tt(jt),F=_t===""?"."+C(jt,0):_t,Z(Tt)?(ct="",F!=null&&(ct=F.replace(N,"$&/")+"/"),Ft(Tt,q,ct,"",function(Se){return Se})):Tt!=null&&(D(Tt)&&(Tt=k(Tt,ct+(!Tt.key||jt&&jt.key===Tt.key?"":(""+Tt.key).replace(N,"$&/")+"/")+F)),q.push(Tt)),1;if(jt=0,_t=_t===""?".":_t+":",Z(F))for(var Ut=0;Ut<F.length;Ut++){St=F[Ut];var Qt=_t+C(St,Ut);jt+=Ft(St,q,ct,Qt,Tt)}else if(Qt=T(F),typeof Qt=="function")for(F=Qt.call(F),Ut=0;!(St=F.next()).done;)St=St.value,Qt=_t+C(St,Ut++),jt+=Ft(St,q,ct,Qt,Tt);else if(St==="object")throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return jt}function kt(F,q,ct){if(F==null)return F;var _t=[],Tt=0;return Ft(F,_t,"","",function(St){return q.call(ct,St,Tt++)}),_t}function Dt(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(ct){(F._status===0||F._status===-1)&&(F._status=1,F._result=ct)},function(ct){(F._status===0||F._status===-1)&&(F._status=2,F._result=ct)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var It={current:null},it={transition:null},ft={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:it,ReactCurrentOwner:tt};function st(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:kt,forEach:function(F,q,ct){kt(F,function(){q.apply(this,arguments)},ct)},count:function(F){var q=0;return kt(F,function(){q++}),q},toArray:function(F){return kt(F,function(q){return q})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},At.Component=R,At.Fragment=e,At.Profiler=s,At.PureComponent=$,At.StrictMode=i,At.Suspense=f,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ft,At.act=st,At.cloneElement=function(F,q,ct){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var _t=M({},F.props),Tt=F.key,St=F.ref,jt=F._owner;if(q!=null){if(q.ref!==void 0&&(St=q.ref,jt=tt.current),q.key!==void 0&&(Tt=""+q.key),F.type&&F.type.defaultProps)var Ut=F.type.defaultProps;for(Qt in q)nt.call(q,Qt)&&!P.hasOwnProperty(Qt)&&(_t[Qt]=q[Qt]===void 0&&Ut!==void 0?Ut[Qt]:q[Qt])}var Qt=arguments.length-2;if(Qt===1)_t.children=ct;else if(1<Qt){Ut=Array(Qt);for(var Se=0;Se<Qt;Se++)Ut[Se]=arguments[Se+2];_t.children=Ut}return{$$typeof:n,type:F.type,key:Tt,ref:St,props:_t,_owner:jt}},At.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},At.createElement=I,At.createFactory=function(F){var q=I.bind(null,F);return q.type=F,q},At.createRef=function(){return{current:null}},At.forwardRef=function(F){return{$$typeof:c,render:F}},At.isValidElement=D,At.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:Dt}},At.memo=function(F,q){return{$$typeof:p,type:F,compare:q===void 0?null:q}},At.startTransition=function(F){var q=it.transition;it.transition={};try{F()}finally{it.transition=q}},At.unstable_act=st,At.useCallback=function(F,q){return It.current.useCallback(F,q)},At.useContext=function(F){return It.current.useContext(F)},At.useDebugValue=function(){},At.useDeferredValue=function(F){return It.current.useDeferredValue(F)},At.useEffect=function(F,q){return It.current.useEffect(F,q)},At.useId=function(){return It.current.useId()},At.useImperativeHandle=function(F,q,ct){return It.current.useImperativeHandle(F,q,ct)},At.useInsertionEffect=function(F,q){return It.current.useInsertionEffect(F,q)},At.useLayoutEffect=function(F,q){return It.current.useLayoutEffect(F,q)},At.useMemo=function(F,q){return It.current.useMemo(F,q)},At.useReducer=function(F,q,ct){return It.current.useReducer(F,q,ct)},At.useRef=function(F){return It.current.useRef(F)},At.useState=function(F){return It.current.useState(F)},At.useSyncExternalStore=function(F,q,ct){return It.current.useSyncExternalStore(F,q,ct)},At.useTransition=function(){return It.current.useTransition()},At.version="18.3.1",At}var dm;function Tf(){return dm||(dm=1,vd.exports=Ww()),vd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function $w(){if(fm)return Da;fm=1;var n=Tf(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var _,w={},T=null,S=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(S=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(w[_]=f[_]);if(c&&c.defaultProps)for(_ in f=c.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:t,type:c,key:T,ref:S,props:w,_owner:s.current}}return Da.Fragment=e,Da.jsx=l,Da.jsxs=l,Da}var pm;function qw(){return pm||(pm=1,_d.exports=$w()),_d.exports}var Ct=qw(),ge=Tf();const A_=Hw(ge);var bu={},wd={exports:{}},on={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Kw(){return gm||(gm=1,function(n){function t(it,ft){var st=it.length;it.push(ft);t:for(;0<st;){var F=st-1>>>1,q=it[F];if(0<s(q,ft))it[F]=ft,it[st]=q,st=F;else break t}}function e(it){return it.length===0?null:it[0]}function i(it){if(it.length===0)return null;var ft=it[0],st=it.pop();if(st!==ft){it[0]=st;t:for(var F=0,q=it.length,ct=q>>>1;F<ct;){var _t=2*(F+1)-1,Tt=it[_t],St=_t+1,jt=it[St];if(0>s(Tt,st))St<q&&0>s(jt,Tt)?(it[F]=jt,it[St]=st,F=St):(it[F]=Tt,it[_t]=st,F=_t);else if(St<q&&0>s(jt,st))it[F]=jt,it[St]=st,F=St;else break t}}return ft}function s(it,ft){var st=it.sortIndex-ft.sortIndex;return st!==0?st:it.id-ft.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],_=1,w=null,T=3,S=!1,M=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(it){for(var ft=e(p);ft!==null;){if(ft.callback===null)i(p);else if(ft.startTime<=it)i(p),ft.sortIndex=ft.expirationTime,t(f,ft);else break;ft=e(p)}}function Z(it){if(b=!1,Y(it),!M)if(e(f)!==null)M=!0,Dt(nt);else{var ft=e(p);ft!==null&&It(Z,ft.startTime-it)}}function nt(it,ft){M=!1,b&&(b=!1,z(I),I=-1),S=!0;var st=T;try{for(Y(ft),w=e(f);w!==null&&(!(w.expirationTime>ft)||it&&!V());){var F=w.callback;if(typeof F=="function"){w.callback=null,T=w.priorityLevel;var q=F(w.expirationTime<=ft);ft=n.unstable_now(),typeof q=="function"?w.callback=q:w===e(f)&&i(f),Y(ft)}else i(f);w=e(f)}if(w!==null)var ct=!0;else{var _t=e(p);_t!==null&&It(Z,_t.startTime-ft),ct=!1}return ct}finally{w=null,T=st,S=!1}}var tt=!1,P=null,I=-1,k=5,D=-1;function V(){return!(n.unstable_now()-D<k)}function N(){if(P!==null){var it=n.unstable_now();D=it;var ft=!0;try{ft=P(!0,it)}finally{ft?C():(tt=!1,P=null)}}else tt=!1}var C;if(typeof $=="function")C=function(){$(N)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,kt=Ft.port2;Ft.port1.onmessage=N,C=function(){kt.postMessage(null)}}else C=function(){R(N,0)};function Dt(it){P=it,tt||(tt=!0,C())}function It(it,ft){I=R(function(){it(n.unstable_now())},ft)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(it){it.callback=null},n.unstable_continueExecution=function(){M||S||(M=!0,Dt(nt))},n.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<it?Math.floor(1e3/it):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(it){switch(T){case 1:case 2:case 3:var ft=3;break;default:ft=T}var st=T;T=ft;try{return it()}finally{T=st}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(it,ft){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var st=T;T=it;try{return ft()}finally{T=st}},n.unstable_scheduleCallback=function(it,ft,st){var F=n.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?F+st:F):st=F,it){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=st+q,it={id:_++,callback:ft,priorityLevel:it,startTime:st,expirationTime:q,sortIndex:-1},st>F?(it.sortIndex=st,t(p,it),e(f)===null&&it===e(p)&&(b?(z(I),I=-1):b=!0,It(Z,st-F))):(it.sortIndex=q,t(f,it),M||S||(M=!0,Dt(nt))),it},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(it){var ft=T;return function(){var st=T;T=ft;try{return it.apply(this,arguments)}finally{T=st}}}}(Td)),Td}var mm;function Qw(){return mm||(mm=1,Ed.exports=Kw()),Ed.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Gw(){if(ym)return on;ym=1;var n=Tf(),t=Qw();function e(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function a(r,o){l(r,o),l(r+"Capture",o)}function l(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(r){return f.call(w,r)?!0:f.call(_,r)?!1:p.test(r)?w[r]=!0:(_[r]=!0,!1)}function S(r,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,o,u,d){if(o===null||typeof o>"u"||S(r,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(r,o,u,d,g,y,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=r,this.type=o,this.sanitizeURL=y,this.removeEmptyString=E}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];R[o]=new b(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function $(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(z,$);R[o]=new b(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(z,$);R[o]=new b(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(z,$);R[o]=new b(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,o,u,d){var g=R.hasOwnProperty(o)?R[o]:null;(g!==null?g.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(M(o,u,g,d)&&(u=null),d||g===null?T(o)&&(u===null?r.removeAttribute(o):r.setAttribute(o,""+u)):g.mustUseProperty?r[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,d=g.attributeNamespace,u===null?r.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,d?r.setAttributeNS(d,o,u):r.setAttribute(o,u))))}var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nt=Symbol.for("react.element"),tt=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),It=Symbol.for("react.offscreen"),it=Symbol.iterator;function ft(r){return r===null||typeof r!="object"?null:(r=it&&r[it]||r["@@iterator"],typeof r=="function"?r:null)}var st=Object.assign,F;function q(r){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+r}var ct=!1;function _t(r,o){if(!r||ct)return"";ct=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var d=H}Reflect.construct(r,[],o)}else{try{o.call()}catch(H){d=H}r.call(o.prototype)}else{try{throw Error()}catch(H){d=H}r()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var g=H.stack.split(`
`),y=d.stack.split(`
`),E=g.length-1,A=y.length-1;1<=E&&0<=A&&g[E]!==y[A];)A--;for(;1<=E&&0<=A;E--,A--)if(g[E]!==y[A]){if(E!==1||A!==1)do if(E--,A--,0>A||g[E]!==y[A]){var O=`
`+g[E].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=E&&0<=A);break}}}finally{ct=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?q(r):""}function Tt(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=_t(r.type,!1),r;case 11:return r=_t(r.type.render,!1),r;case 1:return r=_t(r.type,!0),r;default:return""}}function St(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case tt:return"Portal";case k:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case Ft:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case N:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case kt:return o=r.displayName||null,o!==null?o:St(r.type)||"Memo";case Dt:o=r._payload,r=r._init;try{return St(r(o))}catch{}}return null}function jt(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return St(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ut(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qt(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Se(r){var o=Qt(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function fi(r){r._valueTracker||(r._valueTracker=Se(r))}function _s(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=Qt(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function ji(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Rr(r,o){var u=o.checked;return st({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function vs(r,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Ut(o.value!=null?o.value:u),r._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Fo(r,o){o=o.checked,o!=null&&Y(r,"checked",o,!1)}function zo(r,o){Fo(r,o);var u=Ut(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?ws(r,o.type,u):o.hasOwnProperty("defaultValue")&&ws(r,o.type,Ut(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function ml(r,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,u||o===r.value||(r.value=o),r.defaultValue=o}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function ws(r,o,u){(o!=="number"||ji(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var pi=Array.isArray;function gi(r,o,u,d){if(r=r.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=o.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&d&&(r[u].defaultSelected=!0)}else{for(u=""+Ut(u),o=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function Bo(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(e(91));return st({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Es(r,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(e(92));if(pi(u)){if(1<u.length)throw Error(e(93));u=u[0]}o=u}o==null&&(o=""),u=o}r._wrapperState={initialValue:Ut(u)}}function Ts(r,o){var u=Ut(o.value),d=Ut(o.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),o.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),d!=null&&(r.defaultValue=""+d)}function jo(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function me(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ye(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?me(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var mi,Uo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,g){MSApp.execUnsafeLocalFunction(function(){return r(o,u,d,g)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(mi=mi||document.createElement("div"),mi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Ui(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dr=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(r){Dr.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),br[o]=br[r]})});function Ho(r,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||br.hasOwnProperty(r)&&br[r]?(""+o).trim():o+"px"}function Wo(r,o){r=r.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,g=Ho(u,o[u],d);u==="float"&&(u="cssFloat"),d?r.setProperty(u,g):r[u]=g}}var $o=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(r,o){if(o){if($o[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(e(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(e(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(e(61))}if(o.style!=null&&typeof o.style!="object")throw Error(e(62))}}function Ko(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mr=null;function xs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ss=null,yn=null,Gn=null;function Is(r){if(r=ya(r)){if(typeof Ss!="function")throw Error(e(280));var o=r.stateNode;o&&(o=ql(o),Ss(r.stateNode,r.type,o))}}function Yn(r){yn?Gn?Gn.push(r):Gn=[r]:yn=r}function Qo(){if(yn){var r=yn,o=Gn;if(Gn=yn=null,Is(r),o)for(r=0;r<o.length;r++)Is(o[r])}}function Vr(r,o){return r(o)}function Go(){}var yi=!1;function Yo(r,o,u){if(yi)return r(o,u);yi=!0;try{return Vr(r,o,u)}finally{yi=!1,(yn!==null||Gn!==null)&&(Go(),Qo())}}function le(r,o){var u=r.stateNode;if(u===null)return null;var d=ql(u);if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(e(231,o,typeof u));return u}var ks=!1;if(c)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){ks=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{ks=!1}function Or(r,o,u,d,g,y,E,A,O){var H=Array.prototype.slice.call(arguments,3);try{o.apply(u,H)}catch(G){this.onError(G)}}var Nr=!1,As=null,Dn=!1,Xo=null,qc={onError:function(r){Nr=!0,As=r}};function Cs(r,o,u,d,g,y,E,A,O){Nr=!1,As=null,Or.apply(qc,arguments)}function yl(r,o,u,d,g,y,E,A,O){if(Cs.apply(this,arguments),Nr){if(Nr){var H=As;Nr=!1,As=null}else throw Error(e(198));Dn||(Dn=!0,Xo=H)}}function Mn(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function Lr(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Vn(r){if(Mn(r)!==r)throw Error(e(188))}function _l(r){var o=r.alternate;if(!o){if(o=Mn(r),o===null)throw Error(e(188));return o!==r?null:r}for(var u=r,d=o;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return Vn(g),r;if(y===d)return Vn(g),o;y=y.sibling}throw Error(e(188))}if(u.return!==d.return)u=g,d=y;else{for(var E=!1,A=g.child;A;){if(A===u){E=!0,u=g,d=y;break}if(A===d){E=!0,d=g,u=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===u){E=!0,u=y,d=g;break}if(A===d){E=!0,d=y,u=g;break}A=A.sibling}if(!E)throw Error(e(189))}}if(u.alternate!==d)throw Error(e(190))}if(u.tag!==3)throw Error(e(188));return u.stateNode.current===u?r:o}function Jo(r){return r=_l(r),r!==null?Ps(r):null}function Ps(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Ps(r);if(o!==null)return o;r=r.sibling}return null}var Rs=t.unstable_scheduleCallback,Zo=t.unstable_cancelCallback,vl=t.unstable_shouldYield,Kc=t.unstable_requestPaint,Gt=t.unstable_now,wl=t.unstable_getCurrentPriorityLevel,Fr=t.unstable_ImmediatePriority,Hi=t.unstable_UserBlockingPriority,_n=t.unstable_NormalPriority,ta=t.unstable_LowPriority,El=t.unstable_IdlePriority,zr=null,cn=null;function Tl(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(zr,r,void 0,(r.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:Sl,ea=Math.log,xl=Math.LN2;function Sl(r){return r>>>=0,r===0?32:31-(ea(r)/xl|0)|0}var bs=64,Ds=4194304;function Wi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Br(r,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,y=r.pingedLanes,E=u&268435455;if(E!==0){var A=E&~g;A!==0?d=Wi(A):(y&=E,y!==0&&(d=Wi(y)))}else E=u&~g,E!==0?d=Wi(E):y!==0&&(d=Wi(y));if(d===0)return 0;if(o!==0&&o!==d&&!(o&g)&&(g=d&-d,y=o&-o,g>=y||g===16&&(y&4194240)!==0))return o;if(d&4&&(d|=u&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=d;0<o;)u=31-Ke(o),g=1<<u,d|=r[u],o&=~g;return d}function Qc(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Ke(y),A=1<<E,O=g[E];O===-1?(!(A&u)||A&d)&&(g[E]=Qc(A,o)):O<=o&&(r.expiredLanes|=A),y&=~A}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function jr(){var r=bs;return bs<<=1,!(bs&4194240)&&(bs=64),r}function $i(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function qi(r,o,u){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Ke(o),r[o]=u}function Kt(r,o){var u=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<u;){var g=31-Ke(u),y=1<<g;o[g]=0,d[g]=-1,r[g]=-1,u&=~y}}function Ki(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Ke(u),g=1<<d;g&o|r[d]&o&&(r[d]|=o),u&=~g}}var Rt=0;function Qi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Il,Ms,kl,Al,Cl,na=!1,Xn=[],Re=null,On=null,Nn=null,Gi=new Map,vn=new Map,Jn=[],Gc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pl(r,o){switch(r){case"focusin":case"focusout":Re=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(o.pointerId)}}function Je(r,o,u,d,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},o!==null&&(o=ya(o),o!==null&&Ms(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function Yc(r,o,u,d,g){switch(o){case"focusin":return Re=Je(Re,r,o,u,d,g),!0;case"dragenter":return On=Je(On,r,o,u,d,g),!0;case"mouseover":return Nn=Je(Nn,r,o,u,d,g),!0;case"pointerover":var y=g.pointerId;return Gi.set(y,Je(Gi.get(y)||null,r,o,u,d,g)),!0;case"gotpointercapture":return y=g.pointerId,vn.set(y,Je(vn.get(y)||null,r,o,u,d,g)),!0}return!1}function Rl(r){var o=qr(r.target);if(o!==null){var u=Mn(o);if(u!==null){if(o=u.tag,o===13){if(o=Lr(u),o!==null){r.blockedOn=o,Cl(r.priority,function(){kl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vi(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Vs(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);Mr=d,u.target.dispatchEvent(d),Mr=null}else return o=ya(u),o!==null&&Ms(o),r.blockedOn=u,!1;o.shift()}return!0}function Ur(r,o,u){vi(r)&&u.delete(o)}function bl(){na=!1,Re!==null&&vi(Re)&&(Re=null),On!==null&&vi(On)&&(On=null),Nn!==null&&vi(Nn)&&(Nn=null),Gi.forEach(Ur),vn.forEach(Ur)}function Ln(r,o){r.blockedOn===o&&(r.blockedOn=null,na||(na=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bl)))}function Fn(r){function o(g){return Ln(g,r)}if(0<Xn.length){Ln(Xn[0],r);for(var u=1;u<Xn.length;u++){var d=Xn[u];d.blockedOn===r&&(d.blockedOn=null)}}for(Re!==null&&Ln(Re,r),On!==null&&Ln(On,r),Nn!==null&&Ln(Nn,r),Gi.forEach(o),vn.forEach(o),u=0;u<Jn.length;u++)d=Jn[u],d.blockedOn===r&&(d.blockedOn=null);for(;0<Jn.length&&(u=Jn[0],u.blockedOn===null);)Rl(u),u.blockedOn===null&&Jn.shift()}var wi=Z.ReactCurrentBatchConfig,Yi=!0;function ee(r,o,u,d){var g=Rt,y=wi.transition;wi.transition=null;try{Rt=1,ia(r,o,u,d)}finally{Rt=g,wi.transition=y}}function Xc(r,o,u,d){var g=Rt,y=wi.transition;wi.transition=null;try{Rt=4,ia(r,o,u,d)}finally{Rt=g,wi.transition=y}}function ia(r,o,u,d){if(Yi){var g=Vs(r,o,u,d);if(g===null)lh(r,o,d,Hr,u),Pl(r,d);else if(Yc(g,r,o,u,d))d.stopPropagation();else if(Pl(r,d),o&4&&-1<Gc.indexOf(r)){for(;g!==null;){var y=ya(g);if(y!==null&&Il(y),y=Vs(r,o,u,d),y===null&&lh(r,o,d,Hr,u),y===g)break;g=y}g!==null&&d.stopPropagation()}else lh(r,o,d,null,u)}}var Hr=null;function Vs(r,o,u,d){if(Hr=null,r=xs(d),r=qr(r),r!==null)if(o=Mn(r),o===null)r=null;else if(u=o.tag,u===13){if(r=Lr(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return Hr=r,null}function ra(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wl()){case Fr:return 1;case Hi:return 4;case _n:case ta:return 16;case El:return 536870912;default:return 16}default:return 16}}var dn=null,Os=null,Ze=null;function sa(){if(Ze)return Ze;var r,o=Os,u=o.length,d,g="value"in dn?dn.value:dn.textContent,y=g.length;for(r=0;r<u&&o[r]===g[r];r++);var E=u-r;for(d=1;d<=E&&o[u-d]===g[y-d];d++);return Ze=g.slice(r,1<d?1-d:void 0)}function Ns(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Zn(){return!0}function oa(){return!1}function be(r){function o(u,d,g,y,E){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(u=r[A],this[A]=u?u(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Zn:oa,this.isPropagationStopped=oa,this}return st(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),o}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=be(zn),ti=st({},zn,{view:0,detail:0}),Jc=be(ti),Fs,Ei,Xi,Wr=st({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ei,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xi&&(Xi&&r.type==="mousemove"?(Fs=r.screenX-Xi.screenX,Ei=r.screenY-Xi.screenY):Ei=Fs=0,Xi=r),Fs)},movementY:function(r){return"movementY"in r?r.movementY:Ei}}),zs=be(Wr),aa=st({},Wr,{dataTransfer:0}),Dl=be(aa),Bs=st({},ti,{relatedTarget:0}),js=be(Bs),Ml=st({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ti=be(Ml),Vl=st({},zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ol=be(Vl),Nl=st({},zn,{data:0}),la=be(Nl),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fl(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Ll[r])?!!o[r]:!1}function ei(){return Fl}var h=st({},ti,{key:function(r){if(r.key){var o=Us[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qe[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ei,charCode:function(r){return r.type==="keypress"?Ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=be(h),v=st({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=be(v),B=st({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ei}),W=be(B),rt=st({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wt=be(rt),_e=st({},Wr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Mt=be(_e),Ie=[9,13,27,32],de=c&&"CompositionEvent"in window,wn=null;c&&"documentMode"in document&&(wn=document.documentMode);var fn=c&&"TextEvent"in window&&!wn,$r=c&&(!de||wn&&8<wn&&11>=wn),Hs=" ",sp=!1;function op(r,o){switch(r){case"keyup":return Ie.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ws=!1;function Fv(r,o){switch(r){case"compositionend":return ap(o);case"keypress":return o.which!==32?null:(sp=!0,Hs);case"textInput":return r=o.data,r===Hs&&sp?null:r;default:return null}}function zv(r,o){if(Ws)return r==="compositionend"||!de&&op(r,o)?(r=sa(),Ze=Os=dn=null,Ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return $r&&o.locale!=="ko"?null:o.data;default:return null}}var Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Bv[r.type]:o==="textarea"}function up(r,o,u,d){Yn(d),o=Hl(o,"onChange"),0<o.length&&(u=new Ls("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var ua=null,ca=null;function jv(r){Ap(r,0)}function zl(r){var o=Gs(r);if(_s(o))return r}function Uv(r,o){if(r==="change")return o}var cp=!1;if(c){var Zc;if(c){var th="oninput"in document;if(!th){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),th=typeof hp.oninput=="function"}Zc=th}else Zc=!1;cp=Zc&&(!document.documentMode||9<document.documentMode)}function dp(){ua&&(ua.detachEvent("onpropertychange",fp),ca=ua=null)}function fp(r){if(r.propertyName==="value"&&zl(ca)){var o=[];up(o,ca,r,xs(r)),Yo(jv,o)}}function Hv(r,o,u){r==="focusin"?(dp(),ua=o,ca=u,ua.attachEvent("onpropertychange",fp)):r==="focusout"&&dp()}function Wv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zl(ca)}function $v(r,o){if(r==="click")return zl(o)}function qv(r,o){if(r==="input"||r==="change")return zl(o)}function Kv(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Bn=typeof Object.is=="function"?Object.is:Kv;function ha(r,o){if(Bn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!f.call(o,g)||!Bn(r[g],o[g]))return!1}return!0}function pp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function gp(r,o){var u=pp(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=pp(u)}}function mp(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?mp(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function yp(){for(var r=window,o=ji();o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=ji(r.document)}return o}function eh(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function Qv(r){var o=yp(),u=r.focusedElem,d=r.selectionRange;if(o!==u&&u&&u.ownerDocument&&mp(u.ownerDocument.documentElement,u)){if(d!==null&&eh(u)){if(o=d.start,r=d.end,r===void 0&&(r=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(r,u.value.length);else if(r=(o=u.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var g=u.textContent.length,y=Math.min(d.start,g);d=d.end===void 0?y:Math.min(d.end,g),!r.extend&&y>d&&(g=d,d=y,y=g),g=gp(u,y);var E=gp(u,d);g&&E&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),r.removeAllRanges(),y>d?(r.addRange(o),r.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),r.addRange(o)))}}for(o=[],r=u;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)r=o[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Gv=c&&"documentMode"in document&&11>=document.documentMode,$s=null,nh=null,da=null,ih=!1;function _p(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ih||$s==null||$s!==ji(d)||(d=$s,"selectionStart"in d&&eh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),da&&ha(da,d)||(da=d,d=Hl(nh,"onSelect"),0<d.length&&(o=new Ls("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=$s)))}function Bl(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var qs={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},rh={},vp={};c&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function jl(r){if(rh[r])return rh[r];if(!qs[r])return r;var o=qs[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in vp)return rh[r]=o[u];return r}var wp=jl("animationend"),Ep=jl("animationiteration"),Tp=jl("animationstart"),xp=jl("transitionend"),Sp=new Map,Ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(r,o){Sp.set(r,o),a(o,[r])}for(var sh=0;sh<Ip.length;sh++){var oh=Ip[sh],Yv=oh.toLowerCase(),Xv=oh[0].toUpperCase()+oh.slice(1);Ji(Yv,"on"+Xv)}Ji(wp,"onAnimationEnd"),Ji(Ep,"onAnimationIteration"),Ji(Tp,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(xp,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function kp(r,o,u){var d=r.type||"unknown-event";r.currentTarget=u,yl(d,o,void 0,r),r.currentTarget=null}function Ap(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],g=d.event;d=d.listeners;t:{var y=void 0;if(o)for(var E=d.length-1;0<=E;E--){var A=d[E],O=A.instance,H=A.currentTarget;if(A=A.listener,O!==y&&g.isPropagationStopped())break t;kp(g,A,H),y=O}else for(E=0;E<d.length;E++){if(A=d[E],O=A.instance,H=A.currentTarget,A=A.listener,O!==y&&g.isPropagationStopped())break t;kp(g,A,H),y=O}}}if(Dn)throw r=Xo,Dn=!1,Xo=null,r}function Xt(r,o){var u=o[ph];u===void 0&&(u=o[ph]=new Set);var d=r+"__bubble";u.has(d)||(Cp(o,r,2,!1),u.add(d))}function ah(r,o,u){var d=0;o&&(d|=4),Cp(u,r,d,o)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function pa(r){if(!r[Ul]){r[Ul]=!0,i.forEach(function(u){u!=="selectionchange"&&(Jv.has(u)||ah(u,!1,r),ah(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Ul]||(o[Ul]=!0,ah("selectionchange",!1,o))}}function Cp(r,o,u,d){switch(ra(o)){case 1:var g=ee;break;case 4:g=Xc;break;default:g=ia}u=g.bind(null,o,u,r),g=void 0,!ks||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(o,u,{capture:!0,passive:g}):r.addEventListener(o,u,!0):g!==void 0?r.addEventListener(o,u,{passive:g}):r.addEventListener(o,u,!1)}function lh(r,o,u,d,g){var y=d;if(!(o&1)&&!(o&2)&&d!==null)t:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(E===4)for(E=d.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;E=E.return}for(;A!==null;){if(E=qr(A),E===null)return;if(O=E.tag,O===5||O===6){d=y=E;continue t}A=A.parentNode}}d=d.return}Yo(function(){var H=y,G=xs(u),X=[];t:{var Q=Sp.get(r);if(Q!==void 0){var ot=Ls,ut=r;switch(r){case"keypress":if(Ns(u)===0)break t;case"keydown":case"keyup":ot=m;break;case"focusin":ut="focus",ot=js;break;case"focusout":ut="blur",ot=js;break;case"beforeblur":case"afterblur":ot=js;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=W;break;case wp:case Ep:case Tp:ot=Ti;break;case xp:ot=Wt;break;case"scroll":ot=Jc;break;case"wheel":ot=Mt;break;case"copy":case"cut":case"paste":ot=Ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=x}var ht=(o&4)!==0,ue=!ht&&r==="scroll",j=ht?Q!==null?Q+"Capture":null:Q;ht=[];for(var L=H,U;L!==null;){U=L;var et=U.stateNode;if(U.tag===5&&et!==null&&(U=et,j!==null&&(et=le(L,j),et!=null&&ht.push(ga(L,et,U)))),ue)break;L=L.return}0<ht.length&&(Q=new ot(Q,ut,null,u,G),X.push({event:Q,listeners:ht}))}}if(!(o&7)){t:{if(Q=r==="mouseover"||r==="pointerover",ot=r==="mouseout"||r==="pointerout",Q&&u!==Mr&&(ut=u.relatedTarget||u.fromElement)&&(qr(ut)||ut[xi]))break t;if((ot||Q)&&(Q=G.window===G?G:(Q=G.ownerDocument)?Q.defaultView||Q.parentWindow:window,ot?(ut=u.relatedTarget||u.toElement,ot=H,ut=ut?qr(ut):null,ut!==null&&(ue=Mn(ut),ut!==ue||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(ot=null,ut=H),ot!==ut)){if(ht=zs,et="onMouseLeave",j="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(ht=x,et="onPointerLeave",j="onPointerEnter",L="pointer"),ue=ot==null?Q:Gs(ot),U=ut==null?Q:Gs(ut),Q=new ht(et,L+"leave",ot,u,G),Q.target=ue,Q.relatedTarget=U,et=null,qr(G)===H&&(ht=new ht(j,L+"enter",ut,u,G),ht.target=U,ht.relatedTarget=ue,et=ht),ue=et,ot&&ut)e:{for(ht=ot,j=ut,L=0,U=ht;U;U=Ks(U))L++;for(U=0,et=j;et;et=Ks(et))U++;for(;0<L-U;)ht=Ks(ht),L--;for(;0<U-L;)j=Ks(j),U--;for(;L--;){if(ht===j||j!==null&&ht===j.alternate)break e;ht=Ks(ht),j=Ks(j)}ht=null}else ht=null;ot!==null&&Pp(X,Q,ot,ht,!1),ut!==null&&ue!==null&&Pp(X,ue,ut,ht,!0)}}t:{if(Q=H?Gs(H):window,ot=Q.nodeName&&Q.nodeName.toLowerCase(),ot==="select"||ot==="input"&&Q.type==="file")var dt=Uv;else if(lp(Q))if(cp)dt=qv;else{dt=Wv;var gt=Hv}else(ot=Q.nodeName)&&ot.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(dt=$v);if(dt&&(dt=dt(r,H))){up(X,dt,u,G);break t}gt&&gt(r,Q,H),r==="focusout"&&(gt=Q._wrapperState)&&gt.controlled&&Q.type==="number"&&ws(Q,"number",Q.value)}switch(gt=H?Gs(H):window,r){case"focusin":(lp(gt)||gt.contentEditable==="true")&&($s=gt,nh=H,da=null);break;case"focusout":da=nh=$s=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,_p(X,u,G);break;case"selectionchange":if(Gv)break;case"keydown":case"keyup":_p(X,u,G)}var mt;if(de)t:{switch(r){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Ws?op(r,u)&&(vt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(vt="onCompositionStart");vt&&($r&&u.locale!=="ko"&&(Ws||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Ws&&(mt=sa()):(dn=G,Os="value"in dn?dn.value:dn.textContent,Ws=!0)),gt=Hl(H,vt),0<gt.length&&(vt=new la(vt,r,null,u,G),X.push({event:vt,listeners:gt}),mt?vt.data=mt:(mt=ap(u),mt!==null&&(vt.data=mt)))),(mt=fn?Fv(r,u):zv(r,u))&&(H=Hl(H,"onBeforeInput"),0<H.length&&(G=new la("onBeforeInput","beforeinput",null,u,G),X.push({event:G,listeners:H}),G.data=mt))}Ap(X,o)})}function ga(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Hl(r,o){for(var u=o+"Capture",d=[];r!==null;){var g=r,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=le(r,u),y!=null&&d.unshift(ga(r,y,g)),y=le(r,o),y!=null&&d.push(ga(r,y,g))),r=r.return}return d}function Ks(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Pp(r,o,u,d,g){for(var y=o._reactName,E=[];u!==null&&u!==d;){var A=u,O=A.alternate,H=A.stateNode;if(O!==null&&O===d)break;A.tag===5&&H!==null&&(A=H,g?(O=le(u,y),O!=null&&E.unshift(ga(u,O,A))):g||(O=le(u,y),O!=null&&E.push(ga(u,O,A)))),u=u.return}E.length!==0&&r.push({event:o,listeners:E})}var Zv=/\r\n?/g,tw=/\u0000|\uFFFD/g;function Rp(r){return(typeof r=="string"?r:""+r).replace(Zv,`
`).replace(tw,"")}function Wl(r,o,u){if(o=Rp(o),Rp(r)!==o&&u)throw Error(e(425))}function $l(){}var uh=null,ch=null;function hh(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,nw=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(r){return bp.resolve(null).then(r).catch(iw)}:dh;function iw(r){setTimeout(function(){throw r})}function fh(r,o){var u=o,d=0;do{var g=u.nextSibling;if(r.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(d===0){r.removeChild(g),Fn(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=g}while(u);Fn(o)}function Zi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Dp(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),ni="__reactFiber$"+Qs,ma="__reactProps$"+Qs,xi="__reactContainer$"+Qs,ph="__reactEvents$"+Qs,rw="__reactListeners$"+Qs,sw="__reactHandles$"+Qs;function qr(r){var o=r[ni];if(o)return o;for(var u=r.parentNode;u;){if(o=u[xi]||u[ni]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Dp(r);r!==null;){if(u=r[ni])return u;r=Dp(r)}return o}r=u,u=r.parentNode}return null}function ya(r){return r=r[ni]||r[xi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Gs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(e(33))}function ql(r){return r[ma]||null}var gh=[],Ys=-1;function tr(r){return{current:r}}function Jt(r){0>Ys||(r.current=gh[Ys],gh[Ys]=null,Ys--)}function Yt(r,o){Ys++,gh[Ys]=r.current,r.current=o}var er={},Ne=tr(er),tn=tr(!1),Kr=er;function Xs(r,o){var u=r.type.contextTypes;if(!u)return er;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=o[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=g),g}function en(r){return r=r.childContextTypes,r!=null}function Kl(){Jt(tn),Jt(Ne)}function Mp(r,o,u){if(Ne.current!==er)throw Error(e(168));Yt(Ne,o),Yt(tn,u)}function Vp(r,o,u){var d=r.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var g in d)if(!(g in o))throw Error(e(108,jt(r)||"Unknown",g));return st({},u,d)}function Ql(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||er,Kr=Ne.current,Yt(Ne,r),Yt(tn,tn.current),!0}function Op(r,o,u){var d=r.stateNode;if(!d)throw Error(e(169));u?(r=Vp(r,o,Kr),d.__reactInternalMemoizedMergedChildContext=r,Jt(tn),Jt(Ne),Yt(Ne,r)):Jt(tn),Yt(tn,u)}var Si=null,Gl=!1,mh=!1;function Np(r){Si===null?Si=[r]:Si.push(r)}function ow(r){Gl=!0,Np(r)}function nr(){if(!mh&&Si!==null){mh=!0;var r=0,o=Rt;try{var u=Si;for(Rt=1;r<u.length;r++){var d=u[r];do d=d(!0);while(d!==null)}Si=null,Gl=!1}catch(g){throw Si!==null&&(Si=Si.slice(r+1)),Rs(Fr,nr),g}finally{Rt=o,mh=!1}}return null}var Js=[],Zs=0,Yl=null,Xl=0,En=[],Tn=0,Qr=null,Ii=1,ki="";function Gr(r,o){Js[Zs++]=Xl,Js[Zs++]=Yl,Yl=r,Xl=o}function Lp(r,o,u){En[Tn++]=Ii,En[Tn++]=ki,En[Tn++]=Qr,Qr=r;var d=Ii;r=ki;var g=32-Ke(d)-1;d&=~(1<<g),u+=1;var y=32-Ke(o)+g;if(30<y){var E=g-g%5;y=(d&(1<<E)-1).toString(32),d>>=E,g-=E,Ii=1<<32-Ke(o)+g|u<<g|d,ki=y+r}else Ii=1<<y|u<<g|d,ki=r}function yh(r){r.return!==null&&(Gr(r,1),Lp(r,1,0))}function _h(r){for(;r===Yl;)Yl=Js[--Zs],Js[Zs]=null,Xl=Js[--Zs],Js[Zs]=null;for(;r===Qr;)Qr=En[--Tn],En[Tn]=null,ki=En[--Tn],En[Tn]=null,Ii=En[--Tn],En[Tn]=null}var pn=null,gn=null,ne=!1,jn=null;function Fp(r,o){var u=kn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=r,o=r.deletions,o===null?(r.deletions=[u],r.flags|=16):o.push(u)}function zp(r,o){switch(r.tag){case 5:var u=r.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,pn=r,gn=Zi(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,pn=r,gn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Qr!==null?{id:Ii,overflow:ki}:null,r.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=kn(18,null,null,0),u.stateNode=o,u.return=r,r.child=u,pn=r,gn=null,!0):!1;default:return!1}}function vh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function wh(r){if(ne){var o=gn;if(o){var u=o;if(!zp(r,o)){if(vh(r))throw Error(e(418));o=Zi(u.nextSibling);var d=pn;o&&zp(r,o)?Fp(d,u):(r.flags=r.flags&-4097|2,ne=!1,pn=r)}}else{if(vh(r))throw Error(e(418));r.flags=r.flags&-4097|2,ne=!1,pn=r}}}function Bp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function Jl(r){if(r!==pn)return!1;if(!ne)return Bp(r),ne=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!hh(r.type,r.memoizedProps)),o&&(o=gn)){if(vh(r))throw jp(),Error(e(418));for(;o;)Fp(r,o),o=Zi(o.nextSibling)}if(Bp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(e(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(o===0){gn=Zi(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}r=r.nextSibling}gn=null}}else gn=pn?Zi(r.stateNode.nextSibling):null;return!0}function jp(){for(var r=gn;r;)r=Zi(r.nextSibling)}function to(){gn=pn=null,ne=!1}function Eh(r){jn===null?jn=[r]:jn.push(r)}var aw=Z.ReactCurrentBatchConfig;function _a(r,o,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(e(309));var d=u.stateNode}if(!d)throw Error(e(147,r));var g=d,y=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(E){var A=g.refs;E===null?delete A[y]:A[y]=E},o._stringRef=y,o)}if(typeof r!="string")throw Error(e(284));if(!u._owner)throw Error(e(290,r))}return r}function Zl(r,o){throw r=Object.prototype.toString.call(o),Error(e(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Up(r){var o=r._init;return o(r._payload)}function Hp(r){function o(j,L){if(r){var U=j.deletions;U===null?(j.deletions=[L],j.flags|=16):U.push(L)}}function u(j,L){if(!r)return null;for(;L!==null;)o(j,L),L=L.sibling;return null}function d(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function g(j,L){return j=cr(j,L),j.index=0,j.sibling=null,j}function y(j,L,U){return j.index=U,r?(U=j.alternate,U!==null?(U=U.index,U<L?(j.flags|=2,L):U):(j.flags|=2,L)):(j.flags|=1048576,L)}function E(j){return r&&j.alternate===null&&(j.flags|=2),j}function A(j,L,U,et){return L===null||L.tag!==6?(L=dd(U,j.mode,et),L.return=j,L):(L=g(L,U),L.return=j,L)}function O(j,L,U,et){var dt=U.type;return dt===P?G(j,L,U.props.children,et,U.key):L!==null&&(L.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Dt&&Up(dt)===L.type)?(et=g(L,U.props),et.ref=_a(j,L,U),et.return=j,et):(et=xu(U.type,U.key,U.props,null,j.mode,et),et.ref=_a(j,L,U),et.return=j,et)}function H(j,L,U,et){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=fd(U,j.mode,et),L.return=j,L):(L=g(L,U.children||[]),L.return=j,L)}function G(j,L,U,et,dt){return L===null||L.tag!==7?(L=is(U,j.mode,et,dt),L.return=j,L):(L=g(L,U),L.return=j,L)}function X(j,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return L=dd(""+L,j.mode,U),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case nt:return U=xu(L.type,L.key,L.props,null,j.mode,U),U.ref=_a(j,null,L),U.return=j,U;case tt:return L=fd(L,j.mode,U),L.return=j,L;case Dt:var et=L._init;return X(j,et(L._payload),U)}if(pi(L)||ft(L))return L=is(L,j.mode,U,null),L.return=j,L;Zl(j,L)}return null}function Q(j,L,U,et){var dt=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return dt!==null?null:A(j,L,""+U,et);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case nt:return U.key===dt?O(j,L,U,et):null;case tt:return U.key===dt?H(j,L,U,et):null;case Dt:return dt=U._init,Q(j,L,dt(U._payload),et)}if(pi(U)||ft(U))return dt!==null?null:G(j,L,U,et,null);Zl(j,U)}return null}function ot(j,L,U,et,dt){if(typeof et=="string"&&et!==""||typeof et=="number")return j=j.get(U)||null,A(L,j,""+et,dt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case nt:return j=j.get(et.key===null?U:et.key)||null,O(L,j,et,dt);case tt:return j=j.get(et.key===null?U:et.key)||null,H(L,j,et,dt);case Dt:var gt=et._init;return ot(j,L,U,gt(et._payload),dt)}if(pi(et)||ft(et))return j=j.get(U)||null,G(L,j,et,dt,null);Zl(L,et)}return null}function ut(j,L,U,et){for(var dt=null,gt=null,mt=L,vt=L=0,Ce=null;mt!==null&&vt<U.length;vt++){mt.index>vt?(Ce=mt,mt=null):Ce=mt.sibling;var zt=Q(j,mt,U[vt],et);if(zt===null){mt===null&&(mt=Ce);break}r&&mt&&zt.alternate===null&&o(j,mt),L=y(zt,L,vt),gt===null?dt=zt:gt.sibling=zt,gt=zt,mt=Ce}if(vt===U.length)return u(j,mt),ne&&Gr(j,vt),dt;if(mt===null){for(;vt<U.length;vt++)mt=X(j,U[vt],et),mt!==null&&(L=y(mt,L,vt),gt===null?dt=mt:gt.sibling=mt,gt=mt);return ne&&Gr(j,vt),dt}for(mt=d(j,mt);vt<U.length;vt++)Ce=ot(mt,j,vt,U[vt],et),Ce!==null&&(r&&Ce.alternate!==null&&mt.delete(Ce.key===null?vt:Ce.key),L=y(Ce,L,vt),gt===null?dt=Ce:gt.sibling=Ce,gt=Ce);return r&&mt.forEach(function(hr){return o(j,hr)}),ne&&Gr(j,vt),dt}function ht(j,L,U,et){var dt=ft(U);if(typeof dt!="function")throw Error(e(150));if(U=dt.call(U),U==null)throw Error(e(151));for(var gt=dt=null,mt=L,vt=L=0,Ce=null,zt=U.next();mt!==null&&!zt.done;vt++,zt=U.next()){mt.index>vt?(Ce=mt,mt=null):Ce=mt.sibling;var hr=Q(j,mt,zt.value,et);if(hr===null){mt===null&&(mt=Ce);break}r&&mt&&hr.alternate===null&&o(j,mt),L=y(hr,L,vt),gt===null?dt=hr:gt.sibling=hr,gt=hr,mt=Ce}if(zt.done)return u(j,mt),ne&&Gr(j,vt),dt;if(mt===null){for(;!zt.done;vt++,zt=U.next())zt=X(j,zt.value,et),zt!==null&&(L=y(zt,L,vt),gt===null?dt=zt:gt.sibling=zt,gt=zt);return ne&&Gr(j,vt),dt}for(mt=d(j,mt);!zt.done;vt++,zt=U.next())zt=ot(mt,j,vt,zt.value,et),zt!==null&&(r&&zt.alternate!==null&&mt.delete(zt.key===null?vt:zt.key),L=y(zt,L,vt),gt===null?dt=zt:gt.sibling=zt,gt=zt);return r&&mt.forEach(function(Bw){return o(j,Bw)}),ne&&Gr(j,vt),dt}function ue(j,L,U,et){if(typeof U=="object"&&U!==null&&U.type===P&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case nt:t:{for(var dt=U.key,gt=L;gt!==null;){if(gt.key===dt){if(dt=U.type,dt===P){if(gt.tag===7){u(j,gt.sibling),L=g(gt,U.props.children),L.return=j,j=L;break t}}else if(gt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===Dt&&Up(dt)===gt.type){u(j,gt.sibling),L=g(gt,U.props),L.ref=_a(j,gt,U),L.return=j,j=L;break t}u(j,gt);break}else o(j,gt);gt=gt.sibling}U.type===P?(L=is(U.props.children,j.mode,et,U.key),L.return=j,j=L):(et=xu(U.type,U.key,U.props,null,j.mode,et),et.ref=_a(j,L,U),et.return=j,j=et)}return E(j);case tt:t:{for(gt=U.key;L!==null;){if(L.key===gt)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){u(j,L.sibling),L=g(L,U.children||[]),L.return=j,j=L;break t}else{u(j,L);break}else o(j,L);L=L.sibling}L=fd(U,j.mode,et),L.return=j,j=L}return E(j);case Dt:return gt=U._init,ue(j,L,gt(U._payload),et)}if(pi(U))return ut(j,L,U,et);if(ft(U))return ht(j,L,U,et);Zl(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,L!==null&&L.tag===6?(u(j,L.sibling),L=g(L,U),L.return=j,j=L):(u(j,L),L=dd(U,j.mode,et),L.return=j,j=L),E(j)):u(j,L)}return ue}var eo=Hp(!0),Wp=Hp(!1),tu=tr(null),eu=null,no=null,Th=null;function xh(){Th=no=eu=null}function Sh(r){var o=tu.current;Jt(tu),r._currentValue=o}function Ih(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function io(r,o){eu=r,Th=no=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(nn=!0),r.firstContext=null)}function xn(r){var o=r._currentValue;if(Th!==r)if(r={context:r,memoizedValue:o,next:null},no===null){if(eu===null)throw Error(e(308));no=r,eu.dependencies={lanes:0,firstContext:r}}else no=no.next=r;return o}var Yr=null;function kh(r){Yr===null?Yr=[r]:Yr.push(r)}function $p(r,o,u,d){var g=o.interleaved;return g===null?(u.next=u,kh(o)):(u.next=g.next,g.next=u),o.interleaved=u,Ai(r,d)}function Ai(r,o){r.lanes|=o;var u=r.alternate;for(u!==null&&(u.lanes|=o),u=r,r=r.return;r!==null;)r.childLanes|=o,u=r.alternate,u!==null&&(u.childLanes|=o),u=r,r=r.return;return u.tag===3?u.stateNode:null}var ir=!1;function Ah(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ci(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function rr(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,Nt&2){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,Ai(r,u)}return g=d.interleaved,g===null?(o.next=o,kh(d)):(o.next=g.next,g.next=o),d.interleaved=o,Ai(r,u)}function nu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ki(r,u)}}function Kp(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=E:y=y.next=E,u=u.next}while(u!==null);y===null?g=y=o:y=y.next=o}else g=y=o;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}function iu(r,o,u,d){var g=r.updateQueue;ir=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var O=A,H=O.next;O.next=null,E===null?y=H:E.next=H,E=O;var G=r.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==E&&(A===null?G.firstBaseUpdate=H:A.next=H,G.lastBaseUpdate=O))}if(y!==null){var X=g.baseState;E=0,G=H=O=null,A=y;do{var Q=A.lane,ot=A.eventTime;if((d&Q)===Q){G!==null&&(G=G.next={eventTime:ot,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});t:{var ut=r,ht=A;switch(Q=o,ot=u,ht.tag){case 1:if(ut=ht.payload,typeof ut=="function"){X=ut.call(ot,X,Q);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ht.payload,Q=typeof ut=="function"?ut.call(ot,X,Q):ut,Q==null)break t;X=st({},X,Q);break t;case 2:ir=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,Q=g.effects,Q===null?g.effects=[A]:Q.push(A))}else ot={eventTime:ot,lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(H=G=ot,O=X):G=G.next=ot,E|=Q;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);if(G===null&&(O=X),g.baseState=O,g.firstBaseUpdate=H,g.lastBaseUpdate=G,o=g.shared.interleaved,o!==null){g=o;do E|=g.lane,g=g.next;while(g!==o)}else y===null&&(g.shared.lanes=0);Zr|=E,r.lanes=E,r.memoizedState=X}}function Qp(r,o,u){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var d=r[o],g=d.callback;if(g!==null){if(d.callback=null,d=u,typeof g!="function")throw Error(e(191,g));g.call(d)}}}var va={},ii=tr(va),wa=tr(va),Ea=tr(va);function Xr(r){if(r===va)throw Error(e(174));return r}function Ch(r,o){switch(Yt(Ea,o),Yt(wa,r),Yt(ii,va),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ye(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=ye(o,r)}Jt(ii),Yt(ii,o)}function ro(){Jt(ii),Jt(wa),Jt(Ea)}function Gp(r){Xr(Ea.current);var o=Xr(ii.current),u=ye(o,r.type);o!==u&&(Yt(wa,r),Yt(ii,u))}function Ph(r){wa.current===r&&(Jt(ii),Jt(wa))}var re=tr(0);function ru(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Rh=[];function bh(){for(var r=0;r<Rh.length;r++)Rh[r]._workInProgressVersionPrimary=null;Rh.length=0}var su=Z.ReactCurrentDispatcher,Dh=Z.ReactCurrentBatchConfig,Jr=0,se=null,ve=null,ke=null,ou=!1,Ta=!1,xa=0,lw=0;function Le(){throw Error(e(321))}function Mh(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Bn(r[u],o[u]))return!1;return!0}function Vh(r,o,u,d,g,y){if(Jr=y,se=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,su.current=r===null||r.memoizedState===null?dw:fw,r=u(d,g),Ta){y=0;do{if(Ta=!1,xa=0,25<=y)throw Error(e(301));y+=1,ke=ve=null,o.updateQueue=null,su.current=pw,r=u(d,g)}while(Ta)}if(su.current=uu,o=ve!==null&&ve.next!==null,Jr=0,ke=ve=se=null,ou=!1,o)throw Error(e(300));return r}function Oh(){var r=xa!==0;return xa=0,r}function ri(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?se.memoizedState=ke=r:ke=ke.next=r,ke}function Sn(){if(ve===null){var r=se.alternate;r=r!==null?r.memoizedState:null}else r=ve.next;var o=ke===null?se.memoizedState:ke.next;if(o!==null)ke=o,ve=r;else{if(r===null)throw Error(e(310));ve=r,r={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},ke===null?se.memoizedState=ke=r:ke=ke.next=r}return ke}function Sa(r,o){return typeof o=="function"?o(r):o}function Nh(r){var o=Sn(),u=o.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=r;var d=ve,g=d.baseQueue,y=u.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}d.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,d=d.baseState;var A=E=null,O=null,H=y;do{var G=H.lane;if((Jr&G)===G)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:r(d,H.action);else{var X={lane:G,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(A=O=X,E=d):O=O.next=X,se.lanes|=G,Zr|=G}H=H.next}while(H!==null&&H!==y);O===null?E=d:O.next=A,Bn(d,o.memoizedState)||(nn=!0),o.memoizedState=d,o.baseState=E,o.baseQueue=O,u.lastRenderedState=d}if(r=u.interleaved,r!==null){g=r;do y=g.lane,se.lanes|=y,Zr|=y,g=g.next;while(g!==r)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Lh(r){var o=Sn(),u=o.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=r;var d=u.dispatch,g=u.pending,y=o.memoizedState;if(g!==null){u.pending=null;var E=g=g.next;do y=r(y,E.action),E=E.next;while(E!==g);Bn(y,o.memoizedState)||(nn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,d]}function Yp(){}function Xp(r,o){var u=se,d=Sn(),g=o(),y=!Bn(d.memoizedState,g);if(y&&(d.memoizedState=g,nn=!0),d=d.queue,Fh(tg.bind(null,u,d,r),[r]),d.getSnapshot!==o||y||ke!==null&&ke.memoizedState.tag&1){if(u.flags|=2048,Ia(9,Zp.bind(null,u,d,g,o),void 0,null),Ae===null)throw Error(e(349));Jr&30||Jp(u,o,g)}return g}function Jp(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=se.updateQueue,o===null?(o={lastEffect:null,stores:null},se.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Zp(r,o,u,d){o.value=u,o.getSnapshot=d,eg(o)&&ng(r)}function tg(r,o,u){return u(function(){eg(o)&&ng(r)})}function eg(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Bn(r,u)}catch{return!0}}function ng(r){var o=Ai(r,1);o!==null&&$n(o,r,1,-1)}function ig(r){var o=ri();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:r},o.queue=r,r=r.dispatch=hw.bind(null,se,r),[o.memoizedState,r]}function Ia(r,o,u,d){return r={tag:r,create:o,destroy:u,deps:d,next:null},o=se.updateQueue,o===null?(o={lastEffect:null,stores:null},se.updateQueue=o,o.lastEffect=r.next=r):(u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r)),r}function rg(){return Sn().memoizedState}function au(r,o,u,d){var g=ri();se.flags|=r,g.memoizedState=Ia(1|o,u,void 0,d===void 0?null:d)}function lu(r,o,u,d){var g=Sn();d=d===void 0?null:d;var y=void 0;if(ve!==null){var E=ve.memoizedState;if(y=E.destroy,d!==null&&Mh(d,E.deps)){g.memoizedState=Ia(o,u,y,d);return}}se.flags|=r,g.memoizedState=Ia(1|o,u,y,d)}function sg(r,o){return au(8390656,8,r,o)}function Fh(r,o){return lu(2048,8,r,o)}function og(r,o){return lu(4,2,r,o)}function ag(r,o){return lu(4,4,r,o)}function lg(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function ug(r,o,u){return u=u!=null?u.concat([r]):null,lu(4,4,lg.bind(null,o,r),u)}function zh(){}function cg(r,o){var u=Sn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Mh(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function hg(r,o){var u=Sn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Mh(o,d[1])?d[0]:(r=r(),u.memoizedState=[r,o],r)}function dg(r,o,u){return Jr&21?(Bn(u,o)||(u=jr(),se.lanes|=u,Zr|=u,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,nn=!0),r.memoizedState=u)}function uw(r,o){var u=Rt;Rt=u!==0&&4>u?u:4,r(!0);var d=Dh.transition;Dh.transition={};try{r(!1),o()}finally{Rt=u,Dh.transition=d}}function fg(){return Sn().memoizedState}function cw(r,o,u){var d=lr(r);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},pg(r))gg(o,u);else if(u=$p(r,o,u,d),u!==null){var g=Ye();$n(u,r,d,g),mg(u,o,d)}}function hw(r,o,u){var d=lr(r),g={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(pg(r))gg(o,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,A=y(E,u);if(g.hasEagerState=!0,g.eagerState=A,Bn(A,E)){var O=o.interleaved;O===null?(g.next=g,kh(o)):(g.next=O.next,O.next=g),o.interleaved=g;return}}catch{}finally{}u=$p(r,o,g,d),u!==null&&(g=Ye(),$n(u,r,d,g),mg(u,o,d))}}function pg(r){var o=r.alternate;return r===se||o!==null&&o===se}function gg(r,o){Ta=ou=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function mg(r,o,u){if(u&4194240){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ki(r,u)}}var uu={readContext:xn,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},dw={readContext:xn,useCallback:function(r,o){return ri().memoizedState=[r,o===void 0?null:o],r},useContext:xn,useEffect:sg,useImperativeHandle:function(r,o,u){return u=u!=null?u.concat([r]):null,au(4194308,4,lg.bind(null,o,r),u)},useLayoutEffect:function(r,o){return au(4194308,4,r,o)},useInsertionEffect:function(r,o){return au(4,2,r,o)},useMemo:function(r,o){var u=ri();return o=o===void 0?null:o,r=r(),u.memoizedState=[r,o],r},useReducer:function(r,o,u){var d=ri();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},d.queue=r,r=r.dispatch=cw.bind(null,se,r),[d.memoizedState,r]},useRef:function(r){var o=ri();return r={current:r},o.memoizedState=r},useState:ig,useDebugValue:zh,useDeferredValue:function(r){return ri().memoizedState=r},useTransition:function(){var r=ig(!1),o=r[0];return r=uw.bind(null,r[1]),ri().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,u){var d=se,g=ri();if(ne){if(u===void 0)throw Error(e(407));u=u()}else{if(u=o(),Ae===null)throw Error(e(349));Jr&30||Jp(d,o,u)}g.memoizedState=u;var y={value:u,getSnapshot:o};return g.queue=y,sg(tg.bind(null,d,y,r),[r]),d.flags|=2048,Ia(9,Zp.bind(null,d,y,u,o),void 0,null),u},useId:function(){var r=ri(),o=Ae.identifierPrefix;if(ne){var u=ki,d=Ii;u=(d&~(1<<32-Ke(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=xa++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=lw++,o=":"+o+"r"+u.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},fw={readContext:xn,useCallback:cg,useContext:xn,useEffect:Fh,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:Nh,useRef:rg,useState:function(){return Nh(Sa)},useDebugValue:zh,useDeferredValue:function(r){var o=Sn();return dg(o,ve.memoizedState,r)},useTransition:function(){var r=Nh(Sa)[0],o=Sn().memoizedState;return[r,o]},useMutableSource:Yp,useSyncExternalStore:Xp,useId:fg,unstable_isNewReconciler:!1},pw={readContext:xn,useCallback:cg,useContext:xn,useEffect:Fh,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:Lh,useRef:rg,useState:function(){return Lh(Sa)},useDebugValue:zh,useDeferredValue:function(r){var o=Sn();return ve===null?o.memoizedState=r:dg(o,ve.memoizedState,r)},useTransition:function(){var r=Lh(Sa)[0],o=Sn().memoizedState;return[r,o]},useMutableSource:Yp,useSyncExternalStore:Xp,useId:fg,unstable_isNewReconciler:!1};function Un(r,o){if(r&&r.defaultProps){o=st({},o),r=r.defaultProps;for(var u in r)o[u]===void 0&&(o[u]=r[u]);return o}return o}function Bh(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:st({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var cu={isMounted:function(r){return(r=r._reactInternals)?Mn(r)===r:!1},enqueueSetState:function(r,o,u){r=r._reactInternals;var d=Ye(),g=lr(r),y=Ci(d,g);y.payload=o,u!=null&&(y.callback=u),o=rr(r,y,g),o!==null&&($n(o,r,g,d),nu(o,r,g))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=Ye(),g=lr(r),y=Ci(d,g);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=rr(r,y,g),o!==null&&($n(o,r,g,d),nu(o,r,g))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Ye(),d=lr(r),g=Ci(u,d);g.tag=2,o!=null&&(g.callback=o),o=rr(r,g,d),o!==null&&($n(o,r,d,u),nu(o,r,d))}};function yg(r,o,u,d,g,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,E):o.prototype&&o.prototype.isPureReactComponent?!ha(u,d)||!ha(g,y):!0}function _g(r,o,u){var d=!1,g=er,y=o.contextType;return typeof y=="object"&&y!==null?y=xn(y):(g=en(o)?Kr:Ne.current,d=o.contextTypes,y=(d=d!=null)?Xs(r,g):er),o=new o(u,y),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=cu,r.stateNode=o,o._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=y),o}function vg(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&cu.enqueueReplaceState(o,o.state,null)}function jh(r,o,u,d){var g=r.stateNode;g.props=u,g.state=r.memoizedState,g.refs={},Ah(r);var y=o.contextType;typeof y=="object"&&y!==null?g.context=xn(y):(y=en(o)?Kr:Ne.current,g.context=Xs(r,y)),g.state=r.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Bh(r,o,y,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&cu.enqueueReplaceState(g,g.state,null),iu(r,u,g,d),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function so(r,o){try{var u="",d=o;do u+=Tt(d),d=d.return;while(d);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:o,stack:g,digest:null}}function Uh(r,o,u){return{value:r,source:null,stack:u??null,digest:o??null}}function Hh(r,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var gw=typeof WeakMap=="function"?WeakMap:Map;function wg(r,o,u){u=Ci(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){yu||(yu=!0,rd=d),Hh(r,o)},u}function Eg(r,o,u){u=Ci(-1,u),u.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;u.payload=function(){return d(g)},u.callback=function(){Hh(r,o)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Hh(r,o),typeof d!="function"&&(or===null?or=new Set([this]):or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function Tg(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new gw;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(u)||(g.add(u),r=Pw.bind(null,r,o,u),o.then(r,r))}function xg(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Sg(r,o,u,d,g){return r.mode&1?(r.flags|=65536,r.lanes=g,r):(r===o?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Ci(-1,1),o.tag=2,rr(u,o,1))),u.lanes|=1),r)}var mw=Z.ReactCurrentOwner,nn=!1;function Ge(r,o,u,d){o.child=r===null?Wp(o,null,u,d):eo(o,r.child,u,d)}function Ig(r,o,u,d,g){u=u.render;var y=o.ref;return io(o,g),d=Vh(r,o,u,d,y,g),u=Oh(),r!==null&&!nn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~g,Pi(r,o,g)):(ne&&u&&yh(o),o.flags|=1,Ge(r,o,d,g),o.child)}function kg(r,o,u,d,g){if(r===null){var y=u.type;return typeof y=="function"&&!hd(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Ag(r,o,y,d,g)):(r=xu(u.type,null,d,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(y=r.child,!(r.lanes&g)){var E=y.memoizedProps;if(u=u.compare,u=u!==null?u:ha,u(E,d)&&r.ref===o.ref)return Pi(r,o,g)}return o.flags|=1,r=cr(y,d),r.ref=o.ref,r.return=o,o.child=r}function Ag(r,o,u,d,g){if(r!==null){var y=r.memoizedProps;if(ha(y,d)&&r.ref===o.ref)if(nn=!1,o.pendingProps=d=y,(r.lanes&g)!==0)r.flags&131072&&(nn=!0);else return o.lanes=r.lanes,Pi(r,o,g)}return Wh(r,o,u,d,g)}function Cg(r,o,u){var d=o.pendingProps,g=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(ao,mn),mn|=u;else{if(!(u&1073741824))return r=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,Yt(ao,mn),mn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:u,Yt(ao,mn),mn|=d}else y!==null?(d=y.baseLanes|u,o.memoizedState=null):d=u,Yt(ao,mn),mn|=d;return Ge(r,o,g,u),o.child}function Pg(r,o){var u=o.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Wh(r,o,u,d,g){var y=en(u)?Kr:Ne.current;return y=Xs(o,y),io(o,g),u=Vh(r,o,u,d,y,g),d=Oh(),r!==null&&!nn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~g,Pi(r,o,g)):(ne&&d&&yh(o),o.flags|=1,Ge(r,o,u,g),o.child)}function Rg(r,o,u,d,g){if(en(u)){var y=!0;Ql(o)}else y=!1;if(io(o,g),o.stateNode===null)du(r,o),_g(o,u,d),jh(o,u,d,g),d=!0;else if(r===null){var E=o.stateNode,A=o.memoizedProps;E.props=A;var O=E.context,H=u.contextType;typeof H=="object"&&H!==null?H=xn(H):(H=en(u)?Kr:Ne.current,H=Xs(o,H));var G=u.getDerivedStateFromProps,X=typeof G=="function"||typeof E.getSnapshotBeforeUpdate=="function";X||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==d||O!==H)&&vg(o,E,d,H),ir=!1;var Q=o.memoizedState;E.state=Q,iu(o,d,E,g),O=o.memoizedState,A!==d||Q!==O||tn.current||ir?(typeof G=="function"&&(Bh(o,u,G,d),O=o.memoizedState),(A=ir||yg(o,u,A,d,Q,O,H))?(X||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=O),E.props=d,E.state=O,E.context=H,d=A):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,qp(r,o),A=o.memoizedProps,H=o.type===o.elementType?A:Un(o.type,A),E.props=H,X=o.pendingProps,Q=E.context,O=u.contextType,typeof O=="object"&&O!==null?O=xn(O):(O=en(u)?Kr:Ne.current,O=Xs(o,O));var ot=u.getDerivedStateFromProps;(G=typeof ot=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==X||Q!==O)&&vg(o,E,d,O),ir=!1,Q=o.memoizedState,E.state=Q,iu(o,d,E,g);var ut=o.memoizedState;A!==X||Q!==ut||tn.current||ir?(typeof ot=="function"&&(Bh(o,u,ot,d),ut=o.memoizedState),(H=ir||yg(o,u,H,d,Q,ut,O)||!1)?(G||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ut,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ut,O)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ut),E.props=d,E.state=ut,E.context=O,d=H):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(o.flags|=1024),d=!1)}return $h(r,o,u,d,y,g)}function $h(r,o,u,d,g,y){Pg(r,o);var E=(o.flags&128)!==0;if(!d&&!E)return g&&Op(o,u,!1),Pi(r,o,y);d=o.stateNode,mw.current=o;var A=E&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,r!==null&&E?(o.child=eo(o,r.child,null,y),o.child=eo(o,null,A,y)):Ge(r,o,A,y),o.memoizedState=d.state,g&&Op(o,u,!0),o.child}function bg(r){var o=r.stateNode;o.pendingContext?Mp(r,o.pendingContext,o.pendingContext!==o.context):o.context&&Mp(r,o.context,!1),Ch(r,o.containerInfo)}function Dg(r,o,u,d,g){return to(),Eh(g),o.flags|=256,Ge(r,o,u,d),o.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Kh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Mg(r,o,u){var d=o.pendingProps,g=re.current,y=!1,E=(o.flags&128)!==0,A;if((A=E)||(A=r!==null&&r.memoizedState===null?!1:(g&2)!==0),A?(y=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Yt(re,g&1),r===null)return wh(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(E=d.children,r=d.fallback,y?(d=o.mode,y=o.child,E={mode:"hidden",children:E},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Su(E,d,0,null),r=is(r,d,u,null),y.return=o,r.return=o,y.sibling=r,o.child=y,o.child.memoizedState=Kh(u),o.memoizedState=qh,r):Qh(o,E));if(g=r.memoizedState,g!==null&&(A=g.dehydrated,A!==null))return yw(r,o,E,d,A,g,u);if(y){y=d.fallback,E=o.mode,g=r.child,A=g.sibling;var O={mode:"hidden",children:d.children};return!(E&1)&&o.child!==g?(d=o.child,d.childLanes=0,d.pendingProps=O,o.deletions=null):(d=cr(g,O),d.subtreeFlags=g.subtreeFlags&14680064),A!==null?y=cr(A,y):(y=is(y,E,u,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,E=r.child.memoizedState,E=E===null?Kh(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~u,o.memoizedState=qh,d}return y=r.child,r=y.sibling,d=cr(y,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,r!==null&&(u=o.deletions,u===null?(o.deletions=[r],o.flags|=16):u.push(r)),o.child=d,o.memoizedState=null,d}function Qh(r,o){return o=Su({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function hu(r,o,u,d){return d!==null&&Eh(d),eo(o,r.child,null,u),r=Qh(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function yw(r,o,u,d,g,y,E){if(u)return o.flags&256?(o.flags&=-257,d=Uh(Error(e(422))),hu(r,o,E,d)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(y=d.fallback,g=o.mode,d=Su({mode:"visible",children:d.children},g,0,null),y=is(y,g,E,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,o.mode&1&&eo(o,r.child,null,E),o.child.memoizedState=Kh(E),o.memoizedState=qh,y);if(!(o.mode&1))return hu(r,o,E,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var A=d.dgst;return d=A,y=Error(e(419)),d=Uh(y,d,void 0),hu(r,o,E,d)}if(A=(E&r.childLanes)!==0,nn||A){if(d=Ae,d!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(d.suspendedLanes|E)?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,Ai(r,g),$n(d,r,g,-1))}return cd(),d=Uh(Error(e(421))),hu(r,o,E,d)}return g.data==="$?"?(o.flags|=128,o.child=r.child,o=Rw.bind(null,r),g._reactRetry=o,null):(r=y.treeContext,gn=Zi(g.nextSibling),pn=o,ne=!0,jn=null,r!==null&&(En[Tn++]=Ii,En[Tn++]=ki,En[Tn++]=Qr,Ii=r.id,ki=r.overflow,Qr=o),o=Qh(o,d.children),o.flags|=4096,o)}function Vg(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Ih(r.return,o,u)}function Gh(r,o,u,d,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=g)}function Og(r,o,u){var d=o.pendingProps,g=d.revealOrder,y=d.tail;if(Ge(r,o,d.children,u),d=re.current,d&2)d=d&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vg(r,u,o);else if(r.tag===19)Vg(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Yt(re,d),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)r=u.alternate,r!==null&&ru(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Gh(o,!1,g,u,y);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&ru(r)===null){o.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Gh(o,!0,u,null,y);break;case"together":Gh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function du(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Pi(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Zr|=o.lanes,!(u&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(e(153));if(o.child!==null){for(r=o.child,u=cr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=cr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function _w(r,o,u){switch(o.tag){case 3:bg(o),to();break;case 5:Gp(o);break;case 1:en(o.type)&&Ql(o);break;case 4:Ch(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,g=o.memoizedProps.value;Yt(tu,d._currentValue),d._currentValue=g;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Yt(re,re.current&1),o.flags|=128,null):u&o.child.childLanes?Mg(r,o,u):(Yt(re,re.current&1),r=Pi(r,o,u),r!==null?r.sibling:null);Yt(re,re.current&1);break;case 19:if(d=(u&o.childLanes)!==0,r.flags&128){if(d)return Og(r,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Yt(re,re.current),d)break;return null;case 22:case 23:return o.lanes=0,Cg(r,o,u)}return Pi(r,o,u)}var Ng,Yh,Lg,Fg;Ng=function(r,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Yh=function(){},Lg=function(r,o,u,d){var g=r.memoizedProps;if(g!==d){r=o.stateNode,Xr(ii.current);var y=null;switch(u){case"input":g=Rr(r,g),d=Rr(r,d),y=[];break;case"select":g=st({},g,{value:void 0}),d=st({},d,{value:void 0}),y=[];break;case"textarea":g=Bo(r,g),d=Bo(r,d),y=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=$l)}qo(u,d);var E;u=null;for(H in g)if(!d.hasOwnProperty(H)&&g.hasOwnProperty(H)&&g[H]!=null)if(H==="style"){var A=g[H];for(E in A)A.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in d){var O=d[H];if(A=g!=null?g[H]:void 0,d.hasOwnProperty(H)&&O!==A&&(O!=null||A!=null))if(H==="style")if(A){for(E in A)!A.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in O)O.hasOwnProperty(E)&&A[E]!==O[E]&&(u||(u={}),u[E]=O[E])}else u||(y||(y=[]),y.push(H,u)),u=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,A=A?A.__html:void 0,O!=null&&A!==O&&(y=y||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&Xt("scroll",r),y||A===O||(y=[])):(y=y||[]).push(H,O))}u&&(y=y||[]).push("style",u);var H=y;(o.updateQueue=H)&&(o.flags|=4)}},Fg=function(r,o,u,d){u!==d&&(o.flags|=4)};function ka(r,o){if(!ne)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Fe(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function vw(r,o,u){var d=o.pendingProps;switch(_h(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(o),null;case 1:return en(o.type)&&Kl(),Fe(o),null;case 3:return d=o.stateNode,ro(),Jt(tn),Jt(Ne),bh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Jl(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,jn!==null&&(ad(jn),jn=null))),Yh(r,o),Fe(o),null;case 5:Ph(o);var g=Xr(Ea.current);if(u=o.type,r!==null&&o.stateNode!=null)Lg(r,o,u,d,g),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(e(166));return Fe(o),null}if(r=Xr(ii.current),Jl(o)){d=o.stateNode,u=o.type;var y=o.memoizedProps;switch(d[ni]=o,d[ma]=y,r=(o.mode&1)!==0,u){case"dialog":Xt("cancel",d),Xt("close",d);break;case"iframe":case"object":case"embed":Xt("load",d);break;case"video":case"audio":for(g=0;g<fa.length;g++)Xt(fa[g],d);break;case"source":Xt("error",d);break;case"img":case"image":case"link":Xt("error",d),Xt("load",d);break;case"details":Xt("toggle",d);break;case"input":vs(d,y),Xt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Xt("invalid",d);break;case"textarea":Es(d,y),Xt("invalid",d)}qo(u,y),g=null;for(var E in y)if(y.hasOwnProperty(E)){var A=y[E];E==="children"?typeof A=="string"?d.textContent!==A&&(y.suppressHydrationWarning!==!0&&Wl(d.textContent,A,r),g=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&Wl(d.textContent,A,r),g=["children",""+A]):s.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Xt("scroll",d)}switch(u){case"input":fi(d),ml(d,y,!0);break;case"textarea":fi(d),jo(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=$l)}d=g,o.updateQueue=d,d!==null&&(o.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=me(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(u,{is:d.is}):(r=E.createElement(u),u==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,u),r[ni]=o,r[ma]=d,Ng(r,o,!1,!1),o.stateNode=r;t:{switch(E=Ko(u,d),u){case"dialog":Xt("cancel",r),Xt("close",r),g=d;break;case"iframe":case"object":case"embed":Xt("load",r),g=d;break;case"video":case"audio":for(g=0;g<fa.length;g++)Xt(fa[g],r);g=d;break;case"source":Xt("error",r),g=d;break;case"img":case"image":case"link":Xt("error",r),Xt("load",r),g=d;break;case"details":Xt("toggle",r),g=d;break;case"input":vs(r,d),g=Rr(r,d),Xt("invalid",r);break;case"option":g=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},g=st({},d,{value:void 0}),Xt("invalid",r);break;case"textarea":Es(r,d),g=Bo(r,d),Xt("invalid",r);break;default:g=d}qo(u,g),A=g;for(y in A)if(A.hasOwnProperty(y)){var O=A[y];y==="style"?Wo(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Uo(r,O)):y==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&Ui(r,O):typeof O=="number"&&Ui(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Xt("scroll",r):O!=null&&Y(r,y,O,E))}switch(u){case"input":fi(r),ml(r,d,!1);break;case"textarea":fi(r),jo(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ut(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?gi(r,!!d.multiple,y,!1):d.defaultValue!=null&&gi(r,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=$l)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break t;case"img":d=!0;break t;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Fe(o),null;case 6:if(r&&o.stateNode!=null)Fg(r,o,r.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(e(166));if(u=Xr(Ea.current),Xr(ii.current),Jl(o)){if(d=o.stateNode,u=o.memoizedProps,d[ni]=o,(y=d.nodeValue!==u)&&(r=pn,r!==null))switch(r.tag){case 3:Wl(d.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Wl(d.nodeValue,u,(r.mode&1)!==0)}y&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[ni]=o,o.stateNode=d}return Fe(o),null;case 13:if(Jt(re),d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ne&&gn!==null&&o.mode&1&&!(o.flags&128))jp(),to(),o.flags|=98560,y=!1;else if(y=Jl(o),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(e(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(e(317));y[ni]=o}else to(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Fe(o),y=!1}else jn!==null&&(ad(jn),jn=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(r===null||re.current&1?we===0&&(we=3):cd())),o.updateQueue!==null&&(o.flags|=4),Fe(o),null);case 4:return ro(),Yh(r,o),r===null&&pa(o.stateNode.containerInfo),Fe(o),null;case 10:return Sh(o.type._context),Fe(o),null;case 17:return en(o.type)&&Kl(),Fe(o),null;case 19:if(Jt(re),y=o.memoizedState,y===null)return Fe(o),null;if(d=(o.flags&128)!==0,E=y.rendering,E===null)if(d)ka(y,!1);else{if(we!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(E=ru(r),E!==null){for(o.flags|=128,ka(y,!1),d=E.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)y=u,r=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return Yt(re,re.current&1|2),o.child}r=r.sibling}y.tail!==null&&Gt()>lo&&(o.flags|=128,d=!0,ka(y,!1),o.lanes=4194304)}else{if(!d)if(r=ru(E),r!==null){if(o.flags|=128,d=!0,u=r.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ka(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!ne)return Fe(o),null}else 2*Gt()-y.renderingStartTime>lo&&u!==1073741824&&(o.flags|=128,d=!0,ka(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(u=y.last,u!==null?u.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Gt(),o.sibling=null,u=re.current,Yt(re,d?u&1|2:u&1),o):(Fe(o),null);case 22:case 23:return ud(),d=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?mn&1073741824&&(Fe(o),o.subtreeFlags&6&&(o.flags|=8192)):Fe(o),null;case 24:return null;case 25:return null}throw Error(e(156,o.tag))}function ww(r,o){switch(_h(o),o.tag){case 1:return en(o.type)&&Kl(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return ro(),Jt(tn),Jt(Ne),bh(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return Ph(o),null;case 13:if(Jt(re),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(e(340));to()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Jt(re),null;case 4:return ro(),null;case 10:return Sh(o.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var fu=!1,ze=!1,Ew=typeof WeakSet=="function"?WeakSet:Set,lt=null;function oo(r,o){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){ae(r,o,d)}else u.current=null}function Xh(r,o,u){try{u()}catch(d){ae(r,o,d)}}var zg=!1;function Tw(r,o){if(uh=Yi,r=yp(),eh(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var E=0,A=-1,O=-1,H=0,G=0,X=r,Q=null;e:for(;;){for(var ot;X!==u||g!==0&&X.nodeType!==3||(A=E+g),X!==y||d!==0&&X.nodeType!==3||(O=E+d),X.nodeType===3&&(E+=X.nodeValue.length),(ot=X.firstChild)!==null;)Q=X,X=ot;for(;;){if(X===r)break e;if(Q===u&&++H===g&&(A=E),Q===y&&++G===d&&(O=E),(ot=X.nextSibling)!==null)break;X=Q,Q=X.parentNode}X=ot}u=A===-1||O===-1?null:{start:A,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(ch={focusedElem:r,selectionRange:u},Yi=!1,lt=o;lt!==null;)if(o=lt,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,lt=r;else for(;lt!==null;){o=lt;try{var ut=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ht=ut.memoizedProps,ue=ut.memoizedState,j=o.stateNode,L=j.getSnapshotBeforeUpdate(o.elementType===o.type?ht:Un(o.type,ht),ue);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(et){ae(o,o.return,et)}if(r=o.sibling,r!==null){r.return=o.return,lt=r;break}lt=o.return}return ut=zg,zg=!1,ut}function Aa(r,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&r)===r){var y=g.destroy;g.destroy=void 0,y!==void 0&&Xh(o,u,y)}g=g.next}while(g!==d)}}function pu(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&r)===r){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Jh(r){var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof o=="function"?o(r):o.current=r}}function Bg(r){var o=r.alternate;o!==null&&(r.alternate=null,Bg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[ni],delete o[ma],delete o[ph],delete o[rw],delete o[sw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function jg(r){return r.tag===5||r.tag===3||r.tag===4}function Ug(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||jg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Zh(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(r,o):u.insertBefore(r,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(r,u)):(o=u,o.appendChild(r)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=$l));else if(d!==4&&(r=r.child,r!==null))for(Zh(r,o,u),r=r.sibling;r!==null;)Zh(r,o,u),r=r.sibling}function td(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(td(r,o,u),r=r.sibling;r!==null;)td(r,o,u),r=r.sibling}var De=null,Hn=!1;function sr(r,o,u){for(u=u.child;u!==null;)Hg(r,o,u),u=u.sibling}function Hg(r,o,u){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(zr,u)}catch{}switch(u.tag){case 5:ze||oo(u,o);case 6:var d=De,g=Hn;De=null,sr(r,o,u),De=d,Hn=g,De!==null&&(Hn?(r=De,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):De.removeChild(u.stateNode));break;case 18:De!==null&&(Hn?(r=De,u=u.stateNode,r.nodeType===8?fh(r.parentNode,u):r.nodeType===1&&fh(r,u),Fn(r)):fh(De,u.stateNode));break;case 4:d=De,g=Hn,De=u.stateNode.containerInfo,Hn=!0,sr(r,o,u),De=d,Hn=g;break;case 0:case 11:case 14:case 15:if(!ze&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var y=g,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&Xh(u,o,E),g=g.next}while(g!==d)}sr(r,o,u);break;case 1:if(!ze&&(oo(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(A){ae(u,o,A)}sr(r,o,u);break;case 21:sr(r,o,u);break;case 22:u.mode&1?(ze=(d=ze)||u.memoizedState!==null,sr(r,o,u),ze=d):sr(r,o,u);break;default:sr(r,o,u)}}function Wg(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new Ew),o.forEach(function(d){var g=bw.bind(null,r,d);u.has(d)||(u.add(d),d.then(g,g))})}}function Wn(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];try{var y=r,E=o,A=E;t:for(;A!==null;){switch(A.tag){case 5:De=A.stateNode,Hn=!1;break t;case 3:De=A.stateNode.containerInfo,Hn=!0;break t;case 4:De=A.stateNode.containerInfo,Hn=!0;break t}A=A.return}if(De===null)throw Error(e(160));Hg(y,E,g),De=null,Hn=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(H){ae(g,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$g(o,r),o=o.sibling}function $g(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(o,r),si(r),d&4){try{Aa(3,r,r.return),pu(3,r)}catch(ht){ae(r,r.return,ht)}try{Aa(5,r,r.return)}catch(ht){ae(r,r.return,ht)}}break;case 1:Wn(o,r),si(r),d&512&&u!==null&&oo(u,u.return);break;case 5:if(Wn(o,r),si(r),d&512&&u!==null&&oo(u,u.return),r.flags&32){var g=r.stateNode;try{Ui(g,"")}catch(ht){ae(r,r.return,ht)}}if(d&4&&(g=r.stateNode,g!=null)){var y=r.memoizedProps,E=u!==null?u.memoizedProps:y,A=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Fo(g,y),Ko(A,E);var H=Ko(A,y);for(E=0;E<O.length;E+=2){var G=O[E],X=O[E+1];G==="style"?Wo(g,X):G==="dangerouslySetInnerHTML"?Uo(g,X):G==="children"?Ui(g,X):Y(g,G,X,H)}switch(A){case"input":zo(g,y);break;case"textarea":Ts(g,y);break;case"select":var Q=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var ot=y.value;ot!=null?gi(g,!!y.multiple,ot,!1):Q!==!!y.multiple&&(y.defaultValue!=null?gi(g,!!y.multiple,y.defaultValue,!0):gi(g,!!y.multiple,y.multiple?[]:"",!1))}g[ma]=y}catch(ht){ae(r,r.return,ht)}}break;case 6:if(Wn(o,r),si(r),d&4){if(r.stateNode===null)throw Error(e(162));g=r.stateNode,y=r.memoizedProps;try{g.nodeValue=y}catch(ht){ae(r,r.return,ht)}}break;case 3:if(Wn(o,r),si(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Fn(o.containerInfo)}catch(ht){ae(r,r.return,ht)}break;case 4:Wn(o,r),si(r);break;case 13:Wn(o,r),si(r),g=r.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(id=Gt())),d&4&&Wg(r);break;case 22:if(G=u!==null&&u.memoizedState!==null,r.mode&1?(ze=(H=ze)||G,Wn(o,r),ze=H):Wn(o,r),si(r),d&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!G&&r.mode&1)for(lt=r,G=r.child;G!==null;){for(X=lt=G;lt!==null;){switch(Q=lt,ot=Q.child,Q.tag){case 0:case 11:case 14:case 15:Aa(4,Q,Q.return);break;case 1:oo(Q,Q.return);var ut=Q.stateNode;if(typeof ut.componentWillUnmount=="function"){d=Q,u=Q.return;try{o=d,ut.props=o.memoizedProps,ut.state=o.memoizedState,ut.componentWillUnmount()}catch(ht){ae(d,u,ht)}}break;case 5:oo(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Qg(X);continue}}ot!==null?(ot.return=Q,lt=ot):Qg(X)}G=G.sibling}t:for(G=null,X=r;;){if(X.tag===5){if(G===null){G=X;try{g=X.stateNode,H?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=X.stateNode,O=X.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,A.style.display=Ho("display",E))}catch(ht){ae(r,r.return,ht)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=H?"":X.memoizedProps}catch(ht){ae(r,r.return,ht)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break t;for(;X.sibling===null;){if(X.return===null||X.return===r)break t;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Wn(o,r),si(r),d&4&&Wg(r);break;case 21:break;default:Wn(o,r),si(r)}}function si(r){var o=r.flags;if(o&2){try{t:{for(var u=r.return;u!==null;){if(jg(u)){var d=u;break t}u=u.return}throw Error(e(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(Ui(g,""),d.flags&=-33);var y=Ug(r);td(r,y,g);break;case 3:case 4:var E=d.stateNode.containerInfo,A=Ug(r);Zh(r,A,E);break;default:throw Error(e(161))}}catch(O){ae(r,r.return,O)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function xw(r,o,u){lt=r,qg(r)}function qg(r,o,u){for(var d=(r.mode&1)!==0;lt!==null;){var g=lt,y=g.child;if(g.tag===22&&d){var E=g.memoizedState!==null||fu;if(!E){var A=g.alternate,O=A!==null&&A.memoizedState!==null||ze;A=fu;var H=ze;if(fu=E,(ze=O)&&!H)for(lt=g;lt!==null;)E=lt,O=E.child,E.tag===22&&E.memoizedState!==null?Gg(g):O!==null?(O.return=E,lt=O):Gg(g);for(;y!==null;)lt=y,qg(y),y=y.sibling;lt=g,fu=A,ze=H}Kg(r)}else g.subtreeFlags&8772&&y!==null?(y.return=g,lt=y):Kg(r)}}function Kg(r){for(;lt!==null;){var o=lt;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:ze||pu(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!ze)if(u===null)d.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Un(o.type,u.memoizedProps);d.componentDidUpdate(g,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Qp(o,y,d);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Qp(o,E,u)}break;case 5:var A=o.stateNode;if(u===null&&o.flags&4){u=A;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var G=H.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&Fn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ze||o.flags&512&&Jh(o)}catch(Q){ae(o,o.return,Q)}}if(o===r){lt=null;break}if(u=o.sibling,u!==null){u.return=o.return,lt=u;break}lt=o.return}}function Qg(r){for(;lt!==null;){var o=lt;if(o===r){lt=null;break}var u=o.sibling;if(u!==null){u.return=o.return,lt=u;break}lt=o.return}}function Gg(r){for(;lt!==null;){var o=lt;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{pu(4,o)}catch(O){ae(o,u,O)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var g=o.return;try{d.componentDidMount()}catch(O){ae(o,g,O)}}var y=o.return;try{Jh(o)}catch(O){ae(o,y,O)}break;case 5:var E=o.return;try{Jh(o)}catch(O){ae(o,E,O)}}}catch(O){ae(o,o.return,O)}if(o===r){lt=null;break}var A=o.sibling;if(A!==null){A.return=o.return,lt=A;break}lt=o.return}}var Sw=Math.ceil,gu=Z.ReactCurrentDispatcher,ed=Z.ReactCurrentOwner,In=Z.ReactCurrentBatchConfig,Nt=0,Ae=null,fe=null,Me=0,mn=0,ao=tr(0),we=0,Ca=null,Zr=0,mu=0,nd=0,Pa=null,rn=null,id=0,lo=1/0,Ri=null,yu=!1,rd=null,or=null,_u=!1,ar=null,vu=0,Ra=0,sd=null,wu=-1,Eu=0;function Ye(){return Nt&6?Gt():wu!==-1?wu:wu=Gt()}function lr(r){return r.mode&1?Nt&2&&Me!==0?Me&-Me:aw.transition!==null?(Eu===0&&(Eu=jr()),Eu):(r=Rt,r!==0||(r=window.event,r=r===void 0?16:ra(r.type)),r):1}function $n(r,o,u,d){if(50<Ra)throw Ra=0,sd=null,Error(e(185));qi(r,u,d),(!(Nt&2)||r!==Ae)&&(r===Ae&&(!(Nt&2)&&(mu|=u),we===4&&ur(r,Me)),sn(r,d),u===1&&Nt===0&&!(o.mode&1)&&(lo=Gt()+500,Gl&&nr()))}function sn(r,o){var u=r.callbackNode;_i(r,o);var d=Br(r,r===Ae?Me:0);if(d===0)u!==null&&Zo(u),r.callbackNode=null,r.callbackPriority=0;else if(o=d&-d,r.callbackPriority!==o){if(u!=null&&Zo(u),o===1)r.tag===0?ow(Xg.bind(null,r)):Np(Xg.bind(null,r)),nw(function(){!(Nt&6)&&nr()}),u=null;else{switch(Qi(d)){case 1:u=Fr;break;case 4:u=Hi;break;case 16:u=_n;break;case 536870912:u=El;break;default:u=_n}u=sm(u,Yg.bind(null,r))}r.callbackPriority=o,r.callbackNode=u}}function Yg(r,o){if(wu=-1,Eu=0,Nt&6)throw Error(e(327));var u=r.callbackNode;if(uo()&&r.callbackNode!==u)return null;var d=Br(r,r===Ae?Me:0);if(d===0)return null;if(d&30||d&r.expiredLanes||o)o=Tu(r,d);else{o=d;var g=Nt;Nt|=2;var y=Zg();(Ae!==r||Me!==o)&&(Ri=null,lo=Gt()+500,es(r,o));do try{Aw();break}catch(A){Jg(r,A)}while(!0);xh(),gu.current=y,Nt=g,fe!==null?o=0:(Ae=null,Me=0,o=we)}if(o!==0){if(o===2&&(g=hn(r),g!==0&&(d=g,o=od(r,g))),o===1)throw u=Ca,es(r,0),ur(r,d),sn(r,Gt()),u;if(o===6)ur(r,d);else{if(g=r.current.alternate,!(d&30)&&!Iw(g)&&(o=Tu(r,d),o===2&&(y=hn(r),y!==0&&(d=y,o=od(r,y))),o===1))throw u=Ca,es(r,0),ur(r,d),sn(r,Gt()),u;switch(r.finishedWork=g,r.finishedLanes=d,o){case 0:case 1:throw Error(e(345));case 2:ns(r,rn,Ri);break;case 3:if(ur(r,d),(d&130023424)===d&&(o=id+500-Gt(),10<o)){if(Br(r,0)!==0)break;if(g=r.suspendedLanes,(g&d)!==d){Ye(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=dh(ns.bind(null,r,rn,Ri),o);break}ns(r,rn,Ri);break;case 4:if(ur(r,d),(d&4194240)===d)break;for(o=r.eventTimes,g=-1;0<d;){var E=31-Ke(d);y=1<<E,E=o[E],E>g&&(g=E),d&=~y}if(d=g,d=Gt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Sw(d/1960))-d,10<d){r.timeoutHandle=dh(ns.bind(null,r,rn,Ri),d);break}ns(r,rn,Ri);break;case 5:ns(r,rn,Ri);break;default:throw Error(e(329))}}}return sn(r,Gt()),r.callbackNode===u?Yg.bind(null,r):null}function od(r,o){var u=Pa;return r.current.memoizedState.isDehydrated&&(es(r,o).flags|=256),r=Tu(r,o),r!==2&&(o=rn,rn=u,o!==null&&ad(o)),r}function ad(r){rn===null?rn=r:rn.push.apply(rn,r)}function Iw(r){for(var o=r;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var g=u[d],y=g.getSnapshot;g=g.value;try{if(!Bn(y(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ur(r,o){for(o&=~nd,o&=~mu,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var u=31-Ke(o),d=1<<u;r[u]=-1,o&=~d}}function Xg(r){if(Nt&6)throw Error(e(327));uo();var o=Br(r,0);if(!(o&1))return sn(r,Gt()),null;var u=Tu(r,o);if(r.tag!==0&&u===2){var d=hn(r);d!==0&&(o=d,u=od(r,d))}if(u===1)throw u=Ca,es(r,0),ur(r,o),sn(r,Gt()),u;if(u===6)throw Error(e(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,ns(r,rn,Ri),sn(r,Gt()),null}function ld(r,o){var u=Nt;Nt|=1;try{return r(o)}finally{Nt=u,Nt===0&&(lo=Gt()+500,Gl&&nr())}}function ts(r){ar!==null&&ar.tag===0&&!(Nt&6)&&uo();var o=Nt;Nt|=1;var u=In.transition,d=Rt;try{if(In.transition=null,Rt=1,r)return r()}finally{Rt=d,In.transition=u,Nt=o,!(Nt&6)&&nr()}}function ud(){mn=ao.current,Jt(ao)}function es(r,o){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,ew(u)),fe!==null)for(u=fe.return;u!==null;){var d=u;switch(_h(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Kl();break;case 3:ro(),Jt(tn),Jt(Ne),bh();break;case 5:Ph(d);break;case 4:ro();break;case 13:Jt(re);break;case 19:Jt(re);break;case 10:Sh(d.type._context);break;case 22:case 23:ud()}u=u.return}if(Ae=r,fe=r=cr(r.current,null),Me=mn=o,we=0,Ca=null,nd=mu=Zr=0,rn=Pa=null,Yr!==null){for(o=0;o<Yr.length;o++)if(u=Yr[o],d=u.interleaved,d!==null){u.interleaved=null;var g=d.next,y=u.pending;if(y!==null){var E=y.next;y.next=g,d.next=E}u.pending=d}Yr=null}return r}function Jg(r,o){do{var u=fe;try{if(xh(),su.current=uu,ou){for(var d=se.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}ou=!1}if(Jr=0,ke=ve=se=null,Ta=!1,xa=0,ed.current=null,u===null||u.return===null){we=1,Ca=o,fe=null;break}t:{var y=r,E=u.return,A=u,O=o;if(o=Me,A.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,G=A,X=G.tag;if(!(G.mode&1)&&(X===0||X===11||X===15)){var Q=G.alternate;Q?(G.updateQueue=Q.updateQueue,G.memoizedState=Q.memoizedState,G.lanes=Q.lanes):(G.updateQueue=null,G.memoizedState=null)}var ot=xg(E);if(ot!==null){ot.flags&=-257,Sg(ot,E,A,y,o),ot.mode&1&&Tg(y,H,o),o=ot,O=H;var ut=o.updateQueue;if(ut===null){var ht=new Set;ht.add(O),o.updateQueue=ht}else ut.add(O);break t}else{if(!(o&1)){Tg(y,H,o),cd();break t}O=Error(e(426))}}else if(ne&&A.mode&1){var ue=xg(E);if(ue!==null){!(ue.flags&65536)&&(ue.flags|=256),Sg(ue,E,A,y,o),Eh(so(O,A));break t}}y=O=so(O,A),we!==4&&(we=2),Pa===null?Pa=[y]:Pa.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var j=wg(y,O,o);Kp(y,j);break t;case 1:A=O;var L=y.type,U=y.stateNode;if(!(y.flags&128)&&(typeof L.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(or===null||!or.has(U)))){y.flags|=65536,o&=-o,y.lanes|=o;var et=Eg(y,A,o);Kp(y,et);break t}}y=y.return}while(y!==null)}em(u)}catch(dt){o=dt,fe===u&&u!==null&&(fe=u=u.return);continue}break}while(!0)}function Zg(){var r=gu.current;return gu.current=uu,r===null?uu:r}function cd(){(we===0||we===3||we===2)&&(we=4),Ae===null||!(Zr&268435455)&&!(mu&268435455)||ur(Ae,Me)}function Tu(r,o){var u=Nt;Nt|=2;var d=Zg();(Ae!==r||Me!==o)&&(Ri=null,es(r,o));do try{kw();break}catch(g){Jg(r,g)}while(!0);if(xh(),Nt=u,gu.current=d,fe!==null)throw Error(e(261));return Ae=null,Me=0,we}function kw(){for(;fe!==null;)tm(fe)}function Aw(){for(;fe!==null&&!vl();)tm(fe)}function tm(r){var o=rm(r.alternate,r,mn);r.memoizedProps=r.pendingProps,o===null?em(r):fe=o,ed.current=null}function em(r){var o=r;do{var u=o.alternate;if(r=o.return,o.flags&32768){if(u=ww(u,o),u!==null){u.flags&=32767,fe=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{we=6,fe=null;return}}else if(u=vw(u,o,mn),u!==null){fe=u;return}if(o=o.sibling,o!==null){fe=o;return}fe=o=r}while(o!==null);we===0&&(we=5)}function ns(r,o,u){var d=Rt,g=In.transition;try{In.transition=null,Rt=1,Cw(r,o,u,d)}finally{In.transition=g,Rt=d}return null}function Cw(r,o,u,d){do uo();while(ar!==null);if(Nt&6)throw Error(e(327));u=r.finishedWork;var g=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(e(177));r.callbackNode=null,r.callbackPriority=0;var y=u.lanes|u.childLanes;if(Kt(r,y),r===Ae&&(fe=Ae=null,Me=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||_u||(_u=!0,sm(_n,function(){return uo(),null})),y=(u.flags&15990)!==0,u.subtreeFlags&15990||y){y=In.transition,In.transition=null;var E=Rt;Rt=1;var A=Nt;Nt|=4,ed.current=null,Tw(r,u),$g(u,r),Qv(ch),Yi=!!uh,ch=uh=null,r.current=u,xw(u),Kc(),Nt=A,Rt=E,In.transition=y}else r.current=u;if(_u&&(_u=!1,ar=r,vu=g),y=r.pendingLanes,y===0&&(or=null),Tl(u.stateNode),sn(r,Gt()),o!==null)for(d=r.onRecoverableError,u=0;u<o.length;u++)g=o[u],d(g.value,{componentStack:g.stack,digest:g.digest});if(yu)throw yu=!1,r=rd,rd=null,r;return vu&1&&r.tag!==0&&uo(),y=r.pendingLanes,y&1?r===sd?Ra++:(Ra=0,sd=r):Ra=0,nr(),null}function uo(){if(ar!==null){var r=Qi(vu),o=In.transition,u=Rt;try{if(In.transition=null,Rt=16>r?16:r,ar===null)var d=!1;else{if(r=ar,ar=null,vu=0,Nt&6)throw Error(e(331));var g=Nt;for(Nt|=4,lt=r.current;lt!==null;){var y=lt,E=y.child;if(lt.flags&16){var A=y.deletions;if(A!==null){for(var O=0;O<A.length;O++){var H=A[O];for(lt=H;lt!==null;){var G=lt;switch(G.tag){case 0:case 11:case 15:Aa(8,G,y)}var X=G.child;if(X!==null)X.return=G,lt=X;else for(;lt!==null;){G=lt;var Q=G.sibling,ot=G.return;if(Bg(G),G===H){lt=null;break}if(Q!==null){Q.return=ot,lt=Q;break}lt=ot}}}var ut=y.alternate;if(ut!==null){var ht=ut.child;if(ht!==null){ut.child=null;do{var ue=ht.sibling;ht.sibling=null,ht=ue}while(ht!==null)}}lt=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,lt=E;else t:for(;lt!==null;){if(y=lt,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Aa(9,y,y.return)}var j=y.sibling;if(j!==null){j.return=y.return,lt=j;break t}lt=y.return}}var L=r.current;for(lt=L;lt!==null;){E=lt;var U=E.child;if(E.subtreeFlags&2064&&U!==null)U.return=E,lt=U;else t:for(E=L;lt!==null;){if(A=lt,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:pu(9,A)}}catch(dt){ae(A,A.return,dt)}if(A===E){lt=null;break t}var et=A.sibling;if(et!==null){et.return=A.return,lt=et;break t}lt=A.return}}if(Nt=g,nr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(zr,r)}catch{}d=!0}return d}finally{Rt=u,In.transition=o}}return!1}function nm(r,o,u){o=so(u,o),o=wg(r,o,1),r=rr(r,o,1),o=Ye(),r!==null&&(qi(r,1,o),sn(r,o))}function ae(r,o,u){if(r.tag===3)nm(r,r,u);else for(;o!==null;){if(o.tag===3){nm(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(or===null||!or.has(d))){r=so(u,r),r=Eg(o,r,1),o=rr(o,r,1),r=Ye(),o!==null&&(qi(o,1,r),sn(o,r));break}}o=o.return}}function Pw(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),o=Ye(),r.pingedLanes|=r.suspendedLanes&u,Ae===r&&(Me&u)===u&&(we===4||we===3&&(Me&130023424)===Me&&500>Gt()-id?es(r,0):nd|=u),sn(r,o)}function im(r,o){o===0&&(r.mode&1?(o=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):o=1);var u=Ye();r=Ai(r,o),r!==null&&(qi(r,o,u),sn(r,u))}function Rw(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),im(r,u)}function bw(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(e(314))}d!==null&&d.delete(o),im(r,u)}var rm;rm=function(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps||tn.current)nn=!0;else{if(!(r.lanes&u)&&!(o.flags&128))return nn=!1,_w(r,o,u);nn=!!(r.flags&131072)}else nn=!1,ne&&o.flags&1048576&&Lp(o,Xl,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;du(r,o),r=o.pendingProps;var g=Xs(o,Ne.current);io(o,u),g=Vh(null,o,d,r,g,u);var y=Oh();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,en(d)?(y=!0,Ql(o)):y=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ah(o),g.updater=cu,o.stateNode=g,g._reactInternals=o,jh(o,d,r,u),o=$h(null,o,d,!0,y,u)):(o.tag=0,ne&&y&&yh(o),Ge(null,o,g,u),o=o.child),o;case 16:d=o.elementType;t:{switch(du(r,o),r=o.pendingProps,g=d._init,d=g(d._payload),o.type=d,g=o.tag=Mw(d),r=Un(d,r),g){case 0:o=Wh(null,o,d,r,u);break t;case 1:o=Rg(null,o,d,r,u);break t;case 11:o=Ig(null,o,d,r,u);break t;case 14:o=kg(null,o,d,Un(d.type,r),u);break t}throw Error(e(306,d,""))}return o;case 0:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Un(d,g),Wh(r,o,d,g,u);case 1:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Un(d,g),Rg(r,o,d,g,u);case 3:t:{if(bg(o),r===null)throw Error(e(387));d=o.pendingProps,y=o.memoizedState,g=y.element,qp(r,o),iu(o,d,null,u);var E=o.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){g=so(Error(e(423)),o),o=Dg(r,o,d,u,g);break t}else if(d!==g){g=so(Error(e(424)),o),o=Dg(r,o,d,u,g);break t}else for(gn=Zi(o.stateNode.containerInfo.firstChild),pn=o,ne=!0,jn=null,u=Wp(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(to(),d===g){o=Pi(r,o,u);break t}Ge(r,o,d,u)}o=o.child}return o;case 5:return Gp(o),r===null&&wh(o),d=o.type,g=o.pendingProps,y=r!==null?r.memoizedProps:null,E=g.children,hh(d,g)?E=null:y!==null&&hh(d,y)&&(o.flags|=32),Pg(r,o),Ge(r,o,E,u),o.child;case 6:return r===null&&wh(o),null;case 13:return Mg(r,o,u);case 4:return Ch(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=eo(o,null,d,u):Ge(r,o,d,u),o.child;case 11:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Un(d,g),Ig(r,o,d,g,u);case 7:return Ge(r,o,o.pendingProps,u),o.child;case 8:return Ge(r,o,o.pendingProps.children,u),o.child;case 12:return Ge(r,o,o.pendingProps.children,u),o.child;case 10:t:{if(d=o.type._context,g=o.pendingProps,y=o.memoizedProps,E=g.value,Yt(tu,d._currentValue),d._currentValue=E,y!==null)if(Bn(y.value,E)){if(y.children===g.children&&!tn.current){o=Pi(r,o,u);break t}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var A=y.dependencies;if(A!==null){E=y.child;for(var O=A.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=Ci(-1,u&-u),O.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var G=H.pending;G===null?O.next=O:(O.next=G.next,G.next=O),H.pending=O}}y.lanes|=u,O=y.alternate,O!==null&&(O.lanes|=u),Ih(y.return,u,o),A.lanes|=u;break}O=O.next}}else if(y.tag===10)E=y.type===o.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(e(341));E.lanes|=u,A=E.alternate,A!==null&&(A.lanes|=u),Ih(E,u,o),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===o){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Ge(r,o,g.children,u),o=o.child}return o;case 9:return g=o.type,d=o.pendingProps.children,io(o,u),g=xn(g),d=d(g),o.flags|=1,Ge(r,o,d,u),o.child;case 14:return d=o.type,g=Un(d,o.pendingProps),g=Un(d.type,g),kg(r,o,d,g,u);case 15:return Ag(r,o,o.type,o.pendingProps,u);case 17:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Un(d,g),du(r,o),o.tag=1,en(d)?(r=!0,Ql(o)):r=!1,io(o,u),_g(o,d,g),jh(o,d,g,u),$h(null,o,d,!0,r,u);case 19:return Og(r,o,u);case 22:return Cg(r,o,u)}throw Error(e(156,o.tag))};function sm(r,o){return Rs(r,o)}function Dw(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,o,u,d){return new Dw(r,o,u,d)}function hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Mw(r){if(typeof r=="function")return hd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===N)return 11;if(r===kt)return 14}return 2}function cr(r,o){var u=r.alternate;return u===null?(u=kn(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function xu(r,o,u,d,g,y){var E=2;if(d=r,typeof r=="function")hd(r)&&(E=1);else if(typeof r=="string")E=5;else t:switch(r){case P:return is(u.children,g,y,o);case I:E=8,g|=8;break;case k:return r=kn(12,u,o,g|2),r.elementType=k,r.lanes=y,r;case C:return r=kn(13,u,o,g),r.elementType=C,r.lanes=y,r;case Ft:return r=kn(19,u,o,g),r.elementType=Ft,r.lanes=y,r;case It:return Su(u,g,y,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break t;case V:E=9;break t;case N:E=11;break t;case kt:E=14;break t;case Dt:E=16,d=null;break t}throw Error(e(130,r==null?r:typeof r,""))}return o=kn(E,u,o,g),o.elementType=r,o.type=d,o.lanes=y,o}function is(r,o,u,d){return r=kn(7,r,d,o),r.lanes=u,r}function Su(r,o,u,d){return r=kn(22,r,d,o),r.elementType=It,r.lanes=u,r.stateNode={isHidden:!1},r}function dd(r,o,u){return r=kn(6,r,null,o),r.lanes=u,r}function fd(r,o,u){return o=kn(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function Vw(r,o,u,d,g){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function pd(r,o,u,d,g,y,E,A,O){return r=new Vw(r,o,u,A,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=kn(3,null,null,o),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(y),r}function Ow(r,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tt,key:d==null?null:""+d,children:r,containerInfo:o,implementation:u}}function om(r){if(!r)return er;r=r._reactInternals;t:{if(Mn(r)!==r||r.tag!==1)throw Error(e(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(en(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(e(171))}if(r.tag===1){var u=r.type;if(en(u))return Vp(r,u,o)}return o}function am(r,o,u,d,g,y,E,A,O){return r=pd(u,d,!0,r,g,y,E,A,O),r.context=om(null),u=r.current,d=Ye(),g=lr(u),y=Ci(d,g),y.callback=o??null,rr(u,y,g),r.current.lanes=g,qi(r,g,d),sn(r,d),r}function Iu(r,o,u,d){var g=o.current,y=Ye(),E=lr(g);return u=om(u),o.context===null?o.context=u:o.pendingContext=u,o=Ci(y,E),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=rr(g,o,E),r!==null&&($n(r,g,E,y),nu(r,g,E)),E}function ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function lm(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function gd(r,o){lm(r,o),(r=r.alternate)&&lm(r,o)}function Nw(){return null}var um=typeof reportError=="function"?reportError:function(r){console.error(r)};function md(r){this._internalRoot=r}Au.prototype.render=md.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(e(409));Iu(r,o,null,null)},Au.prototype.unmount=md.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;ts(function(){Iu(null,r,null,null)}),o[xi]=null}};function Au(r){this._internalRoot=r}Au.prototype.unstable_scheduleHydration=function(r){if(r){var o=Al();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Jn.length&&o!==0&&o<Jn[u].priority;u++);Jn.splice(u,0,r),u===0&&Rl(r)}};function yd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Cu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function cm(){}function Lw(r,o,u,d,g){if(g){if(typeof d=="function"){var y=d;d=function(){var H=ku(E);y.call(H)}}var E=am(o,d,r,0,null,!1,!1,"",cm);return r._reactRootContainer=E,r[xi]=E.current,pa(r.nodeType===8?r.parentNode:r),ts(),E}for(;g=r.lastChild;)r.removeChild(g);if(typeof d=="function"){var A=d;d=function(){var H=ku(O);A.call(H)}}var O=pd(r,0,!1,null,null,!1,!1,"",cm);return r._reactRootContainer=O,r[xi]=O.current,pa(r.nodeType===8?r.parentNode:r),ts(function(){Iu(o,O,u,d)}),O}function Pu(r,o,u,d,g){var y=u._reactRootContainer;if(y){var E=y;if(typeof g=="function"){var A=g;g=function(){var O=ku(E);A.call(O)}}Iu(o,E,r,g)}else E=Lw(u,o,r,g,d);return ku(E)}Il=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var u=Wi(o.pendingLanes);u!==0&&(Ki(o,u|1),sn(o,Gt()),!(Nt&6)&&(lo=Gt()+500,nr()))}break;case 13:ts(function(){var d=Ai(r,1);if(d!==null){var g=Ye();$n(d,r,1,g)}}),gd(r,1)}},Ms=function(r){if(r.tag===13){var o=Ai(r,134217728);if(o!==null){var u=Ye();$n(o,r,134217728,u)}gd(r,134217728)}},kl=function(r){if(r.tag===13){var o=lr(r),u=Ai(r,o);if(u!==null){var d=Ye();$n(u,r,o,d)}gd(r,o)}},Al=function(){return Rt},Cl=function(r,o){var u=Rt;try{return Rt=r,o()}finally{Rt=u}},Ss=function(r,o,u){switch(o){case"input":if(zo(r,u),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var g=ql(d);if(!g)throw Error(e(90));_s(d),zo(d,g)}}}break;case"textarea":Ts(r,u);break;case"select":o=u.value,o!=null&&gi(r,!!u.multiple,o,!1)}},Vr=ld,Go=ts;var Fw={usingClientEntryPoint:!1,Events:[ya,Gs,ql,Yn,Qo,ld]},ba={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zw={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Jo(r),r===null?null:r.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||Nw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{zr=Ru.inject(zw),cn=Ru}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw,on.createPortal=function(r,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yd(o))throw Error(e(200));return Ow(r,o,null,u)},on.createRoot=function(r,o){if(!yd(r))throw Error(e(299));var u=!1,d="",g=um;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=pd(r,1,!1,null,null,u,!1,d,g),r[xi]=o.current,pa(r.nodeType===8?r.parentNode:r),new md(o)},on.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(e(188)):(r=Object.keys(r).join(","),Error(e(268,r)));return r=Jo(o),r=r===null?null:r.stateNode,r},on.flushSync=function(r){return ts(r)},on.hydrate=function(r,o,u){if(!Cu(o))throw Error(e(200));return Pu(null,r,o,!0,u)},on.hydrateRoot=function(r,o,u){if(!yd(r))throw Error(e(405));var d=u!=null&&u.hydratedSources||null,g=!1,y="",E=um;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=am(o,null,r,1,u??null,g,!1,y,E),r[xi]=o.current,pa(r),d)for(r=0;r<d.length;r++)u=d[r],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Au(o)},on.render=function(r,o,u){if(!Cu(o))throw Error(e(200));return Pu(null,r,o,!1,u)},on.unmountComponentAtNode=function(r){if(!Cu(r))throw Error(e(40));return r._reactRootContainer?(ts(function(){Pu(null,null,r,!1,function(){r._reactRootContainer=null,r[xi]=null})}),!0):!1},on.unstable_batchedUpdates=ld,on.unstable_renderSubtreeIntoContainer=function(r,o,u,d){if(!Cu(u))throw Error(e(200));if(r==null||r._reactInternals===void 0)throw Error(e(38));return Pu(r,o,u,!1,d)},on.version="18.3.1-next-f1338f8080-20240426",on}var _m;function Yw(){if(_m)return wd.exports;_m=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wd.exports=Gw(),wd.exports}var vm;function Xw(){if(vm)return bu;vm=1;var n=Yw();return bu.createRoot=n.createRoot,bu.hydrateRoot=n.hydrateRoot,bu}var Jw=Xw(),wm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},Zw=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[e++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[e++],l=n[e++],c=n[e++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,_=a>>2,w=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,S=p&63;f||(S=64,l||(T=64)),i.push(e[_],e[w],e[T],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(C_(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Zw(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=e[n.charAt(s++)],c=s<n.length?e[n.charAt(s)]:0;++s;const p=s<n.length?e[n.charAt(s)]:64;++s;const w=s<n.length?e[n.charAt(s)]:64;if(++s,a==null||c==null||p==null||w==null)throw new t1;const T=a<<2|c>>4;if(i.push(T),p!==64){const S=c<<4&240|p>>2;if(i.push(S),w!==64){const M=p<<6&192|w;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class t1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e1=function(n){const t=C_(n);return P_.encodeByteArray(t,!0)},uc=function(n){return e1(n).replace(/\./g,"")},n1=function(n){try{return P_.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=()=>i1().__FIREBASE_DEFAULTS__,s1=()=>{if(typeof process>"u"||typeof wm>"u")return;const n=wm.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},o1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&n1(n[1]);return t&&JSON.parse(t)},xf=()=>{try{return r1()||s1()||o1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},a1=n=>{var t,e;return(e=(t=xf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},l1=n=>{const t=a1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},R_=()=>{var n;return(n=xf())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uc(JSON.stringify(e)),uc(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){var n;const t=(n=xf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f1(){return!d1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class Po extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=m1,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b_.prototype.create)}}class b_{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?y1(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Po(s,c,i)}}function y1(n,t){return n.replace(_1,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const _1=/\{\$([^}]+)}/g;function $d(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const a=n[s],l=t[s];if(Em(a)&&Em(l)){if(!$d(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function Em(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n){return n&&n._delegate?n._delegate:n}class Ja{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new u1;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(E1(t))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ls){return this.instances.has(t)}getOptions(t=ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w1(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ls){return this.component?this.component.multipleInstances?t:ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w1(n){return n===ls?void 0:n}function E1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new v1(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ot||(Ot={}));const x1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},S1=Ot.INFO,I1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},k1=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=I1[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class M_{constructor(t){this.name=t,this._logLevel=S1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?x1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const A1=(n,t)=>t.some(e=>n instanceof e);let Tm,xm;function C1(){return Tm||(Tm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P1(){return xm||(xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V_=new WeakMap,qd=new WeakMap,O_=new WeakMap,xd=new WeakMap,Sf=new WeakMap;function R1(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(mr(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&V_.set(e,n)}).catch(()=>{}),Sf.set(t,n),t}function b1(n){if(qd.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});qd.set(n,t)}let Kd={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return qd.get(n);if(t==="objectStoreNames")return n.objectStoreNames||O_.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return mr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function D1(n){Kd=n(Kd)}function M1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Sd(this),t,...e);return O_.set(i,t.sort?t.sort():[t]),mr(i)}:P1().includes(n)?function(...t){return n.apply(Sd(this),t),mr(V_.get(this))}:function(...t){return mr(n.apply(Sd(this),t))}}function V1(n){return typeof n=="function"?M1(n):(n instanceof IDBTransaction&&b1(n),A1(n,C1())?new Proxy(n,Kd):n)}function mr(n){if(n instanceof IDBRequest)return R1(n);if(xd.has(n))return xd.get(n);const t=V1(n);return t!==n&&(xd.set(n,t),Sf.set(t,n)),t}const Sd=n=>Sf.get(n);function O1(n,t,{blocked:e,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(n,t),c=mr(l);return i&&l.addEventListener("upgradeneeded",f=>{i(mr(l.result),f.oldVersion,f.newVersion,mr(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const N1=["get","getKey","getAll","getAllKeys","count"],L1=["put","add","delete","clear"],Id=new Map;function Sm(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=L1.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||N1.includes(e)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(c.shift())),(await Promise.all([p[e](...c),s&&f.done]))[0]};return Id.set(t,a),a}D1(n=>({...n,get:(t,e,i)=>Sm(t,e)||n.get(t,e,i),has:(t,e)=>!!Sm(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(z1(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function z1(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qd="@firebase/app",Im="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new M_("@firebase/app"),B1="@firebase/app-compat",j1="@firebase/analytics-compat",U1="@firebase/analytics",H1="@firebase/app-check-compat",W1="@firebase/app-check",$1="@firebase/auth",q1="@firebase/auth-compat",K1="@firebase/database",Q1="@firebase/data-connect",G1="@firebase/database-compat",Y1="@firebase/functions",X1="@firebase/functions-compat",J1="@firebase/installations",Z1="@firebase/installations-compat",tE="@firebase/messaging",eE="@firebase/messaging-compat",nE="@firebase/performance",iE="@firebase/performance-compat",rE="@firebase/remote-config",sE="@firebase/remote-config-compat",oE="@firebase/storage",aE="@firebase/storage-compat",lE="@firebase/firestore",uE="@firebase/vertexai",cE="@firebase/firestore-compat",hE="firebase",dE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]",fE={[Qd]:"fire-core",[B1]:"fire-core-compat",[U1]:"fire-analytics",[j1]:"fire-analytics-compat",[W1]:"fire-app-check",[H1]:"fire-app-check-compat",[$1]:"fire-auth",[q1]:"fire-auth-compat",[K1]:"fire-rtdb",[Q1]:"fire-data-connect",[G1]:"fire-rtdb-compat",[Y1]:"fire-fn",[X1]:"fire-fn-compat",[J1]:"fire-iid",[Z1]:"fire-iid-compat",[tE]:"fire-fcm",[eE]:"fire-fcm-compat",[nE]:"fire-perf",[iE]:"fire-perf-compat",[rE]:"fire-rc",[sE]:"fire-rc-compat",[oE]:"fire-gcs",[aE]:"fire-gcs-compat",[lE]:"fire-fst",[cE]:"fire-fst-compat",[uE]:"fire-vertex","fire-js":"fire-js",[hE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,pE=new Map,Yd=new Map;function km(n,t){try{n.container.addComponent(t)}catch(e){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function hc(n){const t=n.name;if(Yd.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,n);for(const e of cc.values())km(e,n);for(const e of pE.values())km(e,n);return!0}function gE(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new b_("app","Firebase",mE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=dE;function N_(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Gd,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw yr.create("bad-app-name",{appName:String(s)});if(e||(e=R_()),!e)throw yr.create("no-options");const a=cc.get(s);if(a){if($d(e,a.options)&&$d(i,a.config))return a;throw yr.create("duplicate-app",{appName:s})}const l=new T1(s);for(const f of Yd.values())l.addComponent(f);const c=new yE(e,i,l);return cc.set(s,c),c}function vE(n=Gd){const t=cc.get(n);if(!t&&n===Gd&&R_())return N_();if(!t)throw yr.create("no-app",{appName:n});return t}function yo(n,t,e){var i;let s=(i=fE[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(c.join(" "));return}hc(new Ja(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="firebase-heartbeat-database",EE=1,Za="firebase-heartbeat-store";let kd=null;function L_(){return kd||(kd=O1(wE,EE,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Za)}catch(e){console.warn(e)}}}}).catch(n=>{throw yr.create("idb-open",{originalErrorMessage:n.message})})),kd}async function TE(n){try{const e=(await L_()).transaction(Za),i=await e.objectStore(Za).get(F_(n));return await e.done,i}catch(t){if(t instanceof Po)Fi.warn(t.message);else{const e=yr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(e.message)}}}async function Am(n,t){try{const i=(await L_()).transaction(Za,"readwrite");await i.objectStore(Za).put(t,F_(n)),await i.done}catch(e){if(e instanceof Po)Fi.warn(e.message);else{const i=yr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(i.message)}}}function F_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=1024,SE=30*24*60*60*1e3;class IE{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new AE(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Cm();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=SE}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cm(),{heartbeatsToSend:i,unsentEntries:s}=kE(this._heartbeatsCache.heartbeats),a=uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Fi.warn(e),""}}}function Cm(){return new Date().toISOString().substring(0,10)}function kE(n,t=xE){const e=[];let i=n.slice();for(const s of n){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Pm(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Pm(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class AE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await TE(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return Am(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return Am(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Pm(n){return uc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(n){hc(new Ja("platform-logger",t=>new F1(t),"PRIVATE")),hc(new Ja("heartbeat",t=>new IE(t),"PRIVATE")),yo(Qd,Im,n),yo(Qd,Im,"esm2017"),yo("fire-js","")}CE("");var Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,z_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,I){function k(){}k.prototype=I.prototype,P.D=I.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(D,V,N){for(var C=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)C[Ft-2]=arguments[Ft];return I.prototype[V].apply(D,C)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,I,k){k||(k=0);var D=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)D[V]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(V=0;16>V;++V)D[V]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=P.g[0],k=P.g[1],V=P.g[2];var N=P.g[3],C=I+(N^k&(V^N))+D[0]+3614090360&4294967295;I=k+(C<<7&4294967295|C>>>25),C=N+(V^I&(k^V))+D[1]+3905402710&4294967295,N=I+(C<<12&4294967295|C>>>20),C=V+(k^N&(I^k))+D[2]+606105819&4294967295,V=N+(C<<17&4294967295|C>>>15),C=k+(I^V&(N^I))+D[3]+3250441966&4294967295,k=V+(C<<22&4294967295|C>>>10),C=I+(N^k&(V^N))+D[4]+4118548399&4294967295,I=k+(C<<7&4294967295|C>>>25),C=N+(V^I&(k^V))+D[5]+1200080426&4294967295,N=I+(C<<12&4294967295|C>>>20),C=V+(k^N&(I^k))+D[6]+2821735955&4294967295,V=N+(C<<17&4294967295|C>>>15),C=k+(I^V&(N^I))+D[7]+4249261313&4294967295,k=V+(C<<22&4294967295|C>>>10),C=I+(N^k&(V^N))+D[8]+1770035416&4294967295,I=k+(C<<7&4294967295|C>>>25),C=N+(V^I&(k^V))+D[9]+2336552879&4294967295,N=I+(C<<12&4294967295|C>>>20),C=V+(k^N&(I^k))+D[10]+4294925233&4294967295,V=N+(C<<17&4294967295|C>>>15),C=k+(I^V&(N^I))+D[11]+2304563134&4294967295,k=V+(C<<22&4294967295|C>>>10),C=I+(N^k&(V^N))+D[12]+1804603682&4294967295,I=k+(C<<7&4294967295|C>>>25),C=N+(V^I&(k^V))+D[13]+4254626195&4294967295,N=I+(C<<12&4294967295|C>>>20),C=V+(k^N&(I^k))+D[14]+2792965006&4294967295,V=N+(C<<17&4294967295|C>>>15),C=k+(I^V&(N^I))+D[15]+1236535329&4294967295,k=V+(C<<22&4294967295|C>>>10),C=I+(V^N&(k^V))+D[1]+4129170786&4294967295,I=k+(C<<5&4294967295|C>>>27),C=N+(k^V&(I^k))+D[6]+3225465664&4294967295,N=I+(C<<9&4294967295|C>>>23),C=V+(I^k&(N^I))+D[11]+643717713&4294967295,V=N+(C<<14&4294967295|C>>>18),C=k+(N^I&(V^N))+D[0]+3921069994&4294967295,k=V+(C<<20&4294967295|C>>>12),C=I+(V^N&(k^V))+D[5]+3593408605&4294967295,I=k+(C<<5&4294967295|C>>>27),C=N+(k^V&(I^k))+D[10]+38016083&4294967295,N=I+(C<<9&4294967295|C>>>23),C=V+(I^k&(N^I))+D[15]+3634488961&4294967295,V=N+(C<<14&4294967295|C>>>18),C=k+(N^I&(V^N))+D[4]+3889429448&4294967295,k=V+(C<<20&4294967295|C>>>12),C=I+(V^N&(k^V))+D[9]+568446438&4294967295,I=k+(C<<5&4294967295|C>>>27),C=N+(k^V&(I^k))+D[14]+3275163606&4294967295,N=I+(C<<9&4294967295|C>>>23),C=V+(I^k&(N^I))+D[3]+4107603335&4294967295,V=N+(C<<14&4294967295|C>>>18),C=k+(N^I&(V^N))+D[8]+1163531501&4294967295,k=V+(C<<20&4294967295|C>>>12),C=I+(V^N&(k^V))+D[13]+2850285829&4294967295,I=k+(C<<5&4294967295|C>>>27),C=N+(k^V&(I^k))+D[2]+4243563512&4294967295,N=I+(C<<9&4294967295|C>>>23),C=V+(I^k&(N^I))+D[7]+1735328473&4294967295,V=N+(C<<14&4294967295|C>>>18),C=k+(N^I&(V^N))+D[12]+2368359562&4294967295,k=V+(C<<20&4294967295|C>>>12),C=I+(k^V^N)+D[5]+4294588738&4294967295,I=k+(C<<4&4294967295|C>>>28),C=N+(I^k^V)+D[8]+2272392833&4294967295,N=I+(C<<11&4294967295|C>>>21),C=V+(N^I^k)+D[11]+1839030562&4294967295,V=N+(C<<16&4294967295|C>>>16),C=k+(V^N^I)+D[14]+4259657740&4294967295,k=V+(C<<23&4294967295|C>>>9),C=I+(k^V^N)+D[1]+2763975236&4294967295,I=k+(C<<4&4294967295|C>>>28),C=N+(I^k^V)+D[4]+1272893353&4294967295,N=I+(C<<11&4294967295|C>>>21),C=V+(N^I^k)+D[7]+4139469664&4294967295,V=N+(C<<16&4294967295|C>>>16),C=k+(V^N^I)+D[10]+3200236656&4294967295,k=V+(C<<23&4294967295|C>>>9),C=I+(k^V^N)+D[13]+681279174&4294967295,I=k+(C<<4&4294967295|C>>>28),C=N+(I^k^V)+D[0]+3936430074&4294967295,N=I+(C<<11&4294967295|C>>>21),C=V+(N^I^k)+D[3]+3572445317&4294967295,V=N+(C<<16&4294967295|C>>>16),C=k+(V^N^I)+D[6]+76029189&4294967295,k=V+(C<<23&4294967295|C>>>9),C=I+(k^V^N)+D[9]+3654602809&4294967295,I=k+(C<<4&4294967295|C>>>28),C=N+(I^k^V)+D[12]+3873151461&4294967295,N=I+(C<<11&4294967295|C>>>21),C=V+(N^I^k)+D[15]+530742520&4294967295,V=N+(C<<16&4294967295|C>>>16),C=k+(V^N^I)+D[2]+3299628645&4294967295,k=V+(C<<23&4294967295|C>>>9),C=I+(V^(k|~N))+D[0]+4096336452&4294967295,I=k+(C<<6&4294967295|C>>>26),C=N+(k^(I|~V))+D[7]+1126891415&4294967295,N=I+(C<<10&4294967295|C>>>22),C=V+(I^(N|~k))+D[14]+2878612391&4294967295,V=N+(C<<15&4294967295|C>>>17),C=k+(N^(V|~I))+D[5]+4237533241&4294967295,k=V+(C<<21&4294967295|C>>>11),C=I+(V^(k|~N))+D[12]+1700485571&4294967295,I=k+(C<<6&4294967295|C>>>26),C=N+(k^(I|~V))+D[3]+2399980690&4294967295,N=I+(C<<10&4294967295|C>>>22),C=V+(I^(N|~k))+D[10]+4293915773&4294967295,V=N+(C<<15&4294967295|C>>>17),C=k+(N^(V|~I))+D[1]+2240044497&4294967295,k=V+(C<<21&4294967295|C>>>11),C=I+(V^(k|~N))+D[8]+1873313359&4294967295,I=k+(C<<6&4294967295|C>>>26),C=N+(k^(I|~V))+D[15]+4264355552&4294967295,N=I+(C<<10&4294967295|C>>>22),C=V+(I^(N|~k))+D[6]+2734768916&4294967295,V=N+(C<<15&4294967295|C>>>17),C=k+(N^(V|~I))+D[13]+1309151649&4294967295,k=V+(C<<21&4294967295|C>>>11),C=I+(V^(k|~N))+D[4]+4149444226&4294967295,I=k+(C<<6&4294967295|C>>>26),C=N+(k^(I|~V))+D[11]+3174756917&4294967295,N=I+(C<<10&4294967295|C>>>22),C=V+(I^(N|~k))+D[2]+718787259&4294967295,V=N+(C<<15&4294967295|C>>>17),C=k+(N^(V|~I))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+N&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var k=I-this.blockSize,D=this.B,V=this.h,N=0;N<I;){if(V==0)for(;N<=k;)s(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<I;)if(D[V++]=P.charCodeAt(N++),V==this.blockSize){s(this,D),V=0;break}}else for(;N<I;)if(D[V++]=P[N++],V==this.blockSize){s(this,D),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var k=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=k&255,k/=256;for(this.u(P),P=Array(16),I=k=0;4>I;++I)for(var D=0;32>D;D+=8)P[k++]=this.g[I]>>>D&255;return P};function a(P,I){var k=c;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=I(P)}function l(P,I){this.h=I;for(var k=[],D=!0,V=P.length-1;0<=V;V--){var N=P[V]|0;D&&N==I||(k[V]=N,D=!1)}this.g=k}var c={};function f(P){return-128<=P&&128>P?a(P,function(I){return new l([I|0],0>I?-1:0)}):new l([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return R(p(-P));for(var I=[],k=1,D=0;P>=k;D++)I[D]=P/k|0,k*=4294967296;return new l(I,0)}function _(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return R(_(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(I,8)),D=w,V=0;V<P.length;V+=8){var N=Math.min(8,P.length-V),C=parseInt(P.substring(V,V+N),I);8>N?(N=p(Math.pow(I,N)),D=D.j(N).add(p(C))):(D=D.j(k),D=D.add(p(C)))}return D}var w=f(0),T=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(b(this))return-R(this).m();for(var P=0,I=1,k=0;k<this.g.length;k++){var D=this.i(k);P+=(0<=D?D:4294967296+D)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M(this))return"0";if(b(this))return"-"+R(this).toString(P);for(var I=p(Math.pow(P,6)),k=this,D="";;){var V=Z(k,I).g;k=z(k,V.j(I));var N=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=V,M(k))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function M(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function b(P){return P.h==-1}n.l=function(P){return P=z(this,P),b(P)?-1:M(P)?0:1};function R(P){for(var I=P.g.length,k=[],D=0;D<I;D++)k[D]=~P.g[D];return new l(k,~P.h).add(T)}n.abs=function(){return b(this)?R(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),k=[],D=0,V=0;V<=I;V++){var N=D+(this.i(V)&65535)+(P.i(V)&65535),C=(N>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);D=C>>>16,N&=65535,C&=65535,k[V]=C<<16|N}return new l(k,k[k.length-1]&-2147483648?-1:0)};function z(P,I){return P.add(R(I))}n.j=function(P){if(M(this)||M(P))return w;if(b(this))return b(P)?R(this).j(R(P)):R(R(this).j(P));if(b(P))return R(this.j(R(P)));if(0>this.l(S)&&0>P.l(S))return p(this.m()*P.m());for(var I=this.g.length+P.g.length,k=[],D=0;D<2*I;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<P.g.length;V++){var N=this.i(D)>>>16,C=this.i(D)&65535,Ft=P.i(V)>>>16,kt=P.i(V)&65535;k[2*D+2*V]+=C*kt,$(k,2*D+2*V),k[2*D+2*V+1]+=N*kt,$(k,2*D+2*V+1),k[2*D+2*V+1]+=C*Ft,$(k,2*D+2*V+1),k[2*D+2*V+2]+=N*Ft,$(k,2*D+2*V+2)}for(D=0;D<I;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=I;D<2*I;D++)k[D]=0;return new l(k,0)};function $(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function Y(P,I){this.g=P,this.h=I}function Z(P,I){if(M(I))throw Error("division by zero");if(M(P))return new Y(w,w);if(b(P))return I=Z(R(P),I),new Y(R(I.g),R(I.h));if(b(I))return I=Z(P,R(I)),new Y(R(I.g),I.h);if(30<P.g.length){if(b(P)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var k=T,D=I;0>=D.l(P);)k=nt(k),D=nt(D);var V=tt(k,1),N=tt(D,1);for(D=tt(D,2),k=tt(k,2);!M(D);){var C=N.add(D);0>=C.l(P)&&(V=V.add(k),N=C),D=tt(D,1),k=tt(k,1)}return I=z(P,V.j(I)),new Y(V,I)}for(V=w;0<=P.l(I);){for(k=Math.max(1,Math.floor(P.m()/I.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=p(k),C=N.j(I);b(C)||0<C.l(P);)k-=D,N=p(k),C=N.j(I);M(N)&&(N=T),V=V.add(N),P=z(P,C)}return new Y(V,P)}n.A=function(P){return Z(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),k=[],D=0;D<I;D++)k[D]=this.i(D)&P.i(D);return new l(k,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),k=[],D=0;D<I;D++)k[D]=this.i(D)|P.i(D);return new l(k,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),k=[],D=0;D<I;D++)k[D]=this.i(D)^P.i(D);return new l(k,this.h^P.h)};function nt(P){for(var I=P.g.length+1,k=[],D=0;D<I;D++)k[D]=P.i(D)<<1|P.i(D-1)>>>31;return new l(k,P.h)}function tt(P,I){var k=I>>5;I%=32;for(var D=P.g.length-k,V=[],N=0;N<D;N++)V[N]=0<I?P.i(N+k)>>>I|P.i(N+k+1)<<32-I:P.i(N+k);return new l(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,z_=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=_,ds=l}).apply(typeof Rm<"u"?Rm:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B_,Fa,j_,Ju,Xd,U_,H_,W_;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,v){return h==Array.prototype||h==Object.prototype||(h[m]=v.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var m=0;m<h.length;++m){var v=h[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=e(this);function s(h,m){if(m)t:{var v=i;h=h.split(".");for(var x=0;x<h.length-1;x++){var B=h[x];if(!(B in v))break t;v=v[B]}h=h[h.length-1],x=v[h],m=m(x),m!=x&&m!=null&&t(v,h,{configurable:!0,writable:!0,value:m})}}function a(h,m){h instanceof String&&(h+="");var v=0,x=!1,B={next:function(){if(!x&&v<h.length){var W=v++;return{value:m(W,h[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(h){return h||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function p(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function _(h,m,v){return h.call.apply(h.bind,arguments)}function w(h,m,v){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,x),h.apply(m,B)}}return function(){return h.apply(m,arguments)}}function T(h,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function S(h,m){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function M(h,m){function v(){}v.prototype=m.prototype,h.aa=m.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(x,B,W){for(var rt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)rt[Wt-2]=arguments[Wt];return m.prototype[B].apply(x,rt)}}function b(h){const m=h.length;if(0<m){const v=Array(m);for(let x=0;x<m;x++)v[x]=h[x];return v}return[]}function R(h,m){for(let v=1;v<arguments.length;v++){const x=arguments[v];if(f(x)){const B=h.length||0,W=x.length||0;h.length=B+W;for(let rt=0;rt<W;rt++)h[B+rt]=x[rt]}else h.push(x)}}class z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function Z(h){return Z[" "](h),h}Z[" "]=function(){};var nt=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function tt(h,m,v){for(const x in h)m.call(v,h[x],x,h)}function P(h,m){for(const v in h)m.call(void 0,h[v],v,h)}function I(h){const m={};for(const v in h)m[v]=h[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,m){let v,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(v in x)h[v]=x[v];for(let W=0;W<k.length;W++)v=k[W],Object.prototype.hasOwnProperty.call(x,v)&&(h[v]=x[v])}}function V(h){var m=1;h=h.split(":");const v=[];for(;0<m&&h.length;)v.push(h.shift()),m--;return h.length&&v.push(h.join(":")),v}function N(h){c.setTimeout(()=>{throw h},0)}function C(){var h=ft;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class Ft{constructor(){this.h=this.g=null}add(m,v){const x=kt.get();x.set(m,v),this.h?this.h.next=x:this.g=x,this.h=x}}var kt=new z(()=>new Dt,h=>h.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,it=!1,ft=new Ft,st=()=>{const h=c.Promise.resolve(void 0);It=()=>{h.then(F)}};var F=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(v){N(v)}var m=kt;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}it=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,m),c.removeEventListener("test",v,m)}catch{}return h}();function Tt(h,m){if(ct.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(nt){t:{try{Z(m.nodeName);var B=!0;break t}catch{}B=!1}B||(m=null)}}else v=="mouseover"?m=h.fromElement:v=="mouseout"&&(m=h.toElement);this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Tt.aa.h.call(this)}}M(Tt,ct);var St={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function Qt(h,m,v,x,B){this.listener=h,this.proxy=null,this.src=m,this.type=v,this.capture=!!x,this.ha=B,this.key=++Ut,this.da=this.fa=!1}function Se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fi(h){this.src=h,this.g={},this.h=0}fi.prototype.add=function(h,m,v,x,B){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var rt=ji(h,m,x,B);return-1<rt?(m=h[rt],v||(m.fa=!1)):(m=new Qt(m,this.src,W,!!x,B),m.fa=v,h.push(m)),m};function _s(h,m){var v=m.type;if(v in h.g){var x=h.g[v],B=Array.prototype.indexOf.call(x,m,void 0),W;(W=0<=B)&&Array.prototype.splice.call(x,B,1),W&&(Se(m),h.g[v].length==0&&(delete h.g[v],h.h--))}}function ji(h,m,v,x){for(var B=0;B<h.length;++B){var W=h[B];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==x)return B}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),vs={};function Fo(h,m,v,x,B){if(Array.isArray(m)){for(var W=0;W<m.length;W++)Fo(h,m[W],v,x,B);return null}return v=jo(v),h&&h[jt]?h.K(m,v,p(x)?!!x.capture:!!x,B):zo(h,m,v,!1,x,B)}function zo(h,m,v,x,B,W){if(!m)throw Error("Invalid event type");var rt=p(B)?!!B.capture:!!B,Wt=Es(h);if(Wt||(h[Rr]=Wt=new fi(h)),v=Wt.add(m,v,x,rt,W),v.proxy)return v;if(x=ml(),v.proxy=x,x.src=h,x.listener=v,h.addEventListener)_t||(B=rt),B===void 0&&(B=!1),h.addEventListener(m.toString(),x,B);else if(h.attachEvent)h.attachEvent(gi(m.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ml(){function h(v){return m.call(h.src,h.listener,v)}const m=Bo;return h}function ws(h,m,v,x,B){if(Array.isArray(m))for(var W=0;W<m.length;W++)ws(h,m[W],v,x,B);else x=p(x)?!!x.capture:!!x,v=jo(v),h&&h[jt]?(h=h.i,m=String(m).toString(),m in h.g&&(W=h.g[m],v=ji(W,v,x,B),-1<v&&(Se(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete h.g[m],h.h--)))):h&&(h=Es(h))&&(m=h.g[m.toString()],h=-1,m&&(h=ji(m,v,x,B)),(v=-1<h?m[h]:null)&&pi(v))}function pi(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[jt])_s(m.i,h);else{var v=h.type,x=h.proxy;m.removeEventListener?m.removeEventListener(v,x,h.capture):m.detachEvent?m.detachEvent(gi(v),x):m.addListener&&m.removeListener&&m.removeListener(x),(v=Es(m))?(_s(v,h),v.h==0&&(v.src=null,m[Rr]=null)):Se(h)}}}function gi(h){return h in vs?vs[h]:vs[h]="on"+h}function Bo(h,m){if(h.da)h=!0;else{m=new Tt(m,this);var v=h.listener,x=h.ha||h.src;h.fa&&pi(h),h=v.call(x,m)}return h}function Es(h){return h=h[Rr],h instanceof fi?h:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function jo(h){return typeof h=="function"?h:(h[Ts]||(h[Ts]=function(m){return h.handleEvent(m)}),h[Ts])}function me(){q.call(this),this.i=new fi(this),this.M=this,this.F=null}M(me,q),me.prototype[jt]=!0,me.prototype.removeEventListener=function(h,m,v,x){ws(this,h,m,v,x)};function ye(h,m){var v,x=h.F;if(x)for(v=[];x;x=x.F)v.push(x);if(h=h.M,x=m.type||m,typeof m=="string")m=new ct(m,h);else if(m instanceof ct)m.target=m.target||h;else{var B=m;m=new ct(x,h),D(m,B)}if(B=!0,v)for(var W=v.length-1;0<=W;W--){var rt=m.g=v[W];B=mi(rt,x,!0,m)&&B}if(rt=m.g=h,B=mi(rt,x,!0,m)&&B,B=mi(rt,x,!1,m)&&B,v)for(W=0;W<v.length;W++)rt=m.g=v[W],B=mi(rt,x,!1,m)&&B}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var v=h.g[m],x=0;x<v.length;x++)Se(v[x]);delete h.g[m],h.h--}}this.F=null},me.prototype.K=function(h,m,v,x){return this.i.add(String(h),m,!1,v,x)},me.prototype.L=function(h,m,v,x){return this.i.add(String(h),m,!0,v,x)};function mi(h,m,v,x){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,W=0;W<m.length;++W){var rt=m[W];if(rt&&!rt.da&&rt.capture==v){var Wt=rt.listener,_e=rt.ha||rt.src;rt.fa&&_s(h.i,rt),B=Wt.call(_e,x)!==!1&&B}}return B&&!x.defaultPrevented}function Uo(h,m,v){if(typeof h=="function")v&&(h=T(h,v));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:c.setTimeout(h,m||0)}function Ui(h){h.g=Uo(()=>{h.g=null,h.i&&(h.i=!1,Ui(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class br extends q{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(h){q.call(this),this.h=h,this.g={}}M(Dr,q);var Ho=[];function Wo(h){tt(h.g,function(m,v){this.g.hasOwnProperty(v)&&pi(m)},h),h.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Wo(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $o=c.JSON.stringify,qo=c.JSON.parse,Ko=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Mr(){}Mr.prototype.h=null;function xs(h){return h.h||(h.h=h.i())}function Ss(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){ct.call(this,"d")}M(Gn,ct);function Is(){ct.call(this,"c")}M(Is,ct);var Yn={},Qo=null;function Vr(){return Qo=Qo||new me}Yn.La="serverreachability";function Go(h){ct.call(this,Yn.La,h)}M(Go,ct);function yi(h){const m=Vr();ye(m,new Go(m))}Yn.STAT_EVENT="statevent";function Yo(h,m){ct.call(this,Yn.STAT_EVENT,h),this.stat=m}M(Yo,ct);function le(h){const m=Vr();ye(m,new Yo(m,h))}Yn.Ma="timingevent";function ks(h,m){ct.call(this,Yn.Ma,h),this.size=m}M(ks,ct);function bn(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},m)}function Or(){this.g=!0}Or.prototype.xa=function(){this.g=!1};function Nr(h,m,v,x,B,W){h.info(function(){if(h.g)if(W)for(var rt="",Wt=W.split("&"),_e=0;_e<Wt.length;_e++){var Mt=Wt[_e].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var de=Ie.split("_");rt=2<=de.length&&de[1]=="type"?rt+(Ie+"="+Mt+"&"):rt+(Ie+"=redacted&")}}else rt=null;else rt=W;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+m+`
`+v+`
`+rt})}function As(h,m,v,x,B,W,rt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+m+`
`+v+`
`+W+" "+rt})}function Dn(h,m,v,x){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+qc(h,v)+(x?" "+x:"")})}function Xo(h,m){h.info(function(){return"TIMEOUT: "+m})}Or.prototype.info=function(){};function qc(h,m){if(!h.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var x=v[h];if(!(2>x.length)){var B=x[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var rt=1;rt<B.length;rt++)B[rt]=""}}}}return $o(v)}catch{return m}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function Lr(){}M(Lr,Mr),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},Mn=new Lr;function Vn(h,m,v,x){this.j=h,this.i=m,this.l=v,this.R=x||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _l}function _l(){this.i=null,this.g="",this.h=!1}var Jo={},Ps={};function Rs(h,m,v){h.L=1,h.v=Ki(hn(m)),h.m=v,h.P=!0,Zo(h,null)}function Zo(h,m){h.F=Date.now(),Gt(h),h.A=hn(h.v);var v=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),Gi(v.i,"t",x),h.C=0,v=h.j.J,h.h=new _l,h.g=Nl(h.j,v?m:null,!h.m),0<h.O&&(h.M=new br(T(h.Y,h,h.g),h.O)),m=h.U,v=h.g,x=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ho[0]=B.toString()),B=Ho);for(var W=0;W<B.length;W++){var rt=Fo(v,B[W],x||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),yi(),Nr(h.i,h.u,h.A,h.l,h.R,h.m)}Vn.prototype.ca=function(h){h=h.target;const m=this.M;m&&Ze(h)==3?m.j():this.Y(h)},Vn.prototype.Y=function(h){try{if(h==this.g)t:{const de=Ze(this.g);var m=this.g.Ba();const wn=this.g.Z();if(!(3>de)&&(de!=3||this.g&&(this.h.h||this.g.oa()||sa(this.g)))){this.J||de!=4||m==7||(m==8||0>=wn?yi(3):yi(2)),Fr(this);var v=this.g.Z();this.X=v;e:if(vl(this)){var x=sa(this.g);h="";var B=x.length,W=Ze(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Hi(this);var rt="";break e}this.h.i=new c.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,h+=this.h.i.decode(x[m],{stream:!(W&&m==B-1)});x.length=0,this.h.g+=h,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=v==200,As(this.i,this.u,this.A,this.l,this.R,de,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,_e=this.g;if((Wt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Wt)){var Mt=Wt;break e}}Mt=null}if(v=Mt)Dn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,v);else{this.o=!1,this.s=3,le(12),_n(this),Hi(this);break t}}if(this.P){v=!0;let fn;for(;!this.J&&this.C<rt.length;)if(fn=Kc(this,rt),fn==Ps){de==4&&(this.s=4,le(14),v=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Jo){this.s=4,le(15),Dn(this.i,this.l,rt,"[Invalid Chunk]"),v=!1;break}else Dn(this.i,this.l,fn,null),ta(this,fn);if(vl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||rt.length!=0||this.h.h||(this.s=1,le(16),v=!1),this.o=this.o&&v,!v)Dn(this.i,this.l,rt,"[Invalid Chunked Response]"),_n(this),Hi(this);else if(0<rt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),aa(Ie),Ie.M=!0,le(11))}}else Dn(this.i,this.l,rt,null),ta(this,rt);de==4&&_n(this),this.o&&!this.J&&(de==4?js(this.j,this):(this.o=!1,Gt(this)))}else Ns(this.g),v==400&&0<rt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),_n(this),Hi(this)}}}catch{}finally{}};function vl(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Kc(h,m){var v=h.C,x=m.indexOf(`
`,v);return x==-1?Ps:(v=Number(m.substring(v,x)),isNaN(v)?Jo:(x+=1,x+v>m.length?Ps:(m=m.slice(x,x+v),h.C=x+v,m)))}Vn.prototype.cancel=function(){this.J=!0,_n(this)};function Gt(h){h.S=Date.now()+h.I,wl(h,h.I)}function wl(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=bn(T(h.ba,h),m)}function Fr(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Vn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Xo(this.i,this.A),this.L!=2&&(yi(),le(17)),_n(this),this.s=2,Hi(this)):wl(this,this.S-h)};function Hi(h){h.j.G==0||h.J||js(h.j,h)}function _n(h){Fr(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,Wo(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function ta(h,m){try{var v=h.j;if(v.G!=0&&(v.g==h||Ke(v.h,h))){if(!h.K&&Ke(v.h,h)&&v.G==3){try{var x=v.Da.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Bs(v),zn(v);else break t;zs(v),le(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=bn(T(v.Za,v),6e3));if(1>=Tl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ti(v,11)}else if((h.K||v.g==h)&&Bs(v),!$(m))for(B=v.Da.g.parse(m),m=0;m<B.length;m++){let Mt=B[m];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(v.la=Ie,v.j.info("VER="+v.la));const de=Mt[4];de!=null&&(v.Aa=de,v.j.info("SVER="+v.Aa));const wn=Mt[5];wn!=null&&typeof wn=="number"&&0<wn&&(x=1.5*wn,v.L=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const fn=h.g;if(fn){const $r=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var W=x.h;W.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ea(W,W.h),W.h=null))}if(x.D){const Hs=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(x.ya=Hs,Kt(x.I,x.D,Hs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),x=v;var rt=h;if(x.qa=Ol(x,x.J?x.ia:null,x.W),rt.K){xl(x.h,rt);var Wt=rt,_e=x.L;_e&&(Wt.I=_e),Wt.B&&(Fr(Wt),Gt(Wt)),x.g=rt}else Wr(x);0<v.i.length&&ti(v)}else Mt[0]!="stop"&&Mt[0]!="close"||Ti(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ti(v,7):be(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}yi(4)}catch{}}var El=class{constructor(h,m){this.g=h,this.map=m}};function zr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Tl(h){return h.h?1:h.g?h.g.size:0}function Ke(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function ea(h,m){h.g?h.g.add(m):h.h=m}function xl(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}zr.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const v of h.g.values())m=m.concat(v.D);return m}return b(h.i)}function bs(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var m=[],v=h.length,x=0;x<v;x++)m.push(h[x]);return m}m=[],v=0;for(x in h)m[v++]=h[x];return m}function Ds(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var m=[];h=h.length;for(var v=0;v<h;v++)m.push(v);return m}m=[],v=0;for(const x in h)m[v++]=x;return m}}}function Wi(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var v=Ds(h),x=bs(h),B=x.length,W=0;W<B;W++)m.call(void 0,x[W],v&&v[W],h)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(h,m){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var x=h[v].indexOf("="),B=null;if(0<=x){var W=h[v].substring(0,x);B=h[v].substring(x+1)}else W=h[v];m(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _i(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof _i){this.h=h.h,jr(this,h.j),this.o=h.o,this.g=h.g,$i(this,h.s),this.l=h.l;var m=h.i,v=new Xn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),qi(this,v),this.m=h.m}else h&&(m=String(h).match(Br))?(this.h=!1,jr(this,m[1]||"",!0),this.o=Rt(m[2]||""),this.g=Rt(m[3]||"",!0),$i(this,m[4]),this.l=Rt(m[5]||"",!0),qi(this,m[6]||"",!0),this.m=Rt(m[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}_i.prototype.toString=function(){var h=[],m=this.j;m&&h.push(Qi(m,Ms,!0),":");var v=this.g;return(v||m=="file")&&(h.push("//"),(m=this.o)&&h.push(Qi(m,Ms,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Qi(v,v.charAt(0)=="/"?Al:kl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Qi(v,na)),h.join("")};function hn(h){return new _i(h)}function jr(h,m,v){h.j=v?Rt(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function $i(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function qi(h,m,v){m instanceof Xn?(h.i=m,Jn(h.i,h.h)):(v||(m=Qi(m,Cl)),h.i=new Xn(m,h.h))}function Kt(h,m,v){h.i.set(m,v)}function Ki(h){return Kt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Rt(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qi(h,m,v){return typeof h=="string"?(h=encodeURI(h).replace(m,Il),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Il(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ms=/[#\/\?@]/g,kl=/[#\?:]/g,Al=/[#\?]/g,Cl=/[#\?@]/g,na=/#/g;function Xn(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function Re(h){h.g||(h.g=new Map,h.h=0,h.i&&Qc(h.i,function(m,v){h.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Xn.prototype,n.add=function(h,m){Re(this),this.i=null,h=vn(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(m),this.h+=1,this};function On(h,m){Re(h),m=vn(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function Nn(h,m){return Re(h),m=vn(h,m),h.g.has(m)}n.forEach=function(h,m){Re(this),this.g.forEach(function(v,x){v.forEach(function(B){h.call(m,B,x,this)},this)},this)},n.na=function(){Re(this);const h=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let x=0;x<m.length;x++){const B=h[x];for(let W=0;W<B.length;W++)v.push(m[x])}return v},n.V=function(h){Re(this);let m=[];if(typeof h=="string")Nn(this,h)&&(m=m.concat(this.g.get(vn(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)m=m.concat(h[v])}return m},n.set=function(h,m){return Re(this),this.i=null,h=vn(this,h),Nn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},n.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function Gi(h,m,v){On(h,m),0<v.length&&(h.i=null,h.g.set(vn(h,m),b(v)),h.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var x=m[v];const W=encodeURIComponent(String(x)),rt=this.V(x);for(x=0;x<rt.length;x++){var B=W;rt[x]!==""&&(B+="="+encodeURIComponent(String(rt[x]))),h.push(B)}}return this.i=h.join("&")};function vn(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function Jn(h,m){m&&!h.j&&(Re(h),h.i=null,h.g.forEach(function(v,x){var B=x.toLowerCase();x!=B&&(On(this,x),Gi(this,B,v))},h)),h.j=m}function Gc(h,m){const v=new Or;if(c.Image){const x=new Image;x.onload=S(Je,v,"TestLoadImage: loaded",!0,m,x),x.onerror=S(Je,v,"TestLoadImage: error",!1,m,x),x.onabort=S(Je,v,"TestLoadImage: abort",!1,m,x),x.ontimeout=S(Je,v,"TestLoadImage: timeout",!1,m,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else m(!1)}function Pl(h,m){const v=new Or,x=new AbortController,B=setTimeout(()=>{x.abort(),Je(v,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:x.signal}).then(W=>{clearTimeout(B),W.ok?Je(v,"TestPingServer: ok",!0,m):Je(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Je(v,"TestPingServer: error",!1,m)})}function Je(h,m,v,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(v)}catch{}}function Yc(){this.g=new Ko}function Rl(h,m,v){const x=v||"";try{Wi(h,function(B,W){let rt=B;p(B)&&(rt=$o(B)),m.push(x+W+"="+encodeURIComponent(rt))})}catch(B){throw m.push(x+"type="+encodeURIComponent("_badmap")),B}}function vi(h){this.l=h.Ub||null,this.j=h.eb||!1}M(vi,Mr),vi.prototype.g=function(){return new Ur(this.l,this.j)},vi.prototype.i=function(h){return function(){return h}}({});function Ur(h,m){me.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ur,me),n=Ur.prototype,n.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,Fn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||c).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ln(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?Ln(this):Fn(this),this.readyState==3&&bl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ln(this))},n.Qa=function(h){this.g&&(this.response=h,Ln(this))},n.ga=function(){this.g&&Ln(this)};function Ln(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Fn(h)}n.setRequestHeader=function(h,m){this.u.append(h,m)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=m.next();return h.join(`\r
`)};function Fn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wi(h){let m="";return tt(h,function(v,x){m+=x,m+=":",m+=v,m+=`\r
`}),m}function Yi(h,m,v){t:{for(x in v){var x=!1;break t}x=!0}x||(v=wi(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Kt(h,m,v))}function ee(h){me.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ee,me);var Xc=/^https?$/i,ia=["POST","PUT"];n=ee.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,m,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?xs(this.o):xs(Mn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(W){Hr(this,W);return}if(h=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)v.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())v.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ia,m,void 0))||x||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,rt]of v)this.g.setRequestHeader(W,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Hr(this,W)}};function Hr(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,Vs(h),dn(h)}function Vs(h){h.A||(h.A=!0,ye(h,"complete"),ye(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ye(this,"complete"),ye(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),ee.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},n.bb=function(){ra(this)};function ra(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Ze(h)!=4||h.Z()!=2)){if(h.u&&Ze(h)==4)Uo(h.Ea,0,h);else if(ye(h,"readystatechange"),Ze(h)==4){h.h=!1;try{const rt=h.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var x;if(x=rt===0){var B=String(h.D).match(Br)[1]||null;!B&&c.self&&c.self.location&&(B=c.self.location.protocol.slice(0,-1)),x=!Xc.test(B?B.toLowerCase():"")}v=x}if(v)ye(h,"complete"),ye(h,"success");else{h.m=6;try{var W=2<Ze(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",Vs(h)}}finally{dn(h)}}}}function dn(h,m){if(h.g){Os(h);const v=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||ye(h,"ready");try{v.onreadystatechange=x}catch{}}}function Os(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Ze(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Ze(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),qo(m)}};function sa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(h){const m={};h=(h.g&&2<=Ze(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if($(h[x]))continue;var v=V(h[x]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[B]||[];m[B]=W,W.push(v)}P(m,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(h,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||m}function oa(h){this.Aa=0,this.i=[],this.j=new Or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,h),this.cb=Zn("retryDelaySeedMs",1e4,h),this.Wa=Zn("forwardChannelMaxRetries",2,h),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new zr(h&&h.concurrentRequestLimit),this.Da=new Yc,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oa.prototype,n.la=8,n.G=1,n.connect=function(h,m,v,x){le(0),this.W=h,this.H=m||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.I=Ol(this,null,this.W),ti(this)};function be(h){if(Ls(h),h.G==3){var m=h.U++,v=hn(h.I);if(Kt(v,"SID",h.K),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Ei(h,v),m=new Vn(h,h.j,m),m.L=2,m.v=Ki(hn(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&c.Image&&(new Image().src=m.v,v=!0),v||(m.g=Nl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gt(m)}Vl(h)}function zn(h){h.g&&(aa(h),h.g.cancel(),h.g=null)}function Ls(h){zn(h),h.u&&(c.clearTimeout(h.u),h.u=null),Bs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function ti(h){if(!cn(h.h)&&!h.s){h.s=!0;var m=h.Ga;It||st(),it||(It(),it=!0),ft.add(m,h),h.B=0}}function Jc(h,m){return Tl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=bn(T(h.Ga,h,m),Ml(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new Vn(this,this.j,h);let W=this.o;if(this.S&&(W?(W=I(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Xi(this,B,m),v=hn(this.I),Kt(v,"RID",h),Kt(v,"CVER",22),this.D&&Kt(v,"X-HTTP-Session-Id",this.D),Ei(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(wi(W)))+"&"+m:this.m&&Yi(v,this.m,W)),ea(this.h,B),this.Ua&&Kt(v,"TYPE","init"),this.P?(Kt(v,"$req",m),Kt(v,"SID","null"),B.T=!0,Rs(B,v,null)):Rs(B,v,m),this.G=2}}else this.G==3&&(h?Fs(this,h):this.i.length==0||cn(this.h)||Fs(this))};function Fs(h,m){var v;m?v=m.l:v=h.U++;const x=hn(h.I);Kt(x,"SID",h.K),Kt(x,"RID",v),Kt(x,"AID",h.T),Ei(h,x),h.m&&h.o&&Yi(x,h.m,h.o),v=new Vn(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),m&&(h.i=m.D.concat(h.i)),m=Xi(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ea(h.h,v),Rs(v,x,m)}function Ei(h,m){h.H&&tt(h.H,function(v,x){Kt(m,x,v)}),h.l&&Wi({},function(v,x){Kt(m,x,v)})}function Xi(h,m,v){v=Math.min(h.i.length,v);var x=h.l?T(h.l.Na,h.l,h):null;t:{var B=h.i;let W=-1;for(;;){const rt=["count="+v];W==-1?0<v?(W=B[0].g,rt.push("ofs="+W)):W=0:rt.push("ofs="+W);let Wt=!0;for(let _e=0;_e<v;_e++){let Mt=B[_e].g;const Ie=B[_e].map;if(Mt-=W,0>Mt)W=Math.max(0,B[_e].g-100),Wt=!1;else try{Rl(Ie,rt,"req"+Mt+"_")}catch{x&&x(Ie)}}if(Wt){x=rt.join("&");break t}}}return h=h.i.splice(0,v),m.D=h,x}function Wr(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;It||st(),it||(It(),it=!0),ft.add(m,h),h.v=0}}function zs(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=bn(T(h.Fa,h),Ml(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Dl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=bn(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),zn(this),Dl(this))};function aa(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Dl(h){h.g=new Vn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=hn(h.qa);Kt(m,"RID","rpc"),Kt(m,"SID",h.K),Kt(m,"AID",h.T),Kt(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&Kt(m,"TO",h.ja),Kt(m,"TYPE","xmlhttp"),Ei(h,m),h.m&&h.o&&Yi(m,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Ki(hn(m)),v.m=null,v.P=!0,Zo(v,h)}n.Za=function(){this.C!=null&&(this.C=null,zn(this),zs(this),le(19))};function Bs(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function js(h,m){var v=null;if(h.g==m){Bs(h),aa(h),h.g=null;var x=2}else if(Ke(h.h,m))v=m.D,xl(h.h,m),x=1;else return;if(h.G!=0){if(m.o)if(x==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var B=h.B;x=Vr(),ye(x,new ks(x,v)),ti(h)}else Wr(h);else if(B=m.s,B==3||B==0&&0<m.X||!(x==1&&Jc(h,m)||x==2&&zs(h)))switch(v&&0<v.length&&(m=h.h,m.i=m.i.concat(v)),B){case 1:Ti(h,5);break;case 4:Ti(h,10);break;case 3:Ti(h,6);break;default:Ti(h,2)}}}function Ml(h,m){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*m}function Ti(h,m){if(h.j.info("Error code "+m),m==2){var v=T(h.fb,h),x=h.Xa;const B=!x;x=new _i(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||jr(x,"https"),Ki(x),B?Gc(x.toString(),v):Pl(x.toString(),v)}else le(2);h.G=0,h.l&&h.l.sa(m),Vl(h),Ls(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Vl(h){if(h.G=0,h.ka=[],h.l){const m=Sl(h.h);(m.length!=0||h.i.length!=0)&&(R(h.ka,m),R(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function Ol(h,m,v){var x=v instanceof _i?hn(v):new _i(v);if(x.g!="")m&&(x.g=m+"."+x.g),$i(x,x.s);else{var B=c.location;x=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var W=new _i(null);x&&jr(W,x),m&&(W.g=m),B&&$i(W,B),v&&(W.l=v),x=W}return v=h.D,m=h.ya,v&&m&&Kt(x,v,m),Kt(x,"VER",h.la),Ei(h,x),x}function Nl(h,m,v){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new ee(new vi({eb:v})):new ee(h.pa),m.Ha(h.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function la(){}n=la.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Us(){}Us.prototype.g=function(h,m){return new Qe(h,m)};function Qe(h,m){me.call(this),this.g=new oa(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!$(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!$(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new ei(this)}M(Qe,me),Qe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qe.prototype.close=function(){be(this.g)},Qe.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=$o(h),h=v);m.i.push(new El(m.Ya++,h)),m.G==3&&ti(m)},Qe.prototype.N=function(){this.g.l=null,delete this.j,be(this.g),delete this.g,Qe.aa.N.call(this)};function Ll(h){Gn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){t:{for(const v in m){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}M(Ll,Gn);function Fl(){Is.call(this),this.status=1}M(Fl,Is);function ei(h){this.g=h}M(ei,la),ei.prototype.ua=function(){ye(this.g,"a")},ei.prototype.ta=function(h){ye(this.g,new Ll(h))},ei.prototype.sa=function(h){ye(this.g,new Fl)},ei.prototype.ra=function(){ye(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,Qe.prototype.send=Qe.prototype.o,Qe.prototype.open=Qe.prototype.m,Qe.prototype.close=Qe.prototype.close,W_=function(){return new Us},H_=function(){return Vr()},U_=Yn,Xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Ju=Cs,yl.COMPLETE="complete",j_=yl,Ss.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",me.prototype.listen=me.prototype.K,Fa=Ss,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,B_=ee}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const bm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new M_("@firebase/firestore");function ho(){return ps.logLevel}function at(n,...t){if(ps.logLevel<=Ot.DEBUG){const e=t.map(If);ps.debug(`Firestore (${Ro}): ${n}`,...e)}}function zi(n,...t){if(ps.logLevel<=Ot.ERROR){const e=t.map(If);ps.error(`Firestore (${Ro}): ${n}`,...e)}}function Eo(n,...t){if(ps.logLevel<=Ot.WARN){const e=t.map(If);ps.warn(`Firestore (${Ro}): ${n}`,...e)}}function If(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n="Unexpected state"){const t=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+n;throw zi(t),new Error(t)}function Ht(n,t){n||wt()}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Po{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ue.UNAUTHENTICATED))}shutdown(){}}class RE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class bE{constructor(t){this.t=t,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ht(this.o===void 0);let i=this.i;const s=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let a=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _r,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;t.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _r)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ht(typeof i.accessToken=="string"),new $_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string"),new Ue(t)}}class DE{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ME{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new DE(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OE{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Ht(this.o===void 0);const i=a=>{a.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,at("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ht(typeof e.token=="string"),this.R=e.token,new VE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=NE(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<e&&(i+=t.charAt(s[a]%t.length))}return i}}function bt(n,t){return n<t?-1:n>t?1:0}function To(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Xe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new pt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Xe(0,0))}static max(){return new Et(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t,e,i){e===void 0?e=0:e>t.length&&wt(),i===void 0?i=t.length-e:i>t.length-e&&wt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return tl.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof tl?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const a=t.get(s),l=e.get(s);if(a<l)return-1;if(a>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ie extends tl{construct(t,e,i){return new ie(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new pt(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new ie(e)}static emptyPath(){return new ie([])}}const LE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends tl{construct(t,e,i){return new We(t,e,i)}static isValidIdentifier(t){return LE.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new We(["__name__"])}static fromServerFormat(t){const e=[];let i="",s=0;const a=()=>{if(i.length===0)throw new pt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new pt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new pt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(e)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ie.fromString(t))}static fromName(t){return new yt(ie.fromString(t).popFirst(5))}static empty(){return new yt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ie.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ie(t.slice()))}}function FE(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Et.fromTimestamp(i===1e9?new Xe(e+1,0):new Xe(e,i));return new xr(s,yt.empty(),t)}function zE(n){return new xr(n.readTime,n.key,-1)}class xr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new xr(Et.min(),yt.empty(),-1)}static max(){return new xr(Et.max(),yt.empty(),-1)}}function BE(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:bt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==jE)throw n;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new K((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof K?e:K.resolve(e)}catch(e){return K.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):K.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):K.reject(e)}static resolve(t){return new K((e,i)=>{e(t)})}static reject(t){return new K((e,i)=>{i(t)})}static waitFor(t){return new K((e,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&e()},f=>i(f))}),l=!0,a===s&&e()})}static or(t){let e=K.resolve(!1);for(const i of t)e=e.next(s=>s?K.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,a)=>{i.push(e.call(this,s,a))}),this.waitFor(i)}static mapArray(t,e){return new K((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;e(t[p]).next(_=>{l[p]=_,++c,c===a&&i(l)},_=>s(_))}})}static doWhile(t,e){return new K((i,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):i()};a()})}}function HE(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Do(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ie(i),this.se=i=>e.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Pc.oe=-1;function Rc(n){return n==null}function Jd(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Dm(t)),t=$E(n.get(e),t);return Dm(t)}function $E(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":e+="";break;case"":e+="";break;default:e+=a}}return e}function Dm(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Mo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function qE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,e){this.comparator=t,this.root=e||Ve.EMPTY}insert(t,e){return new oe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mu(this.root,t,this.comparator,!0)}}class Mu{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ve{constructor(t,e,i,s,a){this.key=t,this.value=e,this.color=i??Ve.RED,this.left=s??Ve.EMPTY,this.right=a??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,a){return new Ve(t??this.key,e??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,i),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Ve.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,e,i,s,a){return this}insert(t,e,i){return new Ve(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Vm(this.data.getIterator())}getIteratorFrom(t){return new Vm(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new xe(this.comparator);return e.data=t,e}}class Vm{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Oi([])}unionWith(t){let e=new xe(We.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Oi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new K_("Invalid base64 string: "+a):a}}(t);return new Oe(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Oe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oe.EMPTY_BYTE_STRING=new Oe("");const KE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(n){if(Ht(!!n),typeof n=="string"){let t=0;const e=KE.exec(n);if(Ht(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ce(n.seconds),nanos:ce(n.nanos)}}function ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ir(n){return typeof n=="string"?Oe.fromBase64String(n):Oe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function bc(n){const t=n.mapValue.fields.__previous_value__;return kf(t)?bc(t):t}function el(n){const t=Sr(n.mapValue.fields.__local_write_time__.timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,e,i,s,a,l,c,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}class nl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof nl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function kr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kf(n)?4:YE(n)?9007199254740991:GE(n)?10:11:wt()}function hi(n,t){if(n===t)return!0;const e=kr(n);if(e!==kr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return el(n).isEqual(el(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Sr(s.timestampValue),c=Sr(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,a){return Ir(s.bytesValue).isEqual(Ir(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,a){return ce(s.geoPointValue.latitude)===ce(a.geoPointValue.latitude)&&ce(s.geoPointValue.longitude)===ce(a.geoPointValue.longitude)}(n,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ce(s.integerValue)===ce(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ce(s.doubleValue),c=ce(a.doubleValue);return l===c?Jd(l)===Jd(c):isNaN(l)&&isNaN(c)}return!1}(n,t);case 9:return To(n.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Mm(l)!==Mm(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!hi(l[f],c[f])))return!1;return!0}(n,t);default:return wt()}}function il(n,t){return(n.values||[]).find(e=>hi(e,t))!==void 0}function xo(n,t){if(n===t)return 0;const e=kr(n),i=kr(t);if(e!==i)return bt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return bt(n.booleanValue,t.booleanValue);case 2:return function(a,l){const c=ce(a.integerValue||a.doubleValue),f=ce(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,t);case 3:return Om(n.timestampValue,t.timestampValue);case 4:return Om(el(n),el(t));case 5:return bt(n.stringValue,t.stringValue);case 6:return function(a,l){const c=Ir(a),f=Ir(l);return c.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const _=bt(c[p],f[p]);if(_!==0)return _}return bt(c.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const c=bt(ce(a.latitude),ce(l.latitude));return c!==0?c:bt(ce(a.longitude),ce(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Nm(n.arrayValue,t.arrayValue);case 10:return function(a,l){var c,f,p,_;const w=a.fields||{},T=l.fields||{},S=(c=w.value)===null||c===void 0?void 0:c.arrayValue,M=(f=T.value)===null||f===void 0?void 0:f.arrayValue,b=bt(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0);return b!==0?b:Nm(S,M)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===Vu.mapValue&&l===Vu.mapValue)return 0;if(a===Vu.mapValue)return 1;if(l===Vu.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},_=Object.keys(p);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const T=bt(f[w],_[w]);if(T!==0)return T;const S=xo(c[f[w]],p[_[w]]);if(S!==0)return S}return bt(f.length,_.length)}(n.mapValue,t.mapValue);default:throw wt()}}function Om(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return bt(n,t);const e=Sr(n),i=Sr(t),s=bt(e.seconds,i.seconds);return s!==0?s:bt(e.nanos,i.nanos)}function Nm(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const a=xo(e[s],i[s]);if(a)return a}return bt(e.length,i.length)}function So(n){return Zd(n)}function Zd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Sr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Ir(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return yt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const a of e.values||[])s?s=!1:i+=",",i+=Zd(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${Zd(e.fields[l])}`;return s+"}"}(n.mapValue):wt()}function Zu(n){switch(kr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bc(n);return t?16+Zu(t):16;case 5:return 2*n.stringValue.length;case 6:return Ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Zu(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Mo(i.fields,(a,l)=>{s+=a.length+Zu(l)}),s}(n.mapValue);default:throw wt()}}function tf(n){return!!n&&"integerValue"in n}function Af(n){return!!n&&"arrayValue"in n}function Lm(n){return!!n&&"nullValue"in n}function Fm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tc(n){return!!n&&"mapValue"in n}function GE(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Wa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Mo(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Wa(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Wa(n.arrayValue.values[e]);return t}return Object.assign({},n)}function YE(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!tc(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wa(e)}setAll(t){let e=We.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!e.isImmediateParentOf(c)){const f=this.getFieldsMap(e);this.applyChanges(f,i,s),i={},s=[],e=c.popLast()}l?i[c.lastSegment()]=Wa(l):s.push(c.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,s)}delete(t){const e=this.field(t.popLast());tc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];tc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Mo(e,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new qn(Wa(this.value))}}function Q_(n){const t=[];return Mo(n.fields,(e,i)=>{const s=new We([e]);if(tc(i)){const a=Q_(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,e,i,s,a,l,c){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new He(t,0,Et.min(),Et.min(),Et.min(),qn.empty(),0)}static newFoundDocument(t,e,i,s){return new He(t,1,e,Et.min(),i,s,0)}static newNoDocument(t,e){return new He(t,2,e,Et.min(),Et.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new He(t,3,e,Et.min(),Et.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof He&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,e){this.position=t,this.inclusive=e}}function zm(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const a=t[s],l=n.position[s];if(a.field.isKeyField()?i=yt.comparator(yt.fromName(l.referenceValue),e.key):i=xo(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Bm(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!hi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,e="asc"){this.field=t,this.dir=e}}function XE(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{}class Ee extends G_{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new ZE(t,e,i):e==="array-contains"?new nT(t,i):e==="in"?new iT(t,i):e==="not-in"?new rT(t,i):e==="array-contains-any"?new sT(t,i):new Ee(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new tT(t,i):new eT(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(xo(e,this.value)):e!==null&&kr(this.value)===kr(e)&&this.matchesComparison(xo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends G_{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new di(t,e)}matches(t){return Y_(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y_(n){return n.op==="and"}function X_(n){return JE(n)&&Y_(n)}function JE(n){for(const t of n.filters)if(t instanceof di)return!1;return!0}function ef(n){if(n instanceof Ee)return n.field.canonicalString()+n.op.toString()+So(n.value);if(X_(n))return n.filters.map(t=>ef(t)).join(",");{const t=n.filters.map(e=>ef(e)).join(",");return`${n.op}(${t})`}}function J_(n,t){return n instanceof Ee?function(i,s){return s instanceof Ee&&i.op===s.op&&i.field.isEqual(s.field)&&hi(i.value,s.value)}(n,t):n instanceof di?function(i,s){return s instanceof di&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&J_(l,s.filters[c]),!0):!1}(n,t):void wt()}function Z_(n){return n instanceof Ee?function(e){return`${e.field.canonicalString()} ${e.op} ${So(e.value)}`}(n):n instanceof di?function(e){return e.op.toString()+" {"+e.getFilters().map(Z_).join(" ,")+"}"}(n):"Filter"}class ZE extends Ee{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class tT extends Ee{constructor(t,e){super(t,"in",e),this.keys=t0("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class eT extends Ee{constructor(t,e){super(t,"not-in",e),this.keys=t0("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function t0(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>yt.fromName(i.referenceValue))}class nT extends Ee{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Af(e)&&il(e.arrayValue,this.value)}}class iT extends Ee{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&il(this.value.arrayValue,e)}}class rT extends Ee{constructor(t,e){super(t,"not-in",e)}matches(t){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!il(this.value.arrayValue,e)}}class sT extends Ee{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Af(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>il(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,e=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function jm(n,t=null,e=[],i=[],s=null,a=null,l=null){return new oT(n,t,e,i,s,a,l)}function Cf(n){const t=xt(n);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>ef(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Rc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>So(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>So(i)).join(",")),t.ue=e}return t.ue}function Pf(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!XE(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!J_(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Bm(n.startAt,t.startAt)&&Bm(n.endAt,t.endAt)}function nf(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,e=null,i=[],s=[],a=null,l="F",c=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aT(n,t,e,i,s,a,l,c){return new Dc(n,t,e,i,s,a,l,c)}function e0(n){return new Dc(n)}function Um(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lT(n){return n.collectionGroup!==null}function $a(n){const t=xt(n);if(t.ce===null){t.ce=[];const e=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new xe(We.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.ce.push(new fc(a,i))}),e.has(We.keyField().canonicalString())||t.ce.push(new fc(We.keyField(),i))}return t.ce}function ui(n){const t=xt(n);return t.le||(t.le=uT(t,$a(n))),t.le}function uT(n,t){if(n.limitType==="F")return jm(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new fc(s.field,a)});const e=n.endAt?new dc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new dc(n.startAt.position,n.startAt.inclusive):null;return jm(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function rf(n,t,e){return new Dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Mc(n,t){return Pf(ui(n),ui(t))&&n.limitType===t.limitType}function n0(n){return`${Cf(ui(n))}|lt:${n.limitType}`}function fo(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>Z_(s)).join(", ")}]`),Rc(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>So(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>So(s)).join(",")),`Target(${i})`}(ui(n))}; limitType=${n.limitType})`}function Vc(n,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):yt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,t)&&function(i,s){for(const a of $a(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,c,f){const p=zm(l,c,f);return l.inclusive?p<=0:p<0}(i.startAt,$a(i),s)||i.endAt&&!function(l,c,f){const p=zm(l,c,f);return l.inclusive?p>=0:p>0}(i.endAt,$a(i),s))}(n,t)}function cT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i0(n){return(t,e)=>{let i=!1;for(const s of $a(n)){const a=hT(s,t,e);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function hT(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?xo(f,p):wt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Mo(this.inner,(e,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return qE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new oe(yt.comparator);function Bi(){return dT}const r0=new oe(yt.comparator);function za(...n){let t=r0;for(const e of n)t=t.insert(e.key,e);return t}function s0(n){let t=r0;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function cs(){return qa()}function o0(){return qa()}function qa(){return new ms(n=>n.toString(),(n,t)=>n.isEqual(t))}const fT=new oe(yt.comparator),pT=new xe(yt.comparator);function Pt(...n){let t=pT;for(const e of n)t=t.add(e);return t}const gT=new xe(bt);function mT(){return gT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(t)?"-0":t}}function _T(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this._=void 0}}function vT(n,t,e){return n instanceof pc?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&kf(a)&&(a=bc(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(e,t):n instanceof rl?l0(n,t):n instanceof sl?u0(n,t):function(s,a){const l=a0(s,a),c=Hm(l)+Hm(s.Pe);return tf(l)&&tf(s.Pe)?_T(c):yT(s.serializer,c)}(n,t)}function wT(n,t,e){return n instanceof rl?l0(n,t):n instanceof sl?u0(n,t):e}function a0(n,t){return n instanceof gc?function(i){return tf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class pc extends Oc{}class rl extends Oc{constructor(t){super(),this.elements=t}}function l0(n,t){const e=c0(t);for(const i of n.elements)e.some(s=>hi(s,i))||e.push(i);return{arrayValue:{values:e}}}class sl extends Oc{constructor(t){super(),this.elements=t}}function u0(n,t){let e=c0(t);for(const i of n.elements)e=e.filter(s=>!hi(s,i));return{arrayValue:{values:e}}}class gc extends Oc{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Hm(n){return ce(n.integerValue||n.doubleValue)}function c0(n){return Af(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ET(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof rl&&s instanceof rl||i instanceof sl&&s instanceof sl?To(i.elements,s.elements,hi):i instanceof gc&&s instanceof gc?hi(i.Pe,s.Pe):i instanceof pc&&s instanceof pc}(n.transform,t.transform)}class TT{constructor(t,e){this.version=t,this.transformResults=e}}class Ni{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ni}static exists(t){return new Ni(void 0,t)}static updateTime(t){return new Ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ec(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Nc{}function h0(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Rf(n.key,Ni.none()):new Lc(n.key,n.data,Ni.none());{const e=n.data,i=qn.empty();let s=new xe(We.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Vo(n.key,i,new Oi(s.toArray()),Ni.none())}}function xT(n,t,e){n instanceof Lc?function(s,a,l){const c=s.value.clone(),f=$m(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Vo?function(s,a,l){if(!ec(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=$m(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(d0(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function Ka(n,t,e,i){return n instanceof Lc?function(a,l,c,f){if(!ec(a.precondition,l))return c;const p=a.value.clone(),_=qm(a.fieldTransforms,f,l);return p.setAll(_),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Vo?function(a,l,c,f){if(!ec(a.precondition,l))return c;const p=qm(a.fieldTransforms,f,l),_=l.data;return _.setAll(d0(a)),_.setAll(p),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,t,e,i):function(a,l,c){return ec(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,t,e)}function ST(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),a=a0(i.transform,s||null);a!=null&&(e===null&&(e=qn.empty()),e.set(i.field,a))}return e||null}function Wm(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&To(i,s,(a,l)=>ET(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Lc extends Nc{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Vo extends Nc{constructor(t,e,i,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function d0(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function $m(n,t,e){const i=new Map;Ht(n.length===e.length);for(let s=0;s<e.length;s++){const a=n[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,wT(l,c,e[s]))}return i}function qm(n,t,e){const i=new Map;for(const s of n){const a=s.transform,l=e.data.field(s.field);i.set(s.field,vT(a,l,t))}return i}class Rf extends Nc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IT extends Nc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&xT(a,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ka(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ka(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=o0();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=e.has(s.key)?null:c;const f=h0(l,c);f!==null&&i.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Et.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Pt())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,(e,i)=>Wm(e,i))&&To(this.baseMutations,t.baseMutations,(e,i)=>Wm(e,i))}}class bf{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Ht(t.mutations.length===i.length);let s=function(){return fT}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new bf(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Vt;function PT(n){switch(n){default:return wt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function f0(n){if(n===void 0)return zi("GRPC error has no .code"),J.UNKNOWN;switch(n){case pe.OK:return J.OK;case pe.CANCELLED:return J.CANCELLED;case pe.UNKNOWN:return J.UNKNOWN;case pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pe.INTERNAL:return J.INTERNAL;case pe.UNAVAILABLE:return J.UNAVAILABLE;case pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pe.NOT_FOUND:return J.NOT_FOUND;case pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pe.ABORTED:return J.ABORTED;case pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pe.DATA_LOSS:return J.DATA_LOSS;default:return wt()}}(Vt=pe||(pe={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new ds([4294967295,4294967295],0);function Km(n){const t=RT().encode(n),e=new z_;return e.update(t),new Uint8Array(e.digest())}function Qm(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ds([e,i],0),new ds([s,a],0)]}class Df{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ba(`Invalid padding: ${e}`);if(i<0)throw new Ba(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ie=ds.fromNumber(this.Te)}Ee(t,e,i){let s=t.add(e.multiply(ds.fromNumber(i)));return s.compare(bT)===1&&(s=new ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const e=Km(t),[i,s]=Qm(e);for(let a=0;a<this.hashCount;a++){const l=this.Ee(i,s,a);if(!this.de(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new Df(a,s,e);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.Te===0)return;const e=Km(t),[i,s]=Qm(e);for(let a=0;a<this.hashCount;a++){const l=this.Ee(i,s,a);this.Ae(l)}}Ae(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,e,i,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,hl.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Fc(Et.min(),s,new oe(bt),Bi(),Pt())}}class hl{constructor(t,e,i,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new hl(i,e,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,e,i,s){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=s}}class p0{constructor(t,e){this.targetId=t,this.me=e}}class g0{constructor(t,e,i=Oe.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class Gm{constructor(){this.fe=0,this.ge=Ym(),this.pe=Oe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Pt(),e=Pt(),i=Pt();return this.ge.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:wt()}}),new hl(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=Ym()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class DT{constructor(t){this.Le=t,this.Be=new Map,this.ke=Bi(),this.qe=Ou(),this.Qe=Ou(),this.Ke=new oe(bt)}$e(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(e,t.Ve):this.We(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.We(e,t.key,t.Ve)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.je(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.De(t.resumeToken));break;default:wt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,s)=>{this.je(s)&&e(s)})}Je(t){const e=t.targetId,i=t.me.count,s=this.Ye(e);if(s){const a=s.target;if(nf(a))if(i===0){const l=new yt(a.path);this.We(e,l,He.newNoDocument(l,Et.min()))}else Ht(i===1);else{const l=this.Ze(e);if(l!==i){const c=this.Xe(t),f=c?this.et(c,t,l):1;if(f!==0){this.He(e);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,p)}}}}}Xe(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=e;let l,c;try{l=Ir(i).toUint8Array()}catch(f){if(f instanceof K_)return Eo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Df(l,s,a)}catch(f){return Eo(f instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Te===0?null:c}et(t,e,i){return e.me.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let s=0;return i.forEach(a=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.We(e,a,null),s++)}),s}it(t){const e=new Map;this.Be.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&nf(c.target)){const f=new yt(c.target.path);this.st(f).has(l)||this.ot(l,f)||this.We(l,f,He.newNoDocument(f,t))}a.be&&(e.set(l,a.ve()),a.Ce())}});let i=Pt();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(t));const s=new Fc(t,e,this.Ke,this.ke,i);return this.ke=Bi(),this.qe=Ou(),this.Qe=Ou(),this.Ke=new oe(bt),s}Ue(t,e){if(!this.je(t))return;const i=this.ot(t,e.key)?2:0;this.ze(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t)),this.Qe=this.Qe.insert(e.key,this._t(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const s=this.ze(t);this.ot(t,e)?s.Fe(e,1):s.Me(e),this.Qe=this.Qe.insert(e,this._t(e).delete(t)),this.Qe=this.Qe.insert(e,this._t(e).add(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let e=this.Be.get(t);return e||(e=new Gm,this.Be.set(t,e)),e}_t(t){let e=this.Qe.get(t);return e||(e=new xe(bt),this.Qe=this.Qe.insert(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new xe(bt),this.qe=this.qe.insert(t,e)),e}je(t){const e=this.Ye(t)!==null;return e||at("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new Gm),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}ot(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Ou(){return new oe(yt.comparator)}function Ym(){return new oe(yt.comparator)}const MT={asc:"ASCENDING",desc:"DESCENDING"},VT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OT={and:"AND",or:"OR"};class NT{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function sf(n,t){return n.useProto3Json||Rc(t)?t:{value:t}}function m0(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function FT(n,t){return m0(n,t.toTimestamp())}function ci(n){return Ht(!!n),Et.fromTimestamp(function(e){const i=Sr(e);return new Xe(i.seconds,i.nanos)}(n))}function y0(n,t){return of(n,t).canonicalString()}function of(n,t){const e=function(s){return new ie(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function _0(n){const t=ie.fromString(n);return Ht(x0(t)),t}function af(n,t){return y0(n.databaseId,t.path)}function Ad(n,t){const e=_0(t);if(e.get(1)!==n.databaseId.projectId)throw new pt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new pt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(w0(e))}function v0(n,t){return y0(n.databaseId,t)}function zT(n){const t=_0(n);return t.length===4?ie.emptyPath():w0(t)}function lf(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w0(n){return Ht(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Xm(n,t,e){return{name:af(n,t),fields:e.value.mapValue.fields}}function BT(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(p,_){return p.useProto3Json?(Ht(_===void 0||typeof _=="string"),Oe.fromBase64String(_||"")):(Ht(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Oe.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(p){const _=p.code===void 0?J.UNKNOWN:f0(p.code);return new pt(_,p.message||"")}(l);e=new g0(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Ad(n,i.document.name),a=ci(i.document.updateTime),l=i.document.createTime?ci(i.document.createTime):Et.min(),c=new qn({mapValue:{fields:i.document.fields}}),f=He.newFoundDocument(s,a,l,c),p=i.targetIds||[],_=i.removedTargetIds||[];e=new nc(p,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Ad(n,i.document),a=i.readTime?ci(i.readTime):Et.min(),l=He.newNoDocument(s,a),c=i.removedTargetIds||[];e=new nc([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Ad(n,i.document),a=i.removedTargetIds||[];e=new nc([],a,s,null)}else{if(!("filter"in t))return wt();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new CT(s,a),c=i.targetId;e=new p0(c,l)}}return e}function jT(n,t){let e;if(t instanceof Lc)e={update:Xm(n,t.key,t.value)};else if(t instanceof Rf)e={delete:af(n,t.key)};else if(t instanceof Vo)e={update:Xm(n,t.key,t.data),updateMask:YT(t.fieldMask)};else{if(!(t instanceof IT))return wt();e={verify:af(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof pc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof rl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof sl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gc)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw wt()}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:FT(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:wt()}(n,t.precondition)),e}function UT(n,t){return n&&n.length>0?(Ht(t!==void 0),n.map(e=>function(s,a){let l=s.updateTime?ci(s.updateTime):ci(a);return l.isEqual(Et.min())&&(l=ci(a)),new TT(l,s.transformResults||[])}(e,t))):[]}function HT(n,t){return{documents:[v0(n,t.path)]}}function WT(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=v0(n,s);const a=function(p){if(p.length!==0)return T0(di.create(p,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(_=>function(T){return{field:po(T.field),direction:KT(T.dir)}}(_))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const c=sf(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ct:e,parent:s}}function $T(n){let t=zT(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Ht(i===1);const _=e.from[0];_.allDescendants?s=_.collectionId:t=t.child(_.collectionId)}let a=[];e.where&&(a=function(w){const T=E0(w);return T instanceof di&&X_(T)?T.getFilters():[T]}(e.where));let l=[];e.orderBy&&(l=function(w){return w.map(T=>function(M){return new fc(go(M.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(T))}(e.orderBy));let c=null;e.limit&&(c=function(w){let T;return T=typeof w=="object"?w.value:w,Rc(T)?null:T}(e.limit));let f=null;e.startAt&&(f=function(w){const T=!!w.before,S=w.values||[];return new dc(S,T)}(e.startAt));let p=null;return e.endAt&&(p=function(w){const T=!w.before,S=w.values||[];return new dc(S,T)}(e.endAt)),aT(t,s,l,a,c,"F",f,p)}function qT(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function E0(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=go(e.unaryFilter.field);return Ee.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=go(e.unaryFilter.field);return Ee.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=go(e.unaryFilter.field);return Ee.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=go(e.unaryFilter.field);return Ee.create(l,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(n):n.fieldFilter!==void 0?function(e){return Ee.create(go(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return di.create(e.compositeFilter.filters.map(i=>E0(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return wt()}}(e.compositeFilter.op))}(n):wt()}function KT(n){return MT[n]}function QT(n){return VT[n]}function GT(n){return OT[n]}function po(n){return{fieldPath:n.canonicalString()}}function go(n){return We.fromServerFormat(n.fieldPath)}function T0(n){return n instanceof Ee?function(e){if(e.op==="=="){if(Fm(e.value))return{unaryFilter:{field:po(e.field),op:"IS_NAN"}};if(Lm(e.value))return{unaryFilter:{field:po(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Fm(e.value))return{unaryFilter:{field:po(e.field),op:"IS_NOT_NAN"}};if(Lm(e.value))return{unaryFilter:{field:po(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(e.field),op:QT(e.op),value:e.value}}}(n):n instanceof di?function(e){const i=e.getFilters().map(s=>T0(s));return i.length===1?i[0]:{compositeFilter:{op:GT(e.op),filters:i}}}(n):wt()}function YT(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function x0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,e,i,s,a=Et.min(),l=Et.min(),c=Oe.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(t){return new fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t){this.ht=t}}function JT(n){const t=$T({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.ln=new tx}addToCollectionParentIndex(t,e){return this.ln.add(e),K.resolve()}getCollectionParents(t,e){return K.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return K.resolve()}deleteFieldIndex(t,e){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,e){return K.resolve()}getDocumentsMatchingTarget(t,e){return K.resolve(null)}getIndexType(t,e){return K.resolve(0)}getFieldIndexes(t,e){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,e){return K.resolve(xr.min())}getMinOffsetFromCollectionGroup(t,e){return K.resolve(xr.min())}updateCollectionGroup(t,e,i){return K.resolve()}updateIndexEntries(t,e){return K.resolve()}}class tx{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new xe(ie.comparator),a=!s.has(i);return this.index[e]=s.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new xe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Io(0)}static Qn(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm([n,t],[e,i]){const s=bt(n,e);return s===0?bt(t,i):s}class ex{constructor(t){this.Gn=t,this.buffer=new xe(Zm),this.zn=0}jn(){return++this.zn}Hn(t){const e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Zm(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class nx{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){at("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Do(e)?at("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await bo(e)}await this.Yn(3e5)})}}class ix{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return K.resolve(Pc.oe);const i=new ex(e);return this.Zn.forEachTarget(t,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(t,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Jm)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jm):this.tr(t,e))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let i,s,a,l,c,f,p;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,l=Date.now(),this.nthSequenceNumber(t,s))).next(w=>(i=w,c=Date.now(),this.removeTargets(t,i,e))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(w=>(p=Date.now(),ho()<=Ot.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-_}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-_}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function rx(n,t){return new ix(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.changes=new ms(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,He.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?K.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&Ka(i.mutation,s,Oi.empty(),Xe.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Pt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Pt()){const s=cs();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(a=>{let l=za();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=cs();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Pt()))}populateOverlays(t,e,i){const s=[];return i.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{e.set(l,c)})})}computeViews(t,e,i,s){let a=Bi();const l=qa(),c=function(){return qa()}();return e.forEach((f,p)=>{const _=i.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof Vo)?a=a.insert(p.key,p):_!==void 0?(l.set(p.key,_.mutation.getFieldMask()),Ka(_.mutation,p,_.mutation.getFieldMask(),Xe.now())):l.set(p.key,Oi.empty())}),this.recalculateAndSaveOverlays(t,a).next(f=>(f.forEach((p,_)=>l.set(p,_)),e.forEach((p,_)=>{var w;return c.set(p,new ox(_,(w=l.get(p))!==null&&w!==void 0?w:null))}),c))}recalculateAndSaveOverlays(t,e){const i=qa();let s=new oe((l,c)=>l-c),a=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=e.get(f);if(p===null)return;let _=i.get(f)||Oi.empty();_=c.applyToLocalView(p,_),i.set(f,_);const w=(s.get(c.batchId)||Pt()).add(f);s=s.insert(c.batchId,w)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,_=f.value,w=o0();_.forEach(T=>{if(!a.has(T)){const S=h0(e.get(T),i.get(T));S!==null&&w.set(T,S),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(t,p,w))}return K.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return yt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):lT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-a.size):K.resolve(cs());let c=-1,f=a;return l.next(p=>K.forEach(p,(_,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),a.get(_)?K.resolve():this.remoteDocumentCache.getEntry(t,_).next(T=>{f=f.insert(_,T)}))).next(()=>this.populateOverlays(t,p,a)).next(()=>this.computeViews(t,f,p,Pt())).next(_=>({batchId:c,changes:s0(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next(i=>{let s=za();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const a=e.collectionGroup;let l=za();return this.indexManager.getCollectionParents(t,a).next(c=>K.forEach(c,f=>{const p=function(w,T){return new Dc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(e,f.child(a));return this.getDocumentsMatchingCollectionQuery(t,p,i,s).next(_=>{_.forEach((w,T)=>{l=l.insert(w,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,s))).next(l=>{a.forEach((f,p)=>{const _=p.getKey();l.get(_)===null&&(l=l.insert(_,He.newInvalidDocument(_)))});let c=za();return l.forEach((f,p)=>{const _=a.get(f);_!==void 0&&Ka(_.mutation,p,Oi.empty(),Xe.now()),Vc(e,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return K.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:ci(s.createTime)}}(e)),K.resolve()}getNamedQuery(t,e){return K.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(s){return{name:s.name,query:JT(s.bundledQuery),readTime:ci(s.readTime)}}(e)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.overlays=new oe(yt.comparator),this.Er=new Map}getOverlay(t,e){return K.resolve(this.overlays.get(e))}getOverlays(t,e){const i=cs();return K.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,a)=>{this.Tt(t,e,a)}),K.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Er.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),K.resolve()}getOverlaysForCollection(t,e,i){const s=cs(),a=e.length+1,l=new yt(e.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>i&&s.set(f.getKey(),f)}return K.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let a=new oe((p,_)=>p-_);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let _=a.get(p.largestBatchId);_===null&&(_=cs(),a=a.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const c=cs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,_)=>c.set(p,_)),!(c.size()>=s)););return K.resolve(c)}Tt(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Er.get(s.largestBatchId).delete(i.key);this.Er.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new AT(e,i));let a=this.Er.get(e);a===void 0&&(a=Pt(),this.Er.set(e,a)),this.Er.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.sessionToken=Oe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this.dr=new xe(Pe.Ar),this.Rr=new xe(Pe.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,e){const i=new Pe(t,e);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.gr(new Pe(t,e))}pr(t,e){t.forEach(i=>this.removeReference(i,e))}yr(t){const e=new yt(new ie([])),i=new Pe(e,t),s=new Pe(e,t+1),a=[];return this.Rr.forEachInRange([i,s],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const e=new yt(new ie([])),i=new Pe(e,t),s=new Pe(e,t+1);let a=Pt();return this.Rr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new Pe(t,0),i=this.dr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Pe{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return yt.comparator(t.key,e.key)||bt(t.br,e.br)}static Vr(t,e){return bt(t.br,e.br)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new xe(Pe.Ar)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new kT(a,e,i,s);this.mutationQueue.push(l);for(const c of s)this.vr=this.vr.add(new Pe(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return K.resolve(l)}lookupMutationBatch(t,e){return K.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.Fr(i),a=s<0?0:s;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Pe(e,0),s=new Pe(e,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,s],l=>{const c=this.Cr(l.br);a.push(c)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xe(bt);return e.forEach(s=>{const a=new Pe(s,0),l=new Pe(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{i=i.add(c.br)})}),K.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let a=i;yt.isDocumentKey(a)||(a=a.child(""));const l=new Pe(new yt(a),0);let c=new xe(bt);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(c=c.add(f.br)),!0)},l),K.resolve(this.Mr(c))}Mr(t){const e=[];return t.forEach(i=>{const s=this.Cr(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Ht(this.Or(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return K.forEach(e.mutations,s=>{const a=new Pe(s.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.vr=i})}Ln(t){}containsKey(t,e){const i=new Pe(e,0),s=this.vr.firstAfterOrEqual(i);return K.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.Nr=t,this.docs=function(){return new oe(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),a=s?s.size:0,l=this.Nr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return K.resolve(i?i.document.mutableCopy():He.newInvalidDocument(e))}getEntries(t,e){let i=Bi();return e.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():He.newInvalidDocument(s))}),K.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let a=Bi();const l=e.path,c=new yt(l.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:_}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||BE(zE(_),i)<=0||(s.has(_.key)||Vc(e,_))&&(a=a.insert(_.key,_.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(t,e,i,s){wt()}Lr(t,e){return K.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new fx(this)}getSize(t){return K.resolve(this.size)}}class fx extends sx{constructor(t){super(),this.hr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.hr.addEntry(t,s)):this.hr.removeEntry(i)}),K.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t){this.persistence=t,this.Br=new ms(e=>Cf(e),Pf),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.kr=0,this.qr=new Mf,this.targetCount=0,this.Qr=Io.qn()}forEachTarget(t,e){return this.Br.forEach((i,s)=>e(s)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.kr&&(this.kr=e),K.resolve()}Un(t){this.Br.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Qr=new Io(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,K.resolve()}updateTargetData(t,e){return this.Un(e),K.resolve()}removeTargetData(t,e){return this.Br.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,e,i){let s=0;const a=[];return this.Br.forEach((l,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.Br.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),K.waitFor(a).next(()=>s)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,e){const i=this.Br.get(e)||null;return K.resolve(i)}addMatchingKeys(t,e,i){return this.qr.mr(e,i),K.resolve()}removeMatchingKeys(t,e,i){this.qr.pr(e,i);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),K.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),K.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qr.Sr(e);return K.resolve(i)}containsKey(t,e){return K.resolve(this.qr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,e){this.Kr={},this.overlays={},this.$r=new Pc(0),this.Ur=!1,this.Ur=!0,this.Wr=new cx,this.referenceDelegate=t(this),this.Gr=new px(this),this.indexManager=new ZT,this.remoteDocumentCache=function(s){return new dx(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new XT(e),this.jr=new lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ux,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Kr[t.toKey()];return i||(i=new hx(e,this.referenceDelegate),this.Kr[t.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const s=new gx(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(t,e){return K.or(Object.values(this.Kr).map(i=>()=>i.containsKey(t,e)))}}class gx extends UE{constructor(t){super(),this.currentSequenceNumber=t}}class Vf{constructor(t){this.persistence=t,this.Zr=new Mf,this.Xr=null}static ei(t){return new Vf(t)}get ti(){if(this.Xr)return this.Xr;throw wt()}addReference(t,e,i){return this.Zr.addReference(i,e),this.ti.delete(i.toString()),K.resolve()}removeReference(t,e,i){return this.Zr.removeReference(i,e),this.ti.add(i.toString()),K.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),K.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Hr(){this.Xr=new Set}Jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,i=>{const s=yt.fromPath(i);return this.ni(t,s).next(a=>{a||e.removeEntry(s,Et.min())})}).next(()=>(this.Xr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ni(t,e).next(i=>{i?this.ti.delete(e.toString()):this.ti.add(e.toString())})}zr(t){return 0}ni(t,e){return K.or([()=>K.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}}class mc{constructor(t,e){this.persistence=t,this.ri=new ms(i=>WE(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=rx(this,e)}static ei(t,e){return new mc(t,e)}Hr(){}Jr(t){return K.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){const e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}nr(t){let e=0;return this.er(t,i=>{e++}).next(()=>e)}er(t,e){return K.forEach(this.ri,(i,s)=>this.ir(t,i,s).next(a=>a?K.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(t,l=>this.ir(t,l,e).next(c=>{c||(i++,a.removeEntry(l,Et.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),K.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.ri.set(i,t.currentSequenceNumber),K.resolve()}removeReference(t,e,i){return this.ri.set(i,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),K.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Zu(t.data.value)),e}ir(t,e,i){return K.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.ri.get(e);return K.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Wi=i,this.Gi=s}static zi(t,e){let i=Pt(),s=Pt();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Of(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return f1()?8:HE(h1())>0?6:4}()}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,i,s){const a={result:null};return this.Xi(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(t,e,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new mx;return this.ts(t,e,l).next(c=>{if(a.result=c,this.Hi)return this.ns(t,e,l,c.size)})}).next(()=>a.result)}ns(t,e,i,s){return i.documentReadCount<this.Ji?(ho()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",fo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(ho()<=Ot.DEBUG&&at("QueryEngine","Query:",fo(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(ho()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",fo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(e))):K.resolve())}Xi(t,e){if(Um(e))return K.resolve(null);let i=ui(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=rf(e,null,"F"),i=ui(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=Pt(...a);return this.Zi.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(f=>{const p=this.rs(e,c);return this.ss(e,p,l,f.readTime)?this.Xi(t,rf(e,null,"F")):this.os(t,p,e,f)}))})))}es(t,e,i,s){return Um(e)||s.isEqual(Et.min())?K.resolve(null):this.Zi.getDocuments(t,i).next(a=>{const l=this.rs(e,a);return this.ss(e,l,i,s)?K.resolve(null):(ho()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fo(e)),this.os(t,l,e,FE(s,-1)).next(c=>c))})}rs(t,e){let i=new xe(i0(t));return e.forEach((s,a)=>{Vc(t,a)&&(i=i.add(a))}),i}ss(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(t,e,i){return ho()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",fo(e)),this.Zi.getDocumentsMatchingQuery(t,e,xr.min(),i)}os(t,e,i,s){return this.Zi.getDocumentsMatchingQuery(t,i,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,e,i,s){this.persistence=t,this._s=e,this.serializer=s,this.us=new oe(bt),this.cs=new ms(a=>Cf(a),Pf),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(i)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ax(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.us))}}function vx(n,t,e,i){return new _x(n,t,e,i)}async function I0(n,t){const e=xt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,e.Ps(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let f=Pt();for(const p of s){l.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}for(const p of a){c.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function wx(n,t){const e=xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=e.hs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,_){const w=p.batch,T=w.keys();let S=K.resolve();return T.forEach(M=>{S=S.next(()=>_.getEntry(f,M)).next(b=>{const R=p.docVersions.get(M);Ht(R!==null),b.version.compareTo(R)<0&&(w.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),_.addEntry(b)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(f,w))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let f=Pt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function k0(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Gr.getLastRemoteSnapshotVersion(e))}function Ex(n,t){const e=xt(n),i=t.snapshotVersion;let s=e.us;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.hs.newChangeBuffer({trackRemovals:!0});s=e.us;const c=[];t.targetChanges.forEach((_,w)=>{const T=s.get(w);if(!T)return;c.push(e.Gr.removeMatchingKeys(a,_.removedDocuments,w).next(()=>e.Gr.addMatchingKeys(a,_.addedDocuments,w)));let S=T.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(w)!==null?S=S.withResumeToken(Oe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,i)),s=s.insert(w,S),function(b,R,z){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,S,_)&&c.push(e.Gr.updateTargetData(a,S))});let f=Bi(),p=Pt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(a,_))}),c.push(Tx(a,l,t.documentUpdates).next(_=>{f=_.Is,p=_.Es})),!i.isEqual(Et.min())){const _=e.Gr.getLastRemoteSnapshotVersion(a).next(w=>e.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(_)}return K.waitFor(c).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(e.us=s,a))}function Tx(n,t,e){let i=Pt(),s=Pt();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let l=Bi();return e.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Et.min())?(t.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(f),l=l.insert(c,f)):at("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Is:l,Es:s}})}function xx(n,t){const e=xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Sx(n,t){const e=xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Gr.getTargetData(i,t).next(a=>a?(s=a,K.resolve(s)):e.Gr.allocateTargetId(i).next(l=>(s=new fr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.us=e.us.insert(i.targetId,i),e.cs.set(t,i.targetId)),i})}async function uf(n,t,e){const i=xt(n),s=i.us.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Do(l))throw l;at("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.us=i.us.remove(t),i.cs.delete(s.target)}function ty(n,t,e){const i=xt(n);let s=Et.min(),a=Pt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,_){const w=xt(f),T=w.cs.get(_);return T!==void 0?K.resolve(w.us.get(T)):w.Gr.getTargetData(p,_)}(i,l,ui(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(l,t,e?s:Et.min(),e?a:Pt())).next(c=>(Ix(i,cT(t),c),{documents:c,ds:a})))}function Ix(n,t,e){let i=n.ls.get(t)||Et.min();e.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(t,i)}class ey{constructor(){this.activeTargetIds=mT()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kx{constructor(){this._o=new ey,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,i){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new ey,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=null;function Cd(){return Nu===null?Nu=function(){return 268435456+Math.round(2147483648*Math.random())}():Nu++,"0x"+Nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be="WebChannelConnection";class Rx extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+e.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(e,i,s,a,l){const c=Cd(),f=this.No(e,i.toUriEncodedString());at("RestConnection",`Sending RPC '${e}' ${c}:`,f,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,l),this.Bo(e,f,p,s).then(_=>(at("RestConnection",`Received RPC '${e}' ${c}: `,_),_),_=>{throw Eo("RestConnection",`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_})}ko(e,i,s,a,l,c){return this.Oo(e,i,s,a,l)}Lo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}No(e,i){const s=Cx[e];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,e,i,s){const a=Cd();return new Promise((l,c)=>{const f=new B_;f.setWithCredentials(!0),f.listenOnce(j_.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ju.NO_ERROR:const _=f.getResponseJson();at(Be,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(_)),l(_);break;case Ju.TIMEOUT:at(Be,`RPC '${t}' ${a} timed out`),c(new pt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const w=f.getStatus();if(at(Be,`RPC '${t}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const M=function(R){const z=R.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN}(S.status);c(new pt(M,S.message))}else c(new pt(J.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new pt(J.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{at(Be,`RPC '${t}' ${a} completed.`)}});const p=JSON.stringify(s);at(Be,`RPC '${t}' ${a} sending request:`,s),f.send(e,"POST",p,i,15)})}qo(t,e,i){const s=Cd(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=W_(),c=H_(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=a.join("");at(Be,`Creating RPC '${t}' stream ${s}: ${_}`,f);const w=l.createWebChannel(_,f);let T=!1,S=!1;const M=new Px({Eo:R=>{S?at(Be,`Not sending because RPC '${t}' stream ${s} is closed:`,R):(T||(at(Be,`Opening RPC '${t}' stream ${s} transport.`),w.open(),T=!0),at(Be,`RPC '${t}' stream ${s} sending:`,R),w.send(R))},Ao:()=>w.close()}),b=(R,z,$)=>{R.listen(z,Y=>{try{$(Y)}catch(Z){setTimeout(()=>{throw Z},0)}})};return b(w,Fa.EventType.OPEN,()=>{S||(at(Be,`RPC '${t}' stream ${s} transport opened.`),M.So())}),b(w,Fa.EventType.CLOSE,()=>{S||(S=!0,at(Be,`RPC '${t}' stream ${s} transport closed`),M.Do())}),b(w,Fa.EventType.ERROR,R=>{S||(S=!0,Eo(Be,`RPC '${t}' stream ${s} transport errored:`,R),M.Do(new pt(J.UNAVAILABLE,"The operation could not be completed")))}),b(w,Fa.EventType.MESSAGE,R=>{var z;if(!S){const $=R.data[0];Ht(!!$);const Y=$,Z=(Y==null?void 0:Y.error)||((z=Y[0])===null||z===void 0?void 0:z.error);if(Z){at(Be,`RPC '${t}' stream ${s} received error:`,Z);const nt=Z.status;let tt=function(k){const D=pe[k];if(D!==void 0)return f0(D)}(nt),P=Z.message;tt===void 0&&(tt=J.INTERNAL,P="Unknown error status: "+nt+" with message "+Z.message),S=!0,M.Do(new pt(tt,P)),w.close()}else at(Be,`RPC '${t}' stream ${s} received:`,$),M.vo($)}}),b(c,U_.STAT_EVENT,R=>{R.stat===Xd.PROXY?at(Be,`RPC '${t}' stream ${s} detected buffering proxy`):R.stat===Xd.NOPROXY&&at(Be,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n){return new NT(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,e,i=1e3,s=1.5,a=6e4){this.li=t,this.timerId=e,this.Qo=i,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const e=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,e-i);s>0&&at("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t,e,i,s,a,l,c,f){this.li=t,this.Yo=i,this.Zo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new C0(t,e)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,e){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(zi(e.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(e)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===e&&this.I_(i,s)},i=>{t(()=>{const s=new pt(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(s)})})}I_(t,e){const i=this.T_(this.Xo);this.stream=this.d_(t,e),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.E_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return at("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget(()=>this.Xo===t?e():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bx extends P0{constructor(t,e,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}d_(t,e){return this.connection.qo("Listen",t,e)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const e=BT(this.serializer,t),i=function(a){if(!("targetChange"in a))return Et.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Et.min():l.readTime?ci(l.readTime):Et.min()}(t);return this.listener.R_(e,i)}V_(t){const e={};e.database=lf(this.serializer),e.addTarget=function(a,l){let c;const f=l.target;if(c=nf(f)?{documents:HT(a,f)}:{query:WT(a,f).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=LT(a,l.resumeToken);const p=sf(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Et.min())>0){c.readTime=m0(a,l.snapshotVersion.toTimestamp());const p=sf(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,t);const i=qT(this.serializer,t);i&&(e.labels=i),this.c_(e)}m_(t){const e={};e.database=lf(this.serializer),e.removeTarget=t,this.c_(e)}}class Dx extends P0{constructor(t,e,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,e){return this.connection.qo("Write",t,e)}A_(t){return Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const e=UT(t.writeResults,t.commitTime),i=ci(t.commitTime);return this.listener.y_(i,e)}w_(){const t={};t.database=lf(this.serializer),this.c_(t)}g_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>jT(this.serializer,i))};this.c_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends class{}{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new pt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(t,of(e,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pt(J.UNKNOWN,a.toString())})}ko(t,e,i,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(t,of(e,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(J.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Vx{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(zi(e),this.C_=!1):at("OnlineStateTracker",e)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,e,i,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{i.enqueueAndForget(async()=>{ys(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=xt(f);p.k_.add(4),await dl(p),p.K_.set("Unknown"),p.k_.delete(4),await zc(p)}(this))})}),this.K_=new Vx(i,s)}}async function zc(n){if(ys(n))for(const t of n.q_)await t(!0)}async function dl(n){for(const t of n.q_)await t(!1)}function R0(n,t){const e=xt(n);e.B_.has(t.targetId)||(e.B_.set(t.targetId,t),zf(e)?Ff(e):Oo(e).s_()&&Lf(e,t))}function Nf(n,t){const e=xt(n),i=Oo(e);e.B_.delete(t),i.s_()&&b0(e,t),e.B_.size===0&&(i.s_()?i.a_():ys(e)&&e.K_.set("Unknown"))}function Lf(n,t){if(n.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Oo(n).V_(t)}function b0(n,t){n.U_.xe(t),Oo(n).m_(t)}function Ff(n){n.U_=new DT({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>n.B_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Oo(n).start(),n.K_.F_()}function zf(n){return ys(n)&&!Oo(n).i_()&&n.B_.size>0}function ys(n){return xt(n).k_.size===0}function D0(n){n.U_=void 0}async function Nx(n){n.K_.set("Online")}async function Lx(n){n.B_.forEach((t,e)=>{Lf(n,t)})}async function Fx(n,t){D0(n),zf(n)?(n.K_.O_(t),Ff(n)):n.K_.set("Unknown")}async function zx(n,t,e){if(n.K_.set("Online"),t instanceof g0&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.B_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.B_.delete(c),s.U_.removeTarget(c))}(n,t)}catch(i){at("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await yc(n,i)}else if(t instanceof nc?n.U_.$e(t):t instanceof p0?n.U_.Je(t):n.U_.Ge(t),!e.isEqual(Et.min()))try{const i=await k0(n.localStore);e.compareTo(i)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.B_.get(p);_&&a.B_.set(p,_.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const _=a.B_.get(f);if(!_)return;a.B_.set(f,_.withResumeToken(Oe.EMPTY_BYTE_STRING,_.snapshotVersion)),b0(a,f);const w=new fr(_.target,f,p,_.sequenceNumber);Lf(a,w)}),a.remoteSyncer.applyRemoteEvent(c)}(n,e)}catch(i){at("RemoteStore","Failed to raise snapshot:",i),await yc(n,i)}}async function yc(n,t,e){if(!Do(t))throw t;n.k_.add(1),await dl(n),n.K_.set("Offline"),e||(e=()=>k0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{at("RemoteStore","Retrying IndexedDB access"),await e(),n.k_.delete(1),await zc(n)})}function M0(n,t){return t().catch(e=>yc(n,e,t))}async function Bc(n){const t=xt(n),e=Ar(t);let i=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;Bx(t);)try{const s=await xx(t.localStore,i);if(s===null){t.L_.length===0&&e.a_();break}i=s.batchId,jx(t,s)}catch(s){await yc(t,s)}V0(t)&&O0(t)}function Bx(n){return ys(n)&&n.L_.length<10}function jx(n,t){n.L_.push(t);const e=Ar(n);e.s_()&&e.f_&&e.g_(t.mutations)}function V0(n){return ys(n)&&!Ar(n).i_()&&n.L_.length>0}function O0(n){Ar(n).start()}async function Ux(n){Ar(n).w_()}async function Hx(n){const t=Ar(n);for(const e of n.L_)t.g_(e.mutations)}async function Wx(n,t,e){const i=n.L_.shift(),s=bf.from(i,t,e);await M0(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Bc(n)}async function $x(n,t){t&&Ar(n).f_&&await async function(i,s){if(function(l){return PT(l)&&l!==J.ABORTED}(s.code)){const a=i.L_.shift();Ar(i).__(),await M0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Bc(i)}}(n,t),V0(n)&&O0(n)}async function iy(n,t){const e=xt(n);e.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const i=ys(e);e.k_.add(3),await dl(e),i&&e.K_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.k_.delete(3),await zc(e)}async function qx(n,t){const e=xt(n);t?(e.k_.delete(2),await zc(e)):t||(e.k_.add(2),await dl(e),e.K_.set("Unknown"))}function Oo(n){return n.W_||(n.W_=function(e,i,s){const a=xt(e);return a.b_(),new bx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:Nx.bind(null,n),mo:Lx.bind(null,n),po:Fx.bind(null,n),R_:zx.bind(null,n)}),n.q_.push(async t=>{t?(n.W_.__(),zf(n)?Ff(n):n.K_.set("Unknown")):(await n.W_.stop(),D0(n))})),n.W_}function Ar(n){return n.G_||(n.G_=function(e,i,s){const a=xt(e);return a.b_(),new Dx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Ux.bind(null,n),po:$x.bind(null,n),p_:Hx.bind(null,n),y_:Wx.bind(null,n)}),n.q_.push(async t=>{t?(n.G_.__(),await Bc(n)):(await n.G_.stop(),n.L_.length>0&&(at("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,e,i,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,a){const l=Date.now()+i,c=new Bf(t,e,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jf(n,t){if(zi("AsyncQueue",`${t}: ${n}`),Do(n))return new pt(J.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=za(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new _o;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.z_=new oe(yt.comparator)}track(t){const e=t.doc.key,i=this.z_.get(e);i?t.type!==0&&i.type===3?this.z_=this.z_.insert(e,t):t.type===3&&i.type!==1?this.z_=this.z_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.z_=this.z_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.z_=this.z_.remove(e):t.type===1&&i.type===2?this.z_=this.z_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):wt():this.z_=this.z_.insert(e,t)}j_(){const t=[];return this.z_.inorderTraversal((e,i)=>{t.push(i)}),t}}class ko{constructor(t,e,i,s,a,l,c,f,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,s,a){const l=[];return e.forEach(c=>{l.push({type:0,doc:c})}),new ko(t,e,_o.emptySet(e),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class Qx{constructor(){this.queries=sy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(e,i){const s=xt(e),a=s.queries;s.queries=sy(),a.forEach((l,c)=>{for(const f of c.J_)f.onError(i)})})(this,new pt(J.ABORTED,"Firestore shutting down"))}}function sy(){return new ms(n=>n0(n),Mc)}async function Gx(n,t){const e=xt(n);let i=3;const s=t.query;let a=e.queries.get(s);a?!a.Y_()&&t.Z_()&&(i=2):(a=new Kx,i=t.Z_()?0:1);try{switch(i){case 0:a.H_=await e.onListen(s,!0);break;case 1:a.H_=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const c=jf(l,`Initialization of query '${fo(t.query)}' failed`);return void t.onError(c)}e.queries.set(s,a),a.J_.push(t),t.ea(e.onlineState),a.H_&&t.ta(a.H_)&&Uf(e)}async function Yx(n,t){const e=xt(n),i=t.query;let s=3;const a=e.queries.get(i);if(a){const l=a.J_.indexOf(t);l>=0&&(a.J_.splice(l,1),a.J_.length===0?s=t.Z_()?0:1:!a.Y_()&&t.Z_()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function Xx(n,t){const e=xt(n);let i=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const c of l.J_)c.ta(s)&&(i=!0);l.H_=s}}i&&Uf(e)}function Jx(n,t,e){const i=xt(n),s=i.queries.get(t);if(s)for(const a of s.J_)a.onError(e);i.queries.delete(t)}function Uf(n){n.X_.forEach(t=>{t.next()})}var cf,oy;(oy=cf||(cf={})).na="default",oy.Cache="cache";class Zx{constructor(t,e,i){this.query=t,this.ra=e,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new ko(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ia?this.oa(t)&&(this.ra.next(t),e=!0):this._a(t,this.onlineState)&&(this.aa(t),e=!0),this.sa=t,e}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let e=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),e=!0),e}_a(t,e){if(!t.fromCache||!this.Z_())return!0;const i=e!=="Offline";return(!this.options.ua||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const e=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}aa(t){t=ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==cf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t){this.key=t}}class L0{constructor(t){this.key=t}}class tS{constructor(t,e){this.query=t,this.da=e,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pt(),this.mutatedKeys=Pt(),this.Va=i0(t),this.ma=new _o(this.Va)}get fa(){return this.da}ga(t,e){const i=e?e.pa:new ry,s=e?e.ma:this.ma;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((_,w)=>{const T=s.get(_),S=Vc(this.query,w)?w:null,M=!!T&&this.mutatedKeys.has(T.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;T&&S?T.data.isEqual(S.data)?M!==b&&(i.track({type:3,doc:S}),R=!0):this.ya(T,S)||(i.track({type:2,doc:S}),R=!0,(f&&this.Va(S,f)>0||p&&this.Va(S,p)<0)&&(c=!0)):!T&&S?(i.track({type:0,doc:S}),R=!0):T&&!S&&(i.track({type:1,doc:T}),R=!0,(f||p)&&(c=!0)),R&&(S?(l=l.add(S),a=b?a.add(_):a.delete(_)):(l=l.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const _=this.query.limitType==="F"?l.last():l.first();l=l.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:l,pa:i,ss:c,mutatedKeys:a}}ya(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const a=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const l=t.pa.j_();l.sort((_,w)=>function(S,M){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return b(S)-b(M)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(i),s=s!=null&&s;const c=e&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,p=f!==this.Aa;return this.Aa=f,l.length!==0||p?{snapshot:new ko(this.query,t.ma,a,l,t.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ry,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(e=>this.da=this.da.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.da=this.da.delete(e)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Pt(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const e=[];return t.forEach(i=>{this.Ra.has(i)||e.push(new L0(i))}),this.Ra.forEach(i=>{t.has(i)||e.push(new N0(i))}),e}va(t){this.da=t.ds,this.Ra=Pt();const e=this.ga(t.documents);return this.applyChanges(e,!0)}Ca(){return ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class eS{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class nS{constructor(t){this.key=t,this.Fa=!1}}class iS{constructor(t,e,i,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new ms(c=>n0(c),Mc),this.Oa=new Map,this.Na=new Set,this.La=new oe(yt.comparator),this.Ba=new Map,this.ka=new Mf,this.qa={},this.Qa=new Map,this.Ka=Io.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function rS(n,t,e=!0){const i=H0(n);let s;const a=i.xa.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await F0(i,t,e,!0),s}async function sS(n,t){const e=H0(n);await F0(e,t,!0,!1)}async function F0(n,t,e,i){const s=await Sx(n.localStore,ui(t)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let c;return i&&(c=await oS(n,t,a,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&R0(n.remoteStore,s),c}async function oS(n,t,e,i,s){n.Ua=(w,T,S)=>async function(b,R,z,$){let Y=R.view.ga(z);Y.ss&&(Y=await ty(b.localStore,R.query,!1).then(({documents:P})=>R.view.ga(P,Y)));const Z=$&&$.targetChanges.get(R.targetId),nt=$&&$.targetMismatches.get(R.targetId)!=null,tt=R.view.applyChanges(Y,b.isPrimaryClient,Z,nt);return ly(b,R.targetId,tt.ba),tt.snapshot}(n,w,T,S);const a=await ty(n.localStore,t,!0),l=new tS(t,a.ds),c=l.ga(a.documents),f=hl.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),p=l.applyChanges(c,n.isPrimaryClient,f);ly(n,e,p.ba);const _=new eS(t,e,l);return n.xa.set(t,_),n.Oa.has(e)?n.Oa.get(e).push(t):n.Oa.set(e,[t]),p.snapshot}async function aS(n,t,e){const i=xt(n),s=i.xa.get(t),a=i.Oa.get(s.targetId);if(a.length>1)return i.Oa.set(s.targetId,a.filter(l=>!Mc(l,t))),void i.xa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await uf(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&Nf(i.remoteStore,s.targetId),hf(i,s.targetId)}).catch(bo)):(hf(i,s.targetId),await uf(i.localStore,s.targetId,!0))}async function lS(n,t){const e=xt(n),i=e.xa.get(t),s=e.Oa.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Nf(e.remoteStore,i.targetId))}async function uS(n,t,e){const i=mS(n);try{const s=await function(l,c){const f=xt(l),p=Xe.now(),_=c.reduce((S,M)=>S.add(M.key),Pt());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let M=Bi(),b=Pt();return f.hs.getEntries(S,_).next(R=>{M=R,M.forEach((z,$)=>{$.isValidDocument()||(b=b.add(z))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,M)).next(R=>{w=R;const z=[];for(const $ of c){const Y=ST($,w.get($.key).overlayedDocument);Y!=null&&z.push(new Vo($.key,Y,Q_(Y.value.mapValue),Ni.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,z,c)}).next(R=>{T=R;const z=R.applyToLocalDocumentSet(w,b);return f.documentOverlayCache.saveOverlays(S,R.batchId,z)})}).then(()=>({batchId:T.batchId,changes:s0(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,f){let p=l.qa[l.currentUser.toKey()];p||(p=new oe(bt)),p=p.insert(c,f),l.qa[l.currentUser.toKey()]=p}(i,s.batchId,e),await fl(i,s.changes),await Bc(i.remoteStore)}catch(s){const a=jf(s,"Failed to persist write");e.reject(a)}}async function z0(n,t){const e=xt(n);try{const i=await Ex(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Ba.get(a);l&&(Ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Fa=!0:s.modifiedDocuments.size>0?Ht(l.Fa):s.removedDocuments.size>0&&(Ht(l.Fa),l.Fa=!1))}),await fl(e,i,t)}catch(i){await bo(i)}}function ay(n,t,e){const i=xt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.xa.forEach((a,l)=>{const c=l.view.ea(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const f=xt(l);f.onlineState=c;let p=!1;f.queries.forEach((_,w)=>{for(const T of w.J_)T.ea(c)&&(p=!0)}),p&&Uf(f)}(i.eventManager,t),s.length&&i.Ma.R_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function cS(n,t,e){const i=xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Ba.get(t),a=s&&s.key;if(a){let l=new oe(yt.comparator);l=l.insert(a,He.newNoDocument(a,Et.min()));const c=Pt().add(a),f=new Fc(Et.min(),new Map,new oe(bt),l,c);await z0(i,f),i.La=i.La.remove(a),i.Ba.delete(t),Hf(i)}else await uf(i.localStore,t,!1).then(()=>hf(i,t,e)).catch(bo)}async function hS(n,t){const e=xt(n),i=t.batch.batchId;try{const s=await wx(e.localStore,t);j0(e,i,null),B0(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await fl(e,s)}catch(s){await bo(s)}}async function dS(n,t,e){const i=xt(n);try{const s=await function(l,c){const f=xt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return f.mutationQueue.lookupMutationBatch(p,c).next(w=>(Ht(w!==null),_=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>f.localDocuments.getDocuments(p,_))})}(i.localStore,t);j0(i,t,e),B0(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await fl(i,s)}catch(s){await bo(s)}}function B0(n,t){(n.Qa.get(t)||[]).forEach(e=>{e.resolve()}),n.Qa.delete(t)}function j0(n,t,e){const i=xt(n);let s=i.qa[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(e?a.reject(e):a.resolve(),s=s.remove(t)),i.qa[i.currentUser.toKey()]=s}}function hf(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Oa.get(t))n.xa.delete(i),e&&n.Ma.Wa(i,e);n.Oa.delete(t),n.isPrimaryClient&&n.ka.yr(t).forEach(i=>{n.ka.containsKey(i)||U0(n,i)})}function U0(n,t){n.Na.delete(t.path.canonicalString());const e=n.La.get(t);e!==null&&(Nf(n.remoteStore,e),n.La=n.La.remove(t),n.Ba.delete(e),Hf(n))}function ly(n,t,e){for(const i of e)i instanceof N0?(n.ka.addReference(i.key,t),fS(n,i)):i instanceof L0?(at("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,t),n.ka.containsKey(i.key)||U0(n,i.key)):wt()}function fS(n,t){const e=t.key,i=e.path.canonicalString();n.La.get(e)||n.Na.has(i)||(at("SyncEngine","New document in limbo: "+e),n.Na.add(i),Hf(n))}function Hf(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const t=n.Na.values().next().value;n.Na.delete(t);const e=new yt(ie.fromString(t)),i=n.Ka.next();n.Ba.set(i,new nS(e)),n.La=n.La.insert(e,i),R0(n.remoteStore,new fr(ui(e0(e.path)),i,"TargetPurposeLimboResolution",Pc.oe))}}async function fl(n,t,e){const i=xt(n),s=[],a=[],l=[];i.xa.isEmpty()||(i.xa.forEach((c,f)=>{l.push(i.Ua(f,t,e).then(p=>{var _;if((p||e)&&i.isPrimaryClient){const w=p?!p.fromCache:(_=e==null?void 0:e.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=Of.zi(f.targetId,p);a.push(w)}}))}),await Promise.all(l),i.Ma.R_(s),await async function(f,p){const _=xt(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(p,T=>K.forEach(T.Wi,S=>_.persistence.referenceDelegate.addReference(w,T.targetId,S)).next(()=>K.forEach(T.Gi,S=>_.persistence.referenceDelegate.removeReference(w,T.targetId,S)))))}catch(w){if(!Do(w))throw w;at("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const T=w.targetId;if(!w.fromCache){const S=_.us.get(T),M=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(M);_.us=_.us.insert(T,b)}}}(i.localStore,a))}async function pS(n,t){const e=xt(n);if(!e.currentUser.isEqual(t)){at("SyncEngine","User change. New user:",t.toKey());const i=await I0(e.localStore,t);e.currentUser=t,function(a,l){a.Qa.forEach(c=>{c.forEach(f=>{f.reject(new pt(J.CANCELLED,l))})}),a.Qa.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await fl(e,i.Ts)}}function gS(n,t){const e=xt(n),i=e.Ba.get(t);if(i&&i.Fa)return Pt().add(i.key);{let s=Pt();const a=e.Oa.get(t);if(!a)return s;for(const l of a){const c=e.xa.get(l);s=s.unionWith(c.view.fa)}return s}}function H0(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=z0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cS.bind(null,t),t.Ma.R_=Xx.bind(null,t.eventManager),t.Ma.Wa=Jx.bind(null,t.eventManager),t}function mS(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dS.bind(null,t),t}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=A0(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,e){return null}Ya(t,e){return null}Ha(t){return vx(this.persistence,new yx,t.initialUser,this.serializer)}ja(t){return new S0(Vf.ei,this.serializer)}za(t){return new kx}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class yS extends _c{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){Ht(this.persistence.referenceDelegate instanceof mc);const i=this.persistence.referenceDelegate.garbageCollector;return new nx(i,t.asyncQueue,e)}ja(t){const e=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new S0(i=>mc.ei(i,e),this.serializer)}}class df{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ay(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pS.bind(null,this.syncEngine),await qx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Qx}()}createDatastore(t){const e=A0(t.databaseInfo.databaseId),i=function(a){return new Rx(a)}(t.databaseInfo);return function(a,l,c,f){return new Mx(a,l,c,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,a,l,c){return new Ox(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,e=>ay(this.syncEngine,e,0),function(){return ny.p()?new ny:new Ax}())}createSyncEngine(t,e){return function(s,a,l,c,f,p,_){const w=new iS(s,a,l,c,f,p);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const a=xt(s);at("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await dl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}df.provider={build:()=>new df};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):zi("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,e,i,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Ue.UNAUTHENTICATED,this.clientId=q_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{at("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(at("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=jf(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Rd(n,t){n.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await I0(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function uy(n,t){n.asyncQueue.verifyOperationInProgress();const e=await wS(n);at("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>iy(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>iy(t.remoteStore,s)),n._onlineComponents=t}async function wS(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rd(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Eo("Error using user provided cache. Falling back to memory cache: "+e),await Rd(n,new _c)}}else at("FirestoreClient","Using default OfflineComponentProvider"),await Rd(n,new yS(void 0));return n._offlineComponents}async function W0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),await uy(n,n._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),await uy(n,new df))),n._onlineComponents}function ES(n){return W0(n).then(t=>t.syncEngine)}async function TS(n){const t=await W0(n),e=t.eventManager;return e.onListen=rS.bind(null,t.syncEngine),e.onUnlisten=aS.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=sS.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=lS.bind(null,t.syncEngine),e}function xS(n,t,e={}){const i=new _r;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const _=new _S({next:T=>{_.eu(),l.enqueueAndForget(()=>Yx(a,w)),T.fromCache&&f.source==="server"?p.reject(new pt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new Zx(c,_,{includeMetadataChanges:!0,ua:!0});return Gx(a,w)}(await TS(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n,t,e){if(!e)throw new pt(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function SS(n,t,e,i){if(t===!0&&i===!0)throw new pt(J.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function hy(n){if(!yt.isDocumentKey(n))throw new pt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dy(n){if(yt.isDocumentKey(n))throw new pt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function IS(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":wt()}function vc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=IS(n);throw new pt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new pt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}SS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$0((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jc{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fy(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new PE;switch(i.type){case"firstParty":return new ME(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=cy.get(e);i&&(at("ComponentProvider","Removing Datastore"),cy.delete(e),i.terminate())}(this),Promise.resolve()}}function kS(n,t,e,i={}){var s;const a=(n=vc(n,jc))._getSettings(),l=`${t}:${e}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),i.mockUserToken){let c,f;if(typeof i.mockUserToken=="string")c=i.mockUserToken,f=Ue.MOCK_USER;else{c=c1(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new pt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ue(p)}n._authCredentials=new RE(new $_(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Uc(this.firestore,t,this._query)}}class Li{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Li(this.firestore,t,this._key)}}class vr extends Uc{constructor(t,e,i){super(t,e,e0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Li(this.firestore,null,new yt(t))}withConverter(t){return new vr(this.firestore,t,this._path)}}function bd(n,t,...e){if(n=D_(n),q0("collection","path",t),n instanceof jc){const i=ie.fromString(t,...e);return dy(i),new vr(n,null,i)}{if(!(n instanceof Li||n instanceof vr))throw new pt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ie.fromString(t,...e));return dy(i),new vr(n.firestore,null,i)}}function AS(n,t,...e){if(n=D_(n),arguments.length===1&&(t=q_.newId()),q0("doc","path",t),n instanceof jc){const i=ie.fromString(t,...e);return hy(i),new Li(n,null,new yt(i))}{if(!(n instanceof Li||n instanceof vr))throw new pt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ie.fromString(t,...e));return hy(i),new Li(n.firestore,n instanceof vr?n.converter:null,new yt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new C0(this,"async_queue_retry"),this.fu=()=>{const i=Pd();i&&at("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=t;const e=Pd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const e=Pd();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const e=new _r;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Do(t))throw t;at("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const e=this.gu.then(()=>(this.Ru=!0,t().catch(i=>{this.Au=i,this.Ru=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw zi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=e,e}enqueueAfterDelay(t,e,i){this.pu(),this.mu.indexOf(t)>-1&&(e=0);const s=Bf.createAndSchedule(this,t,e,i,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&wt()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.du)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}class Wf extends jc{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new py,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new py(t),this._firestoreClient=void 0,await t}}}function CS(n,t){const e=typeof n=="object"?n:vE(),i=typeof n=="string"?n:"(default)",s=gE(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=l1("firestore");a&&kS(s,...a)}return s}function K0(n){if(n._terminated)throw new pt(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PS(n),n._firestoreClient}function PS(n){var t,e,i;const s=n._freezeSettings(),a=function(c,f,p,_){return new QE(c,f,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,$0(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new vS(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wc(Oe.fromBase64String(t))}catch(e){throw new pt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new wc(Oe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}}const DS=new RegExp("[~\\*/\\[\\]]");function MS(n,t,e){if(t.search(DS)>=0)throw gy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new Q0(...t.split("."))._internalPath}catch{throw gy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function gy(n,t,e,i,s){let a=`Function ${t}() called with invalid data`;a+=". ";let l="";return new pt(J.INVALID_ARGUMENT,a+n+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,e,i,s,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Y0("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class VS extends G0{data(){return super.data()}}function Y0(n,t){return typeof t=="string"?MS(n,t):t instanceof Q0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NS{convertValue(t,e="none"){switch(kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Mo(t,(s,a)=>{i[s]=this.convertValue(a,e)}),i}convertVectorValue(t){var e,i,s;const a=(s=(i=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>ce(l.doubleValue));return new bS(a)}convertGeoPoint(t){return new RS(ce(t.latitude),ce(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=bc(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(el(t));default:return null}}convertTimestamp(t){const e=Sr(t);return new Xe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ie.fromString(t);Ht(x0(i));const s=new nl(i.get(1),i.get(3)),a=new yt(i.popFirst(5));return s.isEqual(e)||zi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class LS extends G0{constructor(t,e,i,s,a,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Y0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class ic extends LS{data(t={}){return super.data(t)}}class FS{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Lu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ic(this._firestore,this._userDataWriter,i.key,i,new Lu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const f=new ic(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Lu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new ic(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Lu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),_=l.indexOf(c.doc.key)),{type:zS(c.type),doc:f,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}class BS extends NS{constructor(t){super(),this.firestore=t}convertBytes(t){return new wc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Li(this.firestore,null,e)}}function Dd(n){n=vc(n,Uc);const t=vc(n.firestore,Wf),e=K0(t),i=new BS(t);return OS(n._query),xS(e,n._query).then(s=>new FS(t,i,n,s))}function jS(n){return US(vc(n.firestore,Wf),[new Rf(n._key,Ni.none())])}function US(n,t){return function(i,s){const a=new _r;return i.asyncQueue.enqueueAndForget(async()=>uS(await ES(i),s,a)),a.promise}(K0(n),t)}(function(t,e=!0){(function(s){Ro=s})(_E),hc(new Ja("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new Wf(new bE(i.getProvider("auth-internal")),new OE(i.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(p.options.projectId,_)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),yo(bm,"4.7.5",t),yo(bm,"4.7.5","esm2017")})();var HS="firebase",WS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(HS,WS,"app");const $S={apiKey:"AIzaSyAguLc0V0WkVyxmPqMWNI8a_G9MAgT6B9w",projectId:"logcollector-d2acc",storageBucket:"logcollector-d2acc.firebasestorage.app",appId:"1:170108012560:android:52b2d07fc568622f8b6295"},qS=N_($S),Fu=CS(qS);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function pl(n){return n+.5|0}const pr=(n,t,e)=>Math.max(Math.min(n,e),t);function ja(n){return pr(pl(n*2.55),0,255)}function wr(n){return pr(pl(n*255),0,255)}function Vi(n){return pr(pl(n/2.55)/100,0,1)}function my(n){return pr(pl(n*100),0,100)}const An={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ff=[..."0123456789ABCDEF"],KS=n=>ff[n&15],QS=n=>ff[(n&240)>>4]+ff[n&15],zu=n=>(n&240)>>4===(n&15),GS=n=>zu(n.r)&&zu(n.g)&&zu(n.b)&&zu(n.a);function YS(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&An[n[1]]*17,g:255&An[n[2]]*17,b:255&An[n[3]]*17,a:t===5?An[n[4]]*17:255}:(t===7||t===9)&&(e={r:An[n[1]]<<4|An[n[2]],g:An[n[3]]<<4|An[n[4]],b:An[n[5]]<<4|An[n[6]],a:t===9?An[n[7]]<<4|An[n[8]]:255})),e}const XS=(n,t)=>n<255?t(n):"";function JS(n){var t=GS(n)?KS:QS;return n?"#"+t(n.r)+t(n.g)+t(n.b)+XS(n.a,t):void 0}const ZS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function X0(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function tI(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function eI(n,t,e){const i=X0(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function nI(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function $f(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),c=(a+l)/2;let f,p,_;return a!==l&&(_=a-l,p=c>.5?_/(2-a-l):_/(a+l),f=nI(e,i,s,_,a),f=f*60+.5),[f|0,p||0,c]}function qf(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(wr)}function Kf(n,t,e){return qf(X0,n,t,e)}function iI(n,t,e){return qf(eI,n,t,e)}function rI(n,t,e){return qf(tI,n,t,e)}function J0(n){return(n%360+360)%360}function sI(n){const t=ZS.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?ja(+t[5]):wr(+t[5]));const s=J0(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=iI(s,a,l):t[1]==="hsv"?i=rI(s,a,l):i=Kf(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function oI(n,t){var e=$f(n);e[0]=J0(e[0]+t),e=Kf(e),n.r=e[0],n.g=e[1],n.b=e[2]}function aI(n){if(!n)return;const t=$f(n),e=t[0],i=my(t[1]),s=my(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Vi(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const yy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_y={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lI(){const n={},t=Object.keys(_y),e=Object.keys(yy);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<e.length;s++)a=e[s],c=c.replace(a,yy[a]);a=parseInt(_y[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Bu;function uI(n){Bu||(Bu=lI(),Bu.transparent=[0,0,0,0]);const t=Bu[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const cI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hI(n){const t=cI.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?ja(l):pr(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?ja(i):pr(i,0,255)),s=255&(t[4]?ja(s):pr(s,0,255)),a=255&(t[6]?ja(a):pr(a,0,255)),{r:i,g:s,b:a,a:e}}}function dI(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Vi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Md=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,co=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function fI(n,t,e){const i=co(Vi(n.r)),s=co(Vi(n.g)),a=co(Vi(n.b));return{r:wr(Md(i+e*(co(Vi(t.r))-i))),g:wr(Md(s+e*(co(Vi(t.g))-s))),b:wr(Md(a+e*(co(Vi(t.b))-a))),a:n.a+e*(t.a-n.a)}}function ju(n,t,e){if(n){let i=$f(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Kf(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Z0(n,t){return n&&Object.assign(t||{},n)}function vy(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=wr(n[3]))):(t=Z0(n,{r:0,g:0,b:0,a:1}),t.a=wr(t.a)),t}function pI(n){return n.charAt(0)==="r"?hI(n):sI(n)}class ol{constructor(t){if(t instanceof ol)return t;const e=typeof t;let i;e==="object"?i=vy(t):e==="string"&&(i=YS(t)||uI(t)||pI(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Z0(this._rgb);return t&&(t.a=Vi(t.a)),t}set rgb(t){this._rgb=vy(t)}rgbString(){return this._valid?dI(this._rgb):void 0}hexString(){return this._valid?JS(this._rgb):void 0}hslString(){return this._valid?aI(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,c=2*l-1,f=i.a-s.a,p=((c*f===-1?c:(c+f)/(1+c*f))+1)/2;a=1-p,i.r=255&p*i.r+a*s.r+.5,i.g=255&p*i.g+a*s.g+.5,i.b=255&p*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=fI(this._rgb,t._rgb,e)),this}clone(){return new ol(this.rgb)}alpha(t){return this._rgb.a=wr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=pl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ju(this._rgb,2,t),this}darken(t){return ju(this._rgb,2,-t),this}saturate(t){return ju(this._rgb,1,t),this}desaturate(t){return ju(this._rgb,1,-t),this}rotate(t){return oI(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function bi(){}const gI=(()=>{let n=0;return()=>n++})();function te(n){return n==null}function Te(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Pn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function oi(n,t){return Pn(n)?n:t}function qt(n,t){return typeof n>"u"?t:n}const mI=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Zt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function $t(n,t,e,i){let s,a,l;if(Te(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Bt(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function Ec(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Tc(n){if(Te(n))return n.map(Tc);if(Bt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Tc(n[e[s]]);return t}return n}function tv(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function yI(n,t,e,i){if(!tv(n))return;const s=t[n],a=e[n];Bt(s)&&Bt(a)?al(s,a,i):t[n]=Tc(a)}function al(n,t,e){const i=Te(t)?t:[t],s=i.length;if(!Bt(n))return n;e=e||{};const a=e.merger||yI;let l;for(let c=0;c<s;++c){if(l=i[c],!Bt(l))continue;const f=Object.keys(l);for(let p=0,_=f.length;p<_;++p)a(f[p],n,l,e)}return n}function Qa(n,t){return al(n,t,{merger:_I})}function _I(n,t,e){if(!tv(n))return;const i=t[n],s=e[n];Bt(i)&&Bt(s)?Qa(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Tc(s))}const wy={"":n=>n,x:n=>n.x,y:n=>n.y};function vI(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function wI(n){const t=vI(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ao(n,t){return(wy[t]||(wy[t]=wI(t)))(n)}function Qf(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ll=n=>typeof n<"u",Cr=n=>typeof n=="function",Ey=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function EI(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const qe=Math.PI,Er=2*qe,xc=Number.POSITIVE_INFINITY,TI=qe/180,Kn=qe/2,rs=qe/4,Ty=qe*2/3,pf=Math.log10,Tr=Math.sign;function rc(n,t,e){return Math.abs(n-t)<e}function xy(n){const t=Math.round(n);n=rc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(pf(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function xI(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function Sc(n){return!isNaN(parseFloat(n))&&isFinite(n)}function SI(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function II(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function hs(n){return n*(qe/180)}function kI(n){return n*(180/qe)}function Sy(n){if(!Pn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function AI(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*qe&&(a+=Er),{angle:a,distance:s}}function CI(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function ss(n){return(n%Er+Er)%Er}function PI(n,t,e,i){const s=ss(n),a=ss(t),l=ss(e),c=ss(a-s),f=ss(l-s),p=ss(s-a),_=ss(s-l);return s===a||s===l||i&&a===l||c>f&&p<_}function Qn(n,t,e){return Math.max(t,Math.min(e,n))}function RI(n){return Qn(n,-32768,32767)}function mo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Gf(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const gf=(n,t,e,i)=>Gf(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),bI=(n,t,e)=>Gf(n,e,i=>n[i][t]>=e);function DI(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const ev=["push","pop","shift","splice","unshift"];function MI(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ev.forEach(e=>{const i="_onData"+Qf(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function Iy(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(ev.forEach(a=>{delete n[a]}),delete n._chartjs)}function nv(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const iv=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function rv(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,iv.call(window,()=>{i=!1,n.apply(t,e)}))}}function VI(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Yf=n=>n==="start"?"left":n==="end"?"right":"center",je=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,OI=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Uu=n=>n===0||n===1,ky=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Er/e)),Ay=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Er/e)+1,Ga={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Kn)+1,easeOutSine:n=>Math.sin(n*Kn),easeInOutSine:n=>-.5*(Math.cos(qe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Uu(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Uu(n)?n:ky(n,.075,.3),easeOutElastic:n=>Uu(n)?n:Ay(n,.075,.3),easeInOutElastic(n){return Uu(n)?n:n<.5?.5*ky(n*2,.1125,.45):.5+.5*Ay(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ga.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ga.easeInBounce(n*2)*.5:Ga.easeOutBounce(n*2-1)*.5+.5};function sv(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Cy(n){return sv(n)?n:new ol(n)}function Vd(n){return sv(n)?n:new ol(n).saturate(.5).darken(.1).hexString()}const NI=["x","y","borderWidth","radius","tension"],LI=["color","borderColor","backgroundColor"];function FI(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:LI},numbers:{type:"number",properties:NI}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function zI(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Py=new Map;function BI(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Py.get(e);return i||(i=new Intl.NumberFormat(n,t),Py.set(e,i)),i}function ov(n,t,e){return BI(t,e).format(n)}const av={values(n){return Te(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(s="scientific"),a=jI(n,e)}const l=pf(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(f,this.options.ticks.format),ov(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(pf(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?av.numeric.call(this,n,t,e):""}};function jI(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var lv={formatters:av};function UI(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const gs=Object.create(null),mf=Object.create(null);function Ya(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function Od(n,t,e){return typeof t=="string"?al(Ya(n,t),e):al(Ya(n,""),t)}class HI{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Vd(s.backgroundColor),this.hoverBorderColor=(i,s)=>Vd(s.borderColor),this.hoverColor=(i,s)=>Vd(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Od(this,t,e)}get(t){return Ya(this,t)}describe(t,e){return Od(mf,t,e)}override(t,e){return Od(gs,t,e)}route(t,e,i,s){const a=Ya(this,t),l=Ya(this,i),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[c],p=l[s];return Bt(f)?Object.assign({},p,f):qt(f,p)},set(f){this[c]=f}}})}apply(t){t.forEach(e=>e(this))}}var he=new HI({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FI,zI,UI]);function WI(n){return!n||te(n.size)||te(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ry(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function os(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function by(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Dy(n,t,e,i){uv(n,t,e,i,null)}function uv(n,t,e,i,s){let a,l,c,f,p,_,w,T;const S=t.pointStyle,M=t.rotation,b=t.radius;let R=(M||0)*TI;if(S&&typeof S=="object"&&(a=S.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),S){default:s?n.ellipse(e,i,s/2,b,0,0,Er):n.arc(e,i,b,0,Er),n.closePath();break;case"triangle":_=s?s/2:b,n.moveTo(e+Math.sin(R)*_,i-Math.cos(R)*b),R+=Ty,n.lineTo(e+Math.sin(R)*_,i-Math.cos(R)*b),R+=Ty,n.lineTo(e+Math.sin(R)*_,i-Math.cos(R)*b),n.closePath();break;case"rectRounded":p=b*.516,f=b-p,l=Math.cos(R+rs)*f,w=Math.cos(R+rs)*(s?s/2-p:f),c=Math.sin(R+rs)*f,T=Math.sin(R+rs)*(s?s/2-p:f),n.arc(e-w,i-c,p,R-qe,R-Kn),n.arc(e+T,i-l,p,R-Kn,R),n.arc(e+w,i+c,p,R,R+Kn),n.arc(e-T,i+l,p,R+Kn,R+qe),n.closePath();break;case"rect":if(!M){f=Math.SQRT1_2*b,_=s?s/2:f,n.rect(e-_,i-f,2*_,2*f);break}R+=rs;case"rectRot":w=Math.cos(R)*(s?s/2:b),l=Math.cos(R)*b,c=Math.sin(R)*b,T=Math.sin(R)*(s?s/2:b),n.moveTo(e-w,i-c),n.lineTo(e+T,i-l),n.lineTo(e+w,i+c),n.lineTo(e-T,i+l),n.closePath();break;case"crossRot":R+=rs;case"cross":w=Math.cos(R)*(s?s/2:b),l=Math.cos(R)*b,c=Math.sin(R)*b,T=Math.sin(R)*(s?s/2:b),n.moveTo(e-w,i-c),n.lineTo(e+w,i+c),n.moveTo(e+T,i-l),n.lineTo(e-T,i+l);break;case"star":w=Math.cos(R)*(s?s/2:b),l=Math.cos(R)*b,c=Math.sin(R)*b,T=Math.sin(R)*(s?s/2:b),n.moveTo(e-w,i-c),n.lineTo(e+w,i+c),n.moveTo(e+T,i-l),n.lineTo(e-T,i+l),R+=rs,w=Math.cos(R)*(s?s/2:b),l=Math.cos(R)*b,c=Math.sin(R)*b,T=Math.sin(R)*(s?s/2:b),n.moveTo(e-w,i-c),n.lineTo(e+w,i+c),n.moveTo(e+T,i-l),n.lineTo(e-T,i+l);break;case"line":l=s?s/2:Math.cos(R)*b,c=Math.sin(R)*b,n.moveTo(e-l,i-c),n.lineTo(e+l,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(s?s/2:b),i+Math.sin(R)*b);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function cv(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Xf(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Jf(n){n.restore()}function $I(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),te(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function qI(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,f=e-a.actualBoundingBoxAscent,p=e+a.actualBoundingBoxDescent,_=s.strikethrough?(f+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,_),n.lineTo(c,_),n.stroke()}}function KI(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function ul(n,t,e,i,s,a={}){const l=Te(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let f,p;for(n.save(),n.font=s.string,$I(n,a),f=0;f<l.length;++f)p=l[f],a.backdrop&&KI(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),te(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(p,e,i,a.maxWidth)),n.fillText(p,e,i,a.maxWidth),qI(n,e,i,p,a),i+=Number(s.lineHeight);n.restore()}function Ic(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*qe,qe,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,qe,Kn,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Kn,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Kn,!0),n.lineTo(e+l.topLeft,i)}const QI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,GI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function YI(n,t){const e=(""+n).match(QI);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const XI=n=>+n||0;function hv(n,t){const e={},i=Bt(t),s=i?Object.keys(t):t,a=Bt(n)?i?l=>qt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=XI(a(l));return e}function dv(n){return hv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function vo(n){return hv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Rn(n){const t=dv(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function $e(n,t){n=n||{},t=t||he.font;let e=qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=qt(n.style,t.style);i&&!(""+i).match(GI)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:qt(n.family,t.family),lineHeight:YI(qt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:qt(n.weight,t.weight),string:""};return s.string=WI(s),s}function Hu(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function JI(n,t,e){const{min:i,max:s}=n,a=mI(t,(s-i)/2),l=(c,f)=>e&&c===0?0:c+f;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function No(n,t){return Object.assign(Object.create(n),t)}function Zf(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=mv("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>Zf([c,...n],t,a,i)};return new Proxy(l,{deleteProperty(c,f){return delete c[f],delete c._keys,delete n[0][f],!0},get(c,f){return pv(c,f,()=>ok(f,t,n,c))},getOwnPropertyDescriptor(c,f){return Reflect.getOwnPropertyDescriptor(c._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,f){return Vy(c).includes(f)},ownKeys(c){return Vy(c)},set(c,f,p){const _=c._storage||(c._storage=s());return c[f]=_[f]=p,delete c._keys,!0}})}function Co(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:fv(n,i),setContext:a=>Co(n,a,e,i),override:a=>Co(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return pv(a,l,()=>tk(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function fv(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Cr(e)?e:()=>e,isIndexable:Cr(i)?i:()=>i}}const ZI=(n,t)=>n?n+Qf(t):t,tp=(n,t)=>Bt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function pv(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function tk(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let c=i[t];return Cr(c)&&l.isScriptable(t)&&(c=ek(t,c,n,e)),Te(c)&&c.length&&(c=nk(t,c,n,l.isIndexable)),tp(t,c)&&(c=Co(c,s,a&&a[t],l)),c}function ek(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let f=t(a,l||i);return c.delete(n),tp(n,f)&&(f=ep(s._scopes,s,n,f)),f}function nk(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Bt(t[0])){const f=t,p=s._scopes.filter(_=>_!==f);t=[];for(const _ of f){const w=ep(p,s,n,_);t.push(Co(w,a,l&&l[n],c))}}return t}function gv(n,t,e){return Cr(n)?n(t,e):n}const ik=(n,t)=>n===!0?t:typeof n=="string"?Ao(t,n):void 0;function rk(n,t,e,i,s){for(const a of t){const l=ik(e,a);if(l){n.add(l);const c=gv(l._fallback,e,s);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function ep(n,t,e,i){const s=t._rootScopes,a=gv(t._fallback,e,i),l=[...n,...s],c=new Set;c.add(i);let f=My(c,l,e,a||e,i);return f===null||typeof a<"u"&&a!==e&&(f=My(c,l,a,f,i),f===null)?!1:Zf(Array.from(c),[""],s,a,()=>sk(t,e,i))}function My(n,t,e,i,s){for(;e;)e=rk(n,t,e,i,s);return e}function sk(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Te(s)&&Bt(e)?e:s||{}}function ok(n,t,e,i){let s;for(const a of t)if(s=mv(ZI(a,n),e),typeof s<"u")return tp(n,s)?ep(e,i,n,s):s}function mv(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Vy(n){let t=n._keys;return t||(t=n._keys=ak(n._scopes)),t}function ak(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function np(){return typeof window<"u"&&typeof document<"u"}function ip(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function kc(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Hc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function lk(n,t){return Hc(n).getPropertyValue(t)}const uk=["top","right","bottom","left"];function fs(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=uk[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ck=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function hk(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,c,f;if(ck(s,a,n.target))c=s,f=a;else{const p=t.getBoundingClientRect();c=i.clientX-p.left,f=i.clientY-p.top,l=!0}return{x:c,y:f,box:l}}function us(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Hc(e),a=s.boxSizing==="border-box",l=fs(s,"padding"),c=fs(s,"border","width"),{x:f,y:p,box:_}=hk(n,e),w=l.left+(_&&c.left),T=l.top+(_&&c.top);let{width:S,height:M}=t;return a&&(S-=l.width+c.width,M-=l.height+c.height),{x:Math.round((f-w)/S*e.width/i),y:Math.round((p-T)/M*e.height/i)}}function dk(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&ip(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),c=Hc(a),f=fs(c,"border","width"),p=fs(c,"padding");t=l.width-p.width-f.width,e=l.height-p.height-f.height,i=kc(c.maxWidth,a,"clientWidth"),s=kc(c.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||xc,maxHeight:s||xc}}const Wu=n=>Math.round(n*10)/10;function fk(n,t,e,i){const s=Hc(n),a=fs(s,"margin"),l=kc(s.maxWidth,n,"clientWidth")||xc,c=kc(s.maxHeight,n,"clientHeight")||xc,f=dk(n,t,e);let{width:p,height:_}=f;if(s.boxSizing==="content-box"){const T=fs(s,"border","width"),S=fs(s,"padding");p-=S.width+T.width,_-=S.height+T.height}return p=Math.max(0,p-a.width),_=Math.max(0,i?p/i:_-a.height),p=Wu(Math.min(p,l,f.maxWidth)),_=Wu(Math.min(_,c,f.maxHeight)),p&&!_&&(_=Wu(p/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,p=Wu(Math.floor(_*i))),{width:p,height:_}}function Oy(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const pk=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};np()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Ny(n,t){const e=lk(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const gk=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},mk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function wo(n,t,e){return n?gk(t,e):mk()}function yv(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function _v(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class yk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(c=>c({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=iv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,f;for(;l>=0;--l)f=a[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Di=new yk;const Ly="transparent",_k={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Cy(n||Ly),s=i.valid&&Cy(t||Ly);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class vk{constructor(t,e,i,s){const a=e[i];s=Hu([t.to,s,a,t.from]);const l=Hu([t.from,a,s]);this._active=!0,this._fn=t.fn||_k[t.type||typeof l],this._easing=Ga[t.easing]||Ga.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Hu([t.to,e,s,t.from]),this._from=Hu([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let f;if(this._active=a!==c&&(l||e<i),!this._active){this._target[s]=c,this._notify(!0);return}if(e<0){this._target[s]=a;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(a,c,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class vv{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Bt(t))return;const e=Object.keys(he.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Bt(a))return;const l={};for(const c of e)l[c]=a[c];(Te(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,e){const i=e.options,s=Ek(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&wk(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),c=Date.now();let f;for(f=l.length-1;f>=0;--f){const p=l[f];if(p.charAt(0)==="$")continue;if(p==="options"){s.push(...this._animateOptions(t,e));continue}const _=e[p];let w=a[p];const T=i.get(p);if(w)if(T&&w.active()){w.update(T,_,c);continue}else w.cancel();if(!T||!T.duration){t[p]=_;continue}a[p]=w=new vk(T,t,p,_),s.push(w)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Di.add(this._chart,i),!0}}function wk(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function Ek(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Fy(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function Tk(n,t,e){if(e===!1)return!1;const i=Fy(n,e),s=Fy(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function xk(n){let t,e,i,s;return Bt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function wv(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function zy(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,c,f,p;if(t===null)return;let _=!1;for(l=0,c=s.length;l<c;++l){if(f=+s[l],f===e){if(_=!0,i.all)continue;break}p=n.values[f],Pn(p)&&(a||t===0||Tr(t)===Tr(p))&&(t+=p)}return!_&&!i.all?0:t}function Sk(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let f,p,_;for(f=0,p=l.length;f<p;++f)_=l[f],c[f]={[s]:_,[a]:n[_]};return c}function Nd(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Ik(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function kk(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function Ak(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function By(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function jy(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:c}=i,f=a.axis,p=l.axis,_=Ik(a,l,i),w=t.length;let T;for(let S=0;S<w;++S){const M=t[S],{[f]:b,[p]:R}=M,z=M._stacks||(M._stacks={});T=z[p]=Ak(s,_,b),T[c]=R,T._top=By(T,l,!0,i.type),T._bottom=By(T,l,!1,i.type);const $=T._visualValues||(T._visualValues={});$[c]=R}}function Ld(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Ck(n,t){return No(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Pk(n,t,e){return No(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ma(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const Fd=n=>n==="reset"||n==="none",Uy=(n,t)=>t?n:Object.assign({},n),Rk=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:wv(e,!0),values:null};class Xa{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nd(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ma(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(w,T,S,M)=>w==="x"?T:w==="r"?M:S,a=e.xAxisID=qt(i.xAxisID,Ld(t,"x")),l=e.yAxisID=qt(i.yAxisID,Ld(t,"y")),c=e.rAxisID=qt(i.rAxisID,Ld(t,"r")),f=e.indexAxis,p=e.iAxisID=s(f,a,l,c),_=e.vAxisID=s(f,l,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(p),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Iy(this._data,this),t._stacked&&Ma(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Bt(e)){const s=this._cachedMeta;this._data=Sk(e,s)}else if(i!==e){if(i){Iy(i,this);const s=this._cachedMeta;Ma(s),s._parsed=[]}e&&Object.isExtensible(e)&&MI(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=Nd(e.vScale,e),e.stack!==i.stack&&(s=!0,Ma(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(jy(this,e._parsed),e._stacked=Nd(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let f=t===0&&e===s.length?!0:i._sorted,p=t>0&&i._parsed[t-1],_,w,T;if(this._parsing===!1)i._parsed=s,i._sorted=!0,T=s;else{Te(s[t])?T=this.parseArrayData(i,s,t,e):Bt(s[t])?T=this.parseObjectData(i,s,t,e):T=this.parsePrimitiveData(i,s,t,e);const S=()=>w[c]===null||p&&w[c]<p[c];for(_=0;_<e;++_)i._parsed[_+t]=w=T[_],f&&(S()&&(f=!1),p=w);i._sorted=f}l&&jy(this,T)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,c=a.axis,f=l.axis,p=a.getLabels(),_=a===l,w=new Array(s);let T,S,M;for(T=0,S=s;T<S;++T)M=T+i,w[T]={[c]:_||a.parse(p[M],M),[f]:l.parse(e[M],M)};return w}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let f,p,_,w;for(f=0,p=s;f<p;++f)_=f+i,w=e[_],c[f]={x:a.parse(w[0],_),y:l.parse(w[1],_)};return c}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:f="y"}=this._parsing,p=new Array(s);let _,w,T,S;for(_=0,w=s;_<w;++_)T=_+i,S=e[T],p[_]={x:a.parse(Ao(S,c),T),y:l.parse(Ao(S,f),T)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],c={keys:wv(s,!0),values:e._stacks[t.axis]._visualValues};return zy(c,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const c=s&&i._stacks[e.axis];s&&c&&(s.values=c,l=zy(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),f=Rk(e,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:w}=kk(c);let T,S;function M(){S=s[T];const b=S[c.axis];return!Pn(S[t.axis])||_>b||w<b}for(T=0;T<l&&!(!M()&&(this.updateRangeFromParsed(p,t,S,f),a));++T);if(a){for(T=l-1;T>=0;--T)if(!M()){this.updateRangeFromParsed(p,t,S,f);break}}return p}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],Pn(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=xk(qt(this.options.clip,Tk(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],c=this._drawStart||0,f=this._drawCount||s.length-c,p=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,a,c,f),_=c;_<c+f;++_){const w=s[_];w.hidden||(w.active&&p?l.push(w):w.draw(t,a))}for(_=0;_<l.length;++_)l[_].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=Pk(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Ck(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,c=a[l],f=this.enableOptionSharing&&ll(i);if(c)return Uy(c,f);const p=this.chart.config,_=p.datasetElementScopeKeys(this._type,t),w=s?[`${t}Hover`,"hover",t,""]:[t,""],T=p.getOptionScopes(this.getDataset(),_),S=Object.keys(he.elements[t]),M=()=>this.getContext(i,s,e),b=p.resolveNamedOptions(T,S,M,w);return b.$shared&&(b.$shared=f,a[l]=Object.freeze(Uy(b,f))),b}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,c=a[l];if(c)return c;let f;if(s.options.animation!==!1){const _=this.chart.config,w=_.datasetAnimationScopeKeys(this._type,e),T=_.getOptionScopes(this.getDataset(),w);f=_.createResolver(T,this.getContext(t,i,e))}const p=new vv(s,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Fd(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){Fd(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Fd(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,f,p]of this._syncList)this[c](f,p);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let c;const f=p=>{for(p.length+=e,c=p.length-1;c>=l;c--)p[c]=p[c-e]};for(f(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Ma(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Lt(Xa,"defaults",{}),Lt(Xa,"datasetElementType",null),Lt(Xa,"dataElementType",null);function bk(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=e.length;s<a;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=nv(i.sort((s,a)=>s-a))}return n._cache.$bar}function Dk(n){const t=n.iScale,e=bk(t,n.type);let i=t._length,s,a,l,c;const f=()=>{l===32767||l===-32768||(ll(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=e.length;s<a;++s)l=t.getPixelForValue(e[s]),f();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),f();return i}function Mk(n,t,e,i){const s=e.barThickness;let a,l;return te(s)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function Vk(n,t,e,i){const s=t.pixels,a=s[n];let l=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const f=e.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const p=a-(a-Math.min(l,c))/2*f;return{chunk:Math.abs(c-l)/2*f/i,ratio:e.barPercentage,start:p}}function Ok(n,t,e,i){const s=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(s,a),c=Math.max(s,a);let f=l,p=c;Math.abs(l)>Math.abs(c)&&(f=c,p=l),t[e.axis]=p,t._custom={barStart:f,barEnd:p,start:s,end:a,min:l,max:c}}function Ev(n,t,e,i){return Te(n)?Ok(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Hy(n,t,e,i){const s=n.iScale,a=n.vScale,l=s.getLabels(),c=s===a,f=[];let p,_,w,T;for(p=e,_=e+i;p<_;++p)T=t[p],w={},w[s.axis]=c||s.parse(l[p],p),f.push(Ev(T,w,a,p));return f}function zd(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Nk(n,t,e){return n!==0?Tr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Lk(n){let t,e,i,s,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:e,end:i,reverse:t,top:s,bottom:a}}function Fk(n,t,e,i){let s=t.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:f,top:p,bottom:_}=Lk(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=p:(e._bottom||0)===i?s=_:(a[Wy(_,l,c,f)]=!0,s=p)),a[Wy(s,l,c,f)]=!0,n.borderSkipped=a}function Wy(n,t,e,i){return i?(n=zk(n,t,e),n=$y(n,e,t)):n=$y(n,t,e),n}function zk(n,t,e){return n===t?e:n===e?t:n}function $y(n,t,e){return n==="start"?t:n==="end"?e:n}function Bk(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class sc extends Xa{parsePrimitiveData(t,e,i,s){return Hy(t,e,i,s)}parseArrayData(t,e,i,s){return Hy(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:f="y"}=this._parsing,p=a.axis==="x"?c:f,_=l.axis==="x"?c:f,w=[];let T,S,M,b;for(T=i,S=i+s;T<S;++T)b=e[T],M={},M[a.axis]=a.parse(Ao(b,p),T),w.push(Ev(Ao(b,_),M,l,T));return w}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,a=this.getParsed(t),l=a._custom,c=zd(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,f=c.getBasePixel(),p=c.isHorizontal(),_=this._getRuler(),{sharedOptions:w,includeOptions:T}=this._getSharedOptions(e,s);for(let S=e;S<e+i;S++){const M=this.getParsed(S),b=a||te(M[c.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),R=this._calculateBarIndexPixels(S,_),z=(M._stacks||{})[c.axis],$={horizontal:p,base:b.base,enableBorderRadius:!z||zd(M._custom)||l===z._top||l===z._bottom,x:p?b.head:R.center,y:p?R.center:b.head,height:p?R.size:Math.abs(b.size),width:p?Math.abs(b.size):R.size};T&&($.options=w||this.resolveDataElementOptions(S,t[S].active?"active":s));const Y=$.options||t[S].options;Fk($,Y,z,l),Bk($,Y,_.ratio),this.updateElement(t[S],S,$,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(e),f=c&&c[i.axis],p=_=>{const w=_._parsed.find(S=>S[i.axis]===f),T=w&&w[_.vScale.axis];if(te(T)||isNaN(T))return!0};for(const _ of s)if(!(e!==void 0&&p(_))&&((a===!1||l.indexOf(_.stack)===-1||a===void 0&&_.stack===void 0)&&l.push(_.stack),_.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),a=e!==void 0?s.indexOf(e):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let a,l;for(a=0,l=e.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||Dk(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,f=this.getParsed(t),p=f._custom,_=zd(p);let w=f[e.axis],T=0,S=i?this.applyStack(e,f,i):w,M,b;S!==w&&(T=S-w,S=w),_&&(w=p.barStart,S=p.barEnd-p.barStart,w!==0&&Tr(w)!==Tr(p.barEnd)&&(T=0),T+=w);const R=!te(a)&&!_?a:T;let z=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?M=e.getPixelForValue(T+S):M=z,b=M-z,Math.abs(b)<l){b=Nk(b,e,c)*l,w===c&&(z-=b/2);const $=e.getPixelForDecimal(0),Y=e.getPixelForDecimal(1),Z=Math.min($,Y),nt=Math.max($,Y);z=Math.max(Math.min(z,nt),Z),M=z+b,i&&!_&&(f._stacks[e.axis]._visualValues[s]=e.getValueForPixel(M)-e.getValueForPixel(z))}if(z===e.getPixelForValue(c)){const $=Tr(b)*e.getLineWidthForValue(c)/2;z+=$,b-=$}return{size:b,base:z,head:M,center:M+b/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,a=s.skipNull,l=qt(s.maxBarThickness,1/0);let c,f;if(e.grouped){const p=a?this._getStackCount(t):e.stackCount,_=s.barThickness==="flex"?Vk(t,e,s,p):Mk(t,e,s,p),w=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=_.start+_.chunk*w+_.chunk/2,f=Math.min(l,_.chunk*_.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:c-f/2,head:c+f/2,center:c,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Lt(sc,"id","bar"),Lt(sc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Lt(sc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function as(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rp{constructor(t){Lt(this,"options");this.options=t||{}}static override(t){Object.assign(rp.prototype,t)}init(){}formats(){return as()}parse(){return as()}format(){return as()}add(){return as()}diff(){return as()}startOf(){return as()}endOf(){return as()}}var jk={_date:rp};function Uk(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,c=s._cachedMeta.iScale;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const f=c._reversePixels?bI:gf;if(i){if(s._sharedOptions){const p=a[0],_=typeof p.getRange=="function"&&p.getRange(t);if(_){const w=f(a,t,e-_),T=f(a,t,e+_);return{lo:w.lo,hi:T.hi}}}}else return f(a,t,e)}return{lo:0,hi:a.length-1}}function gl(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let c=0,f=a.length;c<f;++c){const{index:p,data:_}=a[c],{lo:w,hi:T}=Uk(a[c],t,l,s);for(let S=w;S<=T;++S){const M=_[S];M.skip||i(M,p,S)}}}function Hk(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Bd(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||gl(n,e,t,function(c,f,p){!s&&!cv(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:f,index:p})},!0),a}function Wk(n,t,e,i){let s=[];function a(l,c,f){const{startAngle:p,endAngle:_}=l.getProps(["startAngle","endAngle"],i),{angle:w}=AI(l,{x:t.x,y:t.y});PI(w,p,_)&&s.push({element:l,datasetIndex:c,index:f})}return gl(n,e,t,a),s}function $k(n,t,e,i,s,a){let l=[];const c=Hk(e);let f=Number.POSITIVE_INFINITY;function p(_,w,T){const S=_.inRange(t.x,t.y,s);if(i&&!S)return;const M=_.getCenterPoint(s);if(!(!!a||n.isPointInArea(M))&&!S)return;const R=c(t,M);R<f?(l=[{element:_,datasetIndex:w,index:T}],f=R):R===f&&l.push({element:_,datasetIndex:w,index:T})}return gl(n,e,t,p),l}function jd(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?Wk(n,t,e,s):$k(n,t,e,i,s,a)}function qy(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let c=!1;return gl(n,e,t,(f,p,_)=>{f[l]&&f[l](t[e],s)&&(a.push({element:f,datasetIndex:p,index:_}),c=c||f.inRange(t.x,t.y,s))}),i&&!c?[]:a}var qk={evaluateInteractionItems:gl,modes:{index(n,t,e,i){const s=us(t,n),a=e.axis||"x",l=e.includeInvisible||!1,c=e.intersect?Bd(n,s,a,i,l):jd(n,s,a,!1,i,l),f=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const _=c[0].index,w=p.data[_];w&&!w.skip&&f.push({element:w,datasetIndex:p.index,index:_})}),f):[]},dataset(n,t,e,i){const s=us(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let c=e.intersect?Bd(n,s,a,i,l):jd(n,s,a,!1,i,l);if(c.length>0){const f=c[0].datasetIndex,p=n.getDatasetMeta(f).data;c=[];for(let _=0;_<p.length;++_)c.push({element:p[_],datasetIndex:f,index:_})}return c},point(n,t,e,i){const s=us(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Bd(n,s,a,i,l)},nearest(n,t,e,i){const s=us(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return jd(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=us(t,n);return qy(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=us(t,n);return qy(n,s,"y",e.intersect,i)}}};const Tv=["left","top","right","bottom"];function Va(n,t){return n.filter(e=>e.pos===t)}function Ky(n,t){return n.filter(e=>Tv.indexOf(e.pos)===-1&&e.box.axis===t)}function Oa(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Kk(n){const t=[];let e,i,s,a,l,c;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function Qk(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!Tv.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function Gk(n,t){const e=Qk(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:f}=c.box,p=e[c.stack],_=p&&c.stackWeight/p.weight;c.horizontal?(c.width=_?_*i:f&&t.availableWidth,c.height=s):(c.width=i,c.height=_?_*s:f&&t.availableHeight)}return e}function Yk(n){const t=Kk(n),e=Oa(t.filter(p=>p.box.fullSize),!0),i=Oa(Va(t,"left"),!0),s=Oa(Va(t,"right")),a=Oa(Va(t,"top"),!0),l=Oa(Va(t,"bottom")),c=Ky(t,"x"),f=Ky(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(f).concat(l).concat(c),chartArea:Va(t,"chartArea"),vertical:i.concat(s).concat(f),horizontal:a.concat(l).concat(c)}}function Qy(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function xv(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Xk(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Bt(s)){e.size&&(n[s]-=e.size);const w=i[e.stack]||{size:0,count:1};w.size=Math.max(w.size,e.horizontal?a.height:a.width),e.size=w.size/w.count,n[s]+=e.size}a.getPadding&&xv(l,a.getPadding());const c=Math.max(0,t.outerWidth-Qy(l,n,"left","right")),f=Math.max(0,t.outerHeight-Qy(l,n,"top","bottom")),p=c!==n.w,_=f!==n.h;return n.w=c,n.h=f,e.horizontal?{same:p,other:_}:{same:_,other:p}}function Jk(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Zk(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Ua(n,t,e,i){const s=[];let a,l,c,f,p,_;for(a=0,l=n.length,p=0;a<l;++a){c=n[a],f=c.box,f.update(c.width||t.w,c.height||t.h,Zk(c.horizontal,t));const{same:w,other:T}=Xk(t,e,c,i);p|=w&&s.length,_=_||T,f.fullSize||s.push(c)}return p&&Ua(s,t,e,i)||_}function $u(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function Gy(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const c of n){const f=c.box,p=i[c.stack]||{count:1,placed:0,weight:1},_=c.stackWeight/p.weight||1;if(c.horizontal){const w=t.w*_,T=p.size||f.height;ll(p.start)&&(l=p.start),f.fullSize?$u(f,s.left,l,e.outerWidth-s.right-s.left,T):$u(f,t.left+p.placed,l,w,T),p.start=l,p.placed+=w,l=f.bottom}else{const w=t.h*_,T=p.size||f.width;ll(p.start)&&(a=p.start),f.fullSize?$u(f,a,s.top,T,e.outerHeight-s.bottom-s.top):$u(f,a,t.top+p.placed,T,w),p.start=a,p.placed+=w,a=f.right}}t.x=a,t.y=l}var Cn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=Rn(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),c=Yk(n.boxes),f=c.vertical,p=c.horizontal;$t(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const _=f.reduce((b,R)=>R.box.options&&R.box.options.display===!1?b:b+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/_,hBoxMaxHeight:l/2}),T=Object.assign({},s);xv(T,Rn(i));const S=Object.assign({maxPadding:T,w:a,h:l,x:s.left,y:s.top},s),M=Gk(f.concat(p),w);Ua(c.fullSize,S,w,M),Ua(f,S,w,M),Ua(p,S,w,M)&&Ua(f,S,w,M),Jk(S),Gy(c.leftAndTop,S,w,M),S.x+=S.w,S.y+=S.h,Gy(c.rightAndBottom,S,w,M),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},$t(c.chartArea,b=>{const R=b.box;Object.assign(R,n.chartArea),R.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class Sv{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class tA extends Sv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const oc="$chartjs",eA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Yy=n=>n===null||n==="";function nA(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[oc]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Yy(s)){const a=Ny(n,"width");a!==void 0&&(n.width=a)}if(Yy(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=Ny(n,"height");a!==void 0&&(n.height=a)}return n}const Iv=pk?{passive:!0}:!1;function iA(n,t,e){n&&n.addEventListener(t,e,Iv)}function rA(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Iv)}function sA(n,t){const e=eA[n.type]||n.type,{x:i,y:s}=us(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Ac(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function oA(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ac(c.addedNodes,i),l=l&&!Ac(c.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function aA(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ac(c.removedNodes,i),l=l&&!Ac(c.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const cl=new Map;let Xy=0;function kv(){const n=window.devicePixelRatio;n!==Xy&&(Xy=n,cl.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function lA(n,t){cl.size||window.addEventListener("resize",kv),cl.set(n,t)}function uA(n){cl.delete(n),cl.size||window.removeEventListener("resize",kv)}function cA(n,t,e){const i=n.canvas,s=i&&ip(i);if(!s)return;const a=rv((c,f)=>{const p=s.clientWidth;e(c,f),p<s.clientWidth&&e()},window),l=new ResizeObserver(c=>{const f=c[0],p=f.contentRect.width,_=f.contentRect.height;p===0&&_===0||a(p,_)});return l.observe(s),lA(n,a),l}function Ud(n,t,e){e&&e.disconnect(),t==="resize"&&uA(n)}function hA(n,t,e){const i=n.canvas,s=rv(a=>{n.ctx!==null&&e(sA(a,n))},n);return iA(i,t,s),s}class dA extends Sv{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(nA(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[oc])return!1;const i=e[oc].initial;["height","width"].forEach(a=>{const l=i[a];te(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[oc],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:oA,detach:aA,resize:cA}[e]||hA;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Ud,detach:Ud,resize:Ud}[e]||rA)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return fk(t,e,i,s)}isAttached(t){const e=t&&ip(t);return!!(e&&e.isConnected)}}function fA(n){return!np()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?tA:dA}class Pr{constructor(){Lt(this,"x");Lt(this,"y");Lt(this,"active",!1);Lt(this,"options");Lt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Sc(this.x)&&Sc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}Lt(Pr,"defaults",{}),Lt(Pr,"defaultRoutes");function pA(n,t){const e=n.options.ticks,i=gA(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?yA(t):[],l=a.length,c=a[0],f=a[l-1],p=[];if(l>s)return _A(t,p,a,l/s),p;const _=mA(a,t,s);if(l>0){let w,T;const S=l>1?Math.round((f-c)/(l-1)):null;for(qu(t,p,_,te(S)?0:c-S,c),w=0,T=l-1;w<T;w++)qu(t,p,_,a[w],a[w+1]);return qu(t,p,_,f,te(S)?t.length:f+S),p}return qu(t,p,_),p}function gA(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function mA(n,t,e){const i=vA(n),s=t.length/e;if(!i)return Math.max(s,1);const a=xI(i);for(let l=0,c=a.length-1;l<c;l++){const f=a[l];if(f>s)return f}return Math.max(s,1)}function yA(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function _A(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function qu(n,t,e,i,s){const a=qt(i,0),l=Math.min(qt(s,n.length),n.length);let c=0,f,p,_;for(e=Math.ceil(e),s&&(f=s-i,e=f/Math.floor(f/e)),_=a;_<0;)c++,_=Math.round(a+c*e);for(p=Math.max(a,0);p<l;p++)p===_&&(t.push(n[p]),c++,_=Math.round(a+c*e))}function vA(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const wA=n=>n==="left"?"right":n==="right"?"left":n,Jy=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Zy=(n,t)=>Math.min(t||n,n);function t_(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function EA(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,c=1e-6;let f=n.getPixelForTick(s),p;if(!(e&&(i===1?p=Math.max(f-a,l-f):t===0?p=(n.getPixelForTick(1)-f)/2:p=(f-n.getPixelForTick(s-1))/2,f+=s<t?p:-p,f<a-c||f>l+c)))return f}function TA(n,t){$t(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function Na(n){return n.drawTicks?n.tickLength:0}function e_(n,t){if(!n.display)return 0;const e=$e(n.font,t),i=Rn(n.padding);return(Te(n.text)?n.text.length:1)*e.lineHeight+i.height}function xA(n,t){return No(n,{scale:t,type:"scale"})}function SA(n,t,e){return No(n,{tick:e,index:t,type:"tick"})}function IA(n,t,e){let i=Yf(n);return(e&&t!=="right"||!e&&t==="right")&&(i=wA(i)),i}function kA(n,t,e,i){const{top:s,left:a,bottom:l,right:c,chart:f}=n,{chartArea:p,scales:_}=f;let w=0,T,S,M;const b=l-s,R=c-a;if(n.isHorizontal()){if(S=je(i,a,c),Bt(e)){const z=Object.keys(e)[0],$=e[z];M=_[z].getPixelForValue($)+b-t}else e==="center"?M=(p.bottom+p.top)/2+b-t:M=Jy(n,e,t);T=c-a}else{if(Bt(e)){const z=Object.keys(e)[0],$=e[z];S=_[z].getPixelForValue($)-R+t}else e==="center"?S=(p.left+p.right)/2-R+t:S=Jy(n,e,t);M=je(i,l,s),w=e==="left"?-Kn:Kn}return{titleX:S,titleY:M,maxWidth:T,rotation:w}}class Lo extends Pr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=oi(t,Number.POSITIVE_INFINITY),e=oi(e,Number.NEGATIVE_INFINITY),i=oi(i,Number.POSITIVE_INFINITY),s=oi(s,Number.NEGATIVE_INFINITY),{min:oi(t,i),max:oi(e,s),minDefined:Pn(t),maxDefined:Pn(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let f=0,p=c.length;f<p;++f)l=c[f].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:oi(e,oi(i,e)),max:oi(i,oi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Zt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JI(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=c<this.ticks.length;this._convertTicksToLabels(f?t_(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=pA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Zt(this.options.afterUpdate,[this])}beforeSetDimensions(){Zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Zt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Zt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=Zt(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Zy(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,c,f,p;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const _=this._getLabelSizes(),w=_.widest.width,T=_.highest.height,S=Qn(this.chart.width-w,0,this.maxWidth);c=t.offset?this.maxWidth/i:S/(i-1),w+6>c&&(c=S/(i-(t.offset?.5:1)),f=this.maxHeight-Na(t.grid)-e.padding-e_(t.title,this.chart.options.font),p=Math.sqrt(w*w+T*T),l=kI(Math.min(Math.asin(Qn((_.highest.height+6)/c,-1,1)),Math.asin(Qn(f/p,-1,1))-Math.asin(Qn(T/p,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Zt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const f=e_(s,e.options.font);if(c?(t.width=this.maxWidth,t.height=Na(a)+f):(t.height=this.maxHeight,t.width=Na(a)+f),i.display&&this.ticks.length){const{first:p,last:_,widest:w,highest:T}=this._getLabelSizes(),S=i.padding*2,M=hs(this.labelRotation),b=Math.cos(M),R=Math.sin(M);if(c){const z=i.mirror?0:R*w.width+b*T.height;t.height=Math.min(this.maxHeight,t.height+z+S)}else{const z=i.mirror?0:b*w.width+R*T.height;t.width=Math.min(this.maxWidth,t.width+z+S)}this._calculatePadding(p,_,R,b)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,f=this.labelRotation!==0,p=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,S=0;f?p?(T=s*t.width,S=i*e.height):(T=i*t.height,S=s*e.width):a==="start"?S=e.width:a==="end"?T=t.width:a!=="inner"&&(T=t.width/2,S=e.width/2),this.paddingLeft=Math.max((T-_+l)*this.width/(this.width-_),0),this.paddingRight=Math.max((S-w+l)*this.width/(this.width-w),0)}else{let _=e.height/2,w=t.height/2;a==="start"?(_=0,w=t.height):a==="end"&&(_=e.height,w=0),this.paddingTop=_+l,this.paddingBottom=w+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Zt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)te(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=t_(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],f=Math.floor(e/Zy(e,i));let p=0,_=0,w,T,S,M,b,R,z,$,Y,Z,nt;for(w=0;w<e;w+=f){if(M=t[w].label,b=this._resolveTickFontOptions(w),s.font=R=b.string,z=a[R]=a[R]||{data:{},gc:[]},$=b.lineHeight,Y=Z=0,!te(M)&&!Te(M))Y=Ry(s,z.data,z.gc,Y,M),Z=$;else if(Te(M))for(T=0,S=M.length;T<S;++T)nt=M[T],!te(nt)&&!Te(nt)&&(Y=Ry(s,z.data,z.gc,Y,nt),Z+=$);l.push(Y),c.push(Z),p=Math.max(Y,p),_=Math.max(Z,_)}TA(a,e);const tt=l.indexOf(p),P=c.indexOf(_),I=k=>({width:l[k]||0,height:c[k]||0});return{first:I(0),last:I(e-1),widest:I(tt),highest:I(P),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return RI(this._alignToPixels?os(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=SA(this.getContext(),t,i))}return this.$context||(this.$context=xA(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=hs(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,f=a?a.highest.height+l:0;return this.isHorizontal()?f*i>c*s?c/i:f/s:f*s<c*i?f/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,f=a.offset,p=this.isHorizontal(),w=this.ticks.length+(f?1:0),T=Na(a),S=[],M=c.setContext(this.getContext()),b=M.display?M.width:0,R=b/2,z=function(Dt){return os(i,Dt,b)};let $,Y,Z,nt,tt,P,I,k,D,V,N,C;if(l==="top")$=z(this.bottom),P=this.bottom-T,k=$-R,V=z(t.top)+R,C=t.bottom;else if(l==="bottom")$=z(this.top),V=t.top,C=z(t.bottom)-R,P=$+R,k=this.top+T;else if(l==="left")$=z(this.right),tt=this.right-T,I=$-R,D=z(t.left)+R,N=t.right;else if(l==="right")$=z(this.left),D=t.left,N=z(t.right)-R,tt=$+R,I=this.left+T;else if(e==="x"){if(l==="center")$=z((t.top+t.bottom)/2+.5);else if(Bt(l)){const Dt=Object.keys(l)[0],It=l[Dt];$=z(this.chart.scales[Dt].getPixelForValue(It))}V=t.top,C=t.bottom,P=$+R,k=P+T}else if(e==="y"){if(l==="center")$=z((t.left+t.right)/2);else if(Bt(l)){const Dt=Object.keys(l)[0],It=l[Dt];$=z(this.chart.scales[Dt].getPixelForValue(It))}tt=$-R,I=tt-T,D=t.left,N=t.right}const Ft=qt(s.ticks.maxTicksLimit,w),kt=Math.max(1,Math.ceil(w/Ft));for(Y=0;Y<w;Y+=kt){const Dt=this.getContext(Y),It=a.setContext(Dt),it=c.setContext(Dt),ft=It.lineWidth,st=It.color,F=it.dash||[],q=it.dashOffset,ct=It.tickWidth,_t=It.tickColor,Tt=It.tickBorderDash||[],St=It.tickBorderDashOffset;Z=EA(this,Y,f),Z!==void 0&&(nt=os(i,Z,ft),p?tt=I=D=N=nt:P=k=V=C=nt,S.push({tx1:tt,ty1:P,tx2:I,ty2:k,x1:D,y1:V,x2:N,y2:C,width:ft,color:st,borderDash:F,borderDashOffset:q,tickWidth:ct,tickColor:_t,tickBorderDash:Tt,tickBorderDashOffset:St}))}return this._ticksLength=w,this._borderValue=$,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:f,crossAlign:p,padding:_,mirror:w}=a,T=Na(i.grid),S=T+_,M=w?-_:S,b=-hs(this.labelRotation),R=[];let z,$,Y,Z,nt,tt,P,I,k,D,V,N,C="middle";if(s==="top")tt=this.bottom-M,P=this._getXAxisLabelAlignment();else if(s==="bottom")tt=this.top+M,P=this._getXAxisLabelAlignment();else if(s==="left"){const kt=this._getYAxisLabelAlignment(T);P=kt.textAlign,nt=kt.x}else if(s==="right"){const kt=this._getYAxisLabelAlignment(T);P=kt.textAlign,nt=kt.x}else if(e==="x"){if(s==="center")tt=(t.top+t.bottom)/2+S;else if(Bt(s)){const kt=Object.keys(s)[0],Dt=s[kt];tt=this.chart.scales[kt].getPixelForValue(Dt)+S}P=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")nt=(t.left+t.right)/2-S;else if(Bt(s)){const kt=Object.keys(s)[0],Dt=s[kt];nt=this.chart.scales[kt].getPixelForValue(Dt)}P=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(f==="start"?C="top":f==="end"&&(C="bottom"));const Ft=this._getLabelSizes();for(z=0,$=c.length;z<$;++z){Y=c[z],Z=Y.label;const kt=a.setContext(this.getContext(z));I=this.getPixelForTick(z)+a.labelOffset,k=this._resolveTickFontOptions(z),D=k.lineHeight,V=Te(Z)?Z.length:1;const Dt=V/2,It=kt.color,it=kt.textStrokeColor,ft=kt.textStrokeWidth;let st=P;l?(nt=I,P==="inner"&&(z===$-1?st=this.options.reverse?"left":"right":z===0?st=this.options.reverse?"right":"left":st="center"),s==="top"?p==="near"||b!==0?N=-V*D+D/2:p==="center"?N=-Ft.highest.height/2-Dt*D+D:N=-Ft.highest.height+D/2:p==="near"||b!==0?N=D/2:p==="center"?N=Ft.highest.height/2-Dt*D:N=Ft.highest.height-V*D,w&&(N*=-1),b!==0&&!kt.showLabelBackdrop&&(nt+=D/2*Math.sin(b))):(tt=I,N=(1-V)*D/2);let F;if(kt.showLabelBackdrop){const q=Rn(kt.backdropPadding),ct=Ft.heights[z],_t=Ft.widths[z];let Tt=N-q.top,St=0-q.left;switch(C){case"middle":Tt-=ct/2;break;case"bottom":Tt-=ct;break}switch(P){case"center":St-=_t/2;break;case"right":St-=_t;break;case"inner":z===$-1?St-=_t:z>0&&(St-=_t/2);break}F={left:St,top:Tt,width:_t+q.width,height:ct+q.height,color:kt.backdropColor}}R.push({label:Z,font:k,textOffset:N,options:{rotation:b,color:It,strokeColor:it,strokeWidth:ft,textAlign:st,textBaseline:C,translation:[nt,tt],backdrop:F}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-hs(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,f=l.widest.width;let p,_;return e==="left"?s?(_=this.right+a,i==="near"?p="left":i==="center"?(p="center",_+=f/2):(p="right",_+=f)):(_=this.right-c,i==="near"?p="right":i==="center"?(p="center",_-=f/2):(p="left",_=this.left)):e==="right"?s?(_=this.left+a,i==="near"?p="right":i==="center"?(p="center",_-=f/2):(p="left",_-=f)):(_=this.left+c,i==="near"?p="left":i==="center"?(p="center",_+=f/2):(p="right",_=this.right)):p="right",{textAlign:p,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(f,p,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const f=s[a];e.drawOnChartArea&&c({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&c({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let p,_,w,T;this.isHorizontal()?(p=os(t,this.left,l)-l/2,_=os(t,this.right,c)+c/2,w=T=f):(w=os(t,this.top,l)-l/2,T=os(t,this.bottom,c)+c/2,p=_=f),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(p,w),e.lineTo(_,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Xf(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,f=l.font,p=l.label,_=l.textOffset;ul(i,p,0,_,f,c)}s&&Jf(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=$e(i.font),l=Rn(i.padding),c=i.align;let f=a.lineHeight/2;e==="bottom"||e==="center"||Bt(e)?(f+=l.bottom,Te(i.text)&&(f+=a.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:p,titleY:_,maxWidth:w,rotation:T}=kA(this,f,e,c);ul(t,i.text,0,0,a,{color:i.color,maxWidth:w,rotation:T,textAlign:IA(c,e,s),textBaseline:"middle",translation:[p,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=qt(t.grid&&t.grid.z,-1),s=qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Lo.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const c=e[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return $e(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ku{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;PA(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,AA(t,l,i),this.override&&he.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in he[s]&&(delete he[s][i],this.override&&delete gs[i])}}function AA(n,t,e){const i=al(Object.create(null),[e?he.get(e):{},he.get(t),n.defaults]);he.set(t,i),n.defaultRoutes&&CA(t,n.defaultRoutes),n.descriptors&&he.describe(t,n.descriptors)}function CA(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),c=l.pop(),f=l.join(".");he.route(a,s,f,c)})}function PA(n){return"id"in n&&"defaults"in n}class RA{constructor(){this.controllers=new Ku(Xa,"datasets",!0),this.elements=new Ku(Pr,"elements"),this.plugins=new Ku(Object,"plugins"),this.scales=new Ku(Lo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):$t(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,e,i){const s=Qf(t);Zt(i["before"+s],[],i),e[t](i),Zt(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var li=new RA;class bA{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],f=[e,s,a.options];if(Zt(c,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=qt(i.options&&i.options.plugins,{}),a=DA(i);return s===!1&&!e?[]:VA(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(f=>c.plugin.id===f.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function DA(n){const t={},e=[],i=Object.keys(li.plugins.items);for(let a=0;a<i.length;a++)e.push(li.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function MA(n,t){return!t&&n===!1?null:n===!0?{}:n}function VA(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const c of t){const f=c.id,p=MA(i[f],s);p!==null&&a.push({plugin:c,options:OA(n.config,{plugin:c,local:e[f]},p,l)})}return a}function OA(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yf(n,t){const e=he.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function NA(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function LA(n,t){return n===t?"_index_":"_value_"}function n_(n){if(n==="x"||n==="y"||n==="r")return n}function FA(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function _f(n,...t){if(n_(n))return n;for(const e of t){const i=e.axis||FA(e.position)||n.length>1&&n_(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function i_(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function zA(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return i_(n,"x",e[0])||i_(n,"y",e[0])}return{}}function BA(n,t){const e=gs[n.type]||{scales:{}},i=t.scales||{},s=yf(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!Bt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=_f(l,c,zA(l,n),he.scales[c.type]),p=LA(f,s),_=e.scales||{};a[l]=Qa(Object.create(null),[{axis:f},c,_[f],_[p]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,f=l.indexAxis||yf(c,t),_=(gs[c]||{}).scales||{};Object.keys(_).forEach(w=>{const T=NA(w,f),S=l[T+"AxisID"]||T;a[S]=a[S]||Object.create(null),Qa(a[S],[{axis:T},i[S],_[w]])})}),Object.keys(a).forEach(l=>{const c=a[l];Qa(c,[he.scales[c.type],he.scale])}),a}function Av(n){const t=n.options||(n.options={});t.plugins=qt(t.plugins,{}),t.scales=BA(n,t)}function Cv(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function jA(n){return n=n||{},n.data=Cv(n.data),Av(n),n}const r_=new Map,Pv=new Set;function Qu(n,t){let e=r_.get(n);return e||(e=t(),r_.set(n,e),Pv.add(e)),e}const La=(n,t,e)=>{const i=Ao(t,e);i!==void 0&&n.add(i)};class UA{constructor(t){this._config=jA(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Cv(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Av(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Qu(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Qu(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Qu(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(e);if(c)return c;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(w=>La(f,t,w))),_.forEach(w=>La(f,s,w)),_.forEach(w=>La(f,gs[a]||{},w)),_.forEach(w=>La(f,he,w)),_.forEach(w=>La(f,mf,w))});const p=Array.from(f);return p.length===0&&p.push(Object.create(null)),Pv.has(e)&&l.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,gs[e]||{},he.datasets[e]||{},{type:e},he,mf]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=s_(this._resolverCache,t,s);let f=l;if(WA(l,e)){a.$shared=!1,i=Cr(i)?i():i;const p=this.createResolver(t,i,c);f=Co(l,i,p)}for(const p of e)a[p]=f[p];return a}createResolver(t,e,i=[""],s){const{resolver:a}=s_(this._resolverCache,t,i);return Bt(e)?Co(a,e,void 0,s):a}}function s_(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:Zf(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const HA=n=>Bt(n)&&Object.getOwnPropertyNames(n).some(t=>Cr(n[t]));function WA(n,t){const{isScriptable:e,isIndexable:i}=fv(n);for(const s of t){const a=e(s),l=i(s),c=(l||a)&&n[s];if(a&&(Cr(c)||HA(c))||l&&Te(c))return!0}return!1}var $A="4.4.7";const qA=["top","bottom","left","right","chartArea"];function o_(n,t){return n==="top"||n==="bottom"||qA.indexOf(n)===-1&&t==="x"}function a_(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function l_(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Zt(e&&e.onComplete,[n],t)}function KA(n){const t=n.chart,e=t.options.animation;Zt(e&&e.onProgress,[n],t)}function Rv(n){return np()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ac={},u_=n=>{const t=Rv(n);return Object.values(ac).filter(e=>e.canvas===t).pop()};function QA(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function GA(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function Gu(n,t,e){return n.options.clip?n[e]:t[e]}function YA(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Gu(e,t,"left"),right:Gu(e,t,"right"),top:Gu(i,t,"top"),bottom:Gu(i,t,"bottom")}:t}var dr;let Wc=(dr=class{static register(...t){li.add(...t),c_()}static unregister(...t){li.remove(...t),c_()}constructor(t,e){const i=this.config=new UA(e),s=Rv(t),a=u_(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||fA(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),f=c&&c.canvas,p=f&&f.height,_=f&&f.width;if(this.id=gI(),this.ctx=c,this.canvas=f,this.width=_,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=VI(w=>this.update(w),l.resizeDelay||0),this._dataChanges=[],ac[this.id]=this,!c||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Di.listen(this,"complete",l_),Di.listen(this,"progress",KA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return te(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return li}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Oy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return by(this.canvas,this.ctx),this}stop(){return Di.stop(this),this}resize(t,e){Di.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Oy(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Zt(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};$t(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const c=e[l],f=_f(l,c),p=f==="r",_=f==="x";return{options:c,dposition:p?"chartArea":_?"bottom":"left",dtype:p?"radialLinear":_?"category":"linear"}}))),$t(a,l=>{const c=l.options,f=c.id,p=_f(f,c),_=qt(c.type,l.dtype);(c.position===void 0||o_(c.position,p)!==o_(l.dposition))&&(c.position=l.dposition),s[f]=!0;let w=null;if(f in i&&i[f].type===_)w=i[f];else{const T=li.getScale(_);w=new T({id:f,type:_,ctx:this.ctx,chart:this}),i[w.id]=w}w.init(c,t)}),$t(s,(l,c)=>{l||delete i[c]}),$t(i,l=>{Cn.configure(this,l,l.options),Cn.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(a_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||yf(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=li.getController(c),{datasetElementType:p,dataElementType:_}=he.datasets[c];Object.assign(f,{dataElementType:li.getElement(_),datasetElementType:p&&li.getElement(p)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){$t(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,_=this.data.datasets.length;p<_;p++){const{controller:w}=this.getDatasetMeta(p),T=!s&&a.indexOf(w)===-1;w.buildOrUpdateElements(T),l=Math.max(+w.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||$t(a,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(a_("z","_idx"));const{_active:c,_lastEvent:f}=this;f?this._eventHandler(f,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){$t(this.scales,t=>{Cn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Ey(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;QA(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!Ey(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],$t(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Cr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Di.has(this)?this.attached&&!Di.running(this)&&Di.start(this):(this.draw(),l_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,a=YA(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&Xf(e,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),t.controller.draw(),s&&Jf(e),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return cv(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=qk.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=No(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);ll(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Di.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),by(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ac[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};$t(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,p)=>{e.addEventListener(this,f,p),t[f]=p},s=(f,p)=>{t[f]&&(e.removeEventListener(this,f,p),delete t[f])},a=(f,p)=>{this.canvas&&this.resize(f,p)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():l()}unbindEvents(){$t(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},$t(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,c,f;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,f=t.length;c<f;++c){l=t[c];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Ec(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(f,p)=>f.filter(_=>!p.some(w=>_.datasetIndex===w.datasetIndex&&_.index===w.index)),l=a(e,t),c=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,c=this._getActiveElements(t,s,i,l),f=EI(t),p=GA(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Zt(a.onHover,[t,c,this],this),f&&Zt(a.onClick,[t,c,this],this));const _=!Ec(c,s);return(_||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=p,_}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}},Lt(dr,"defaults",he),Lt(dr,"instances",ac),Lt(dr,"overrides",gs),Lt(dr,"registry",li),Lt(dr,"version",$A),Lt(dr,"getChart",u_),dr);function c_(){return $t(Wc.instances,n=>n._plugins.invalidate())}function bv(n,t){const{x:e,y:i,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let c,f,p,_,w;return n.horizontal?(w=l/2,c=Math.min(e,s),f=Math.max(e,s),p=i-w,_=i+w):(w=a/2,c=e-w,f=e+w,p=Math.min(i,s),_=Math.max(i,s)),{left:c,top:p,right:f,bottom:_}}function gr(n,t,e,i){return n?0:Qn(t,e,i)}function XA(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,a=dv(i);return{t:gr(s.top,a.top,0,e),r:gr(s.right,a.right,0,t),b:gr(s.bottom,a.bottom,0,e),l:gr(s.left,a.left,0,t)}}function JA(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=vo(s),l=Math.min(t,e),c=n.borderSkipped,f=i||Bt(s);return{topLeft:gr(!f||c.top||c.left,a.topLeft,0,l),topRight:gr(!f||c.top||c.right,a.topRight,0,l),bottomLeft:gr(!f||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:gr(!f||c.bottom||c.right,a.bottomRight,0,l)}}function ZA(n){const t=bv(n),e=t.right-t.left,i=t.bottom-t.top,s=XA(n,e/2,i/2),a=JA(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Hd(n,t,e,i){const s=t===null,a=e===null,c=n&&!(s&&a)&&bv(n,i);return c&&(s||mo(t,c.left,c.right))&&(a||mo(e,c.top,c.bottom))}function tC(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function eC(n,t){n.rect(t.x,t.y,t.w,t.h)}function Wd(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class lc extends Pr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=ZA(this),c=tC(l.radius)?Ic:eC;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Wd(l,e,a)),t.clip(),c(t,Wd(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Wd(a,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Hd(this,t,e,i)}inXRange(t,e){return Hd(this,t,null,e)}inYRange(t,e){return Hd(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Lt(lc,"id","bar"),Lt(lc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Lt(lc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const h_=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},nC=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class d_ extends Pr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Zt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=$e(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:f}=h_(i,a);let p,_;e.font=s.string,this.isHorizontal()?(p=this.maxWidth,_=this._fitRows(l,a,c,f)+10):(_=this.maxHeight,p=this._fitCols(l,s,c,f)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,f=this.legendHitBoxes=[],p=this.lineWidths=[0],_=s+c;let w=t;a.textAlign="left",a.textBaseline="middle";let T=-1,S=-_;return this.legendItems.forEach((M,b)=>{const R=i+e/2+a.measureText(M.text).width;(b===0||p[p.length-1]+R+2*c>l)&&(w+=_,p[p.length-(b>0?0:1)]=0,S+=_,T++),f[b]={left:0,top:S,row:T,width:R,height:s},p[p.length-1]+=R+c}),w}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,f=this.legendHitBoxes=[],p=this.columnSizes=[],_=l-t;let w=c,T=0,S=0,M=0,b=0;return this.legendItems.forEach((R,z)=>{const{itemWidth:$,itemHeight:Y}=iC(i,e,a,R,s);z>0&&S+Y+2*c>_&&(w+=T+c,p.push({width:T,height:S}),M+=T+c,b++,T=S=0),f[z]={left:M,top:S,col:b,width:$,height:Y},T=Math.max(T,$),S+=Y+c}),w+=T,p.push({width:T,height:S}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=wo(a,this.left,this.width);if(this.isHorizontal()){let c=0,f=je(i,this.left+s,this.right-this.lineWidths[c]);for(const p of e)c!==p.row&&(c=p.row,f=je(i,this.left+s,this.right-this.lineWidths[c])),p.top+=this.top+t+s,p.left=l.leftForLtr(l.x(f),p.width),f+=p.width+s}else{let c=0,f=je(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const p of e)p.col!==c&&(c=p.col,f=je(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),p.top=f,p.left+=this.left+s,p.left=l.leftForLtr(l.x(p.left),p.width),f+=p.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Xf(t,this),this._draw(),Jf(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=he.color,f=wo(t.rtl,this.left,this.width),p=$e(l.font),{padding:_}=l,w=p.size,T=w/2;let S;this.drawTitle(),s.textAlign=f.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=p.string;const{boxWidth:M,boxHeight:b,itemHeight:R}=h_(l,w),z=function(tt,P,I){if(isNaN(M)||M<=0||isNaN(b)||b<0)return;s.save();const k=qt(I.lineWidth,1);if(s.fillStyle=qt(I.fillStyle,c),s.lineCap=qt(I.lineCap,"butt"),s.lineDashOffset=qt(I.lineDashOffset,0),s.lineJoin=qt(I.lineJoin,"miter"),s.lineWidth=k,s.strokeStyle=qt(I.strokeStyle,c),s.setLineDash(qt(I.lineDash,[])),l.usePointStyle){const D={radius:b*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:k},V=f.xPlus(tt,M/2),N=P+T;uv(s,D,V,N,l.pointStyleWidth&&M)}else{const D=P+Math.max((w-b)/2,0),V=f.leftForLtr(tt,M),N=vo(I.borderRadius);s.beginPath(),Object.values(N).some(C=>C!==0)?Ic(s,{x:V,y:D,w:M,h:b,radius:N}):s.rect(V,D,M,b),s.fill(),k!==0&&s.stroke()}s.restore()},$=function(tt,P,I){ul(s,I.text,tt,P+R/2,p,{strikethrough:I.hidden,textAlign:f.textAlign(I.textAlign)})},Y=this.isHorizontal(),Z=this._computeTitleHeight();Y?S={x:je(a,this.left+_,this.right-i[0]),y:this.top+_+Z,line:0}:S={x:this.left+_,y:je(a,this.top+Z+_,this.bottom-e[0].height),line:0},yv(this.ctx,t.textDirection);const nt=R+_;this.legendItems.forEach((tt,P)=>{s.strokeStyle=tt.fontColor,s.fillStyle=tt.fontColor;const I=s.measureText(tt.text).width,k=f.textAlign(tt.textAlign||(tt.textAlign=l.textAlign)),D=M+T+I;let V=S.x,N=S.y;f.setWidth(this.width),Y?P>0&&V+D+_>this.right&&(N=S.y+=nt,S.line++,V=S.x=je(a,this.left+_,this.right-i[S.line])):P>0&&N+nt>this.bottom&&(V=S.x=V+e[S.line].width+_,S.line++,N=S.y=je(a,this.top+Z+_,this.bottom-e[S.line].height));const C=f.x(V);if(z(C,N,tt),V=OI(k,V+M+T,Y?V+D:this.right,t.rtl),$(f.x(V),N,tt),Y)S.x+=D+_;else if(typeof tt.text!="string"){const Ft=p.lineHeight;S.y+=Dv(tt,Ft)+_}else S.y+=nt}),_v(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=$e(e.font),s=Rn(e.padding);if(!e.display)return;const a=wo(t.rtl,this.left,this.width),l=this.ctx,c=e.position,f=i.size/2,p=s.top+f;let _,w=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),_=this.top+p,w=je(t.align,w,this.right-T);else{const M=this.columnSizes.reduce((b,R)=>Math.max(b,R.height),0);_=p+je(t.align,this.top,this.bottom-M-t.labels.padding-this._computeTitleHeight())}const S=je(c,w,w+T);l.textAlign=a.textAlign(Yf(c)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,ul(l,e.text,S,_,i)}_computeTitleHeight(){const t=this.options.title,e=$e(t.font),i=Rn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(mo(t,this.left,this.right)&&mo(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],mo(t,s.left,s.left+s.width)&&mo(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!oC(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=nC(s,i);s&&!a&&Zt(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&Zt(e.onHover,[t,i,this],this)}else i&&Zt(e.onClick,[t,i,this],this)}}function iC(n,t,e,i,s){const a=rC(i,n,t,e),l=sC(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function rC(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function sC(n,t,e){let i=n;return typeof t.text!="string"&&(i=Dv(t,e)),i}function Dv(n,t){const e=n.text?n.text.length:0;return t*e}function oC(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var aC={id:"legend",_element:d_,start(n,t,e){const i=n.legend=new d_({ctx:n.ctx,options:e,chart:n});Cn.configure(n,i,e),Cn.addBox(n,i)},stop(n){Cn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Cn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const p=f.controller.getStyle(e?0:void 0),_=Rn(p.borderWidth);return{text:t[f.index].label,fillStyle:p.backgroundColor,fontColor:a,hidden:!f.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:s||p.textAlign,borderRadius:l&&(c||p.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Mv extends Pr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=Te(i.text)?i.text.length:1;this._padding=Rn(i.padding);const a=s*$e(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:a,options:l}=this,c=l.align;let f=0,p,_,w;return this.isHorizontal()?(_=je(c,i,a),w=e+t,p=a-i):(l.position==="left"?(_=i+t,w=je(c,s,e),f=qe*-.5):(_=a-t,w=je(c,e,s),f=qe*.5),p=s-e),{titleX:_,titleY:w,maxWidth:p,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=$e(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:f,rotation:p}=this._drawArgs(a);ul(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:p,textAlign:Yf(e.align),textBaseline:"middle",translation:[l,c]})}}function lC(n,t){const e=new Mv({ctx:n.ctx,options:t,chart:n});Cn.configure(n,e,t),Cn.addBox(n,e),n.titleBlock=e}var uC={id:"title",_element:Mv,start(n,t,e){lC(n,e)},stop(n){const t=n.titleBlock;Cn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Cn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ha={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const f=c.tooltipPosition();i.add(f.x),s+=f.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,f)=>c+f)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const f=n[a].element;if(f&&f.hasValue()){const p=f.getCenterPoint(),_=CI(t,p);_<s&&(s=_,c=f)}}if(c){const f=c.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function ai(n,t){return t&&(Te(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Mi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function cC(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function f_(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:c}=t,f=$e(t.bodyFont),p=$e(t.titleFont),_=$e(t.footerFont),w=a.length,T=s.length,S=i.length,M=Rn(t.padding);let b=M.height,R=0,z=i.reduce((Z,nt)=>Z+nt.before.length+nt.lines.length+nt.after.length,0);if(z+=n.beforeBody.length+n.afterBody.length,w&&(b+=w*p.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),z){const Z=t.displayColors?Math.max(c,f.lineHeight):f.lineHeight;b+=S*Z+(z-S)*f.lineHeight+(z-1)*t.bodySpacing}T&&(b+=t.footerMarginTop+T*_.lineHeight+(T-1)*t.footerSpacing);let $=0;const Y=function(Z){R=Math.max(R,e.measureText(Z).width+$)};return e.save(),e.font=p.string,$t(n.title,Y),e.font=f.string,$t(n.beforeBody.concat(n.afterBody),Y),$=t.displayColors?l+2+t.boxPadding:0,$t(i,Z=>{$t(Z.before,Y),$t(Z.lines,Y),$t(Z.after,Y)}),$=0,e.font=_.string,$t(n.footer,Y),e.restore(),R+=M.width,{width:R,height:b}}function hC(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function dC(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function fC(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:c,right:f}}=n;let p="center";return i==="center"?p=s<=(c+f)/2?"left":"right":s<=a/2?p="left":s>=l-a/2&&(p="right"),dC(p,n,t,e)&&(p="center"),p}function p_(n,t,e){const i=e.yAlign||t.yAlign||hC(n,e);return{xAlign:e.xAlign||t.xAlign||fC(n,t,e,i),yAlign:i}}function pC(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function gC(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function g_(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:f}=e,p=s+a,{topLeft:_,topRight:w,bottomLeft:T,bottomRight:S}=vo(l);let M=pC(t,c);const b=gC(t,f,p);return f==="center"?c==="left"?M+=p:c==="right"&&(M-=p):c==="left"?M-=Math.max(_,T)+s:c==="right"&&(M+=Math.max(w,S)+s),{x:Qn(M,0,i.width-t.width),y:Qn(b,0,i.height-t.height)}}function Yu(n,t,e){const i=Rn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function m_(n){return ai([],Mi(n))}function mC(n,t,e){return No(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function y_(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Vv={beforeTitle:bi,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:bi,beforeBody:bi,beforeLabel:bi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return te(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:bi,afterBody:bi,beforeFooter:bi,footer:bi,afterFooter:bi};function an(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?Vv[t].call(e,i):s}class vf extends Pr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new vv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=mC(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=an(i,"beforeTitle",this,t),a=an(i,"title",this,t),l=an(i,"afterTitle",this,t);let c=[];return c=ai(c,Mi(s)),c=ai(c,Mi(a)),c=ai(c,Mi(l)),c}getBeforeBody(t,e){return m_(an(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return $t(t,a=>{const l={before:[],lines:[],after:[]},c=y_(i,a);ai(l.before,Mi(an(c,"beforeLabel",this,a))),ai(l.lines,an(c,"label",this,a)),ai(l.after,Mi(an(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return m_(an(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=an(i,"beforeFooter",this,t),a=an(i,"footer",this,t),l=an(i,"afterFooter",this,t);let c=[];return c=ai(c,Mi(s)),c=ai(c,Mi(a)),c=ai(c,Mi(l)),c}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],f,p;for(f=0,p=e.length;f<p;++f)c.push(cC(this.chart,e[f]));return t.filter&&(c=c.filter((_,w,T)=>t.filter(_,w,T,i))),t.itemSort&&(c=c.sort((_,w)=>t.itemSort(_,w,i))),$t(c,_=>{const w=y_(t.callbacks,_);s.push(an(w,"labelColor",this,_)),a.push(an(w,"labelPointStyle",this,_)),l.push(an(w,"labelTextColor",this,_))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Ha[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=f_(this,i),p=Object.assign({},c,f),_=p_(this.chart,i,p),w=g_(i,p,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,a={opacity:1,x:w.x,y:w.y,width:f.width,height:f.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:f,topRight:p,bottomLeft:_,bottomRight:w}=vo(c),{x:T,y:S}=t,{width:M,height:b}=e;let R,z,$,Y,Z,nt;return a==="center"?(Z=S+b/2,s==="left"?(R=T,z=R-l,Y=Z+l,nt=Z-l):(R=T+M,z=R+l,Y=Z-l,nt=Z+l),$=R):(s==="left"?z=T+Math.max(f,_)+l:s==="right"?z=T+M-Math.max(p,w)-l:z=this.caretX,a==="top"?(Y=S,Z=Y-l,R=z-l,$=z+l):(Y=S+b,Z=Y+l,R=z+l,$=z-l),nt=Y),{x1:R,x2:z,x3:$,y1:Y,y2:Z,y3:nt}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,c,f;if(a){const p=wo(i.rtl,this.x,this.width);for(t.x=Yu(this,i.titleAlign,i),e.textAlign=p.textAlign(i.titleAlign),e.textBaseline="middle",l=$e(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<a;++f)e.fillText(s[f],p.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,f+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:f,boxWidth:p}=a,_=$e(a.bodyFont),w=Yu(this,"left",a),T=s.x(w),S=f<_.lineHeight?(_.lineHeight-f)/2:0,M=e.y+S;if(a.usePointStyle){const b={radius:Math.min(p,f)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},R=s.leftForLtr(T,p)+p/2,z=M+f/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Dy(t,b,R,z),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Dy(t,b,R,z)}else{t.lineWidth=Bt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const b=s.leftForLtr(T,p),R=s.leftForLtr(s.xPlus(T,1),p-2),z=vo(l.borderRadius);Object.values(z).some($=>$!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ic(t,{x:b,y:M,w:p,h:f,radius:z}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Ic(t,{x:R,y:M+1,w:p-2,h:f-2,radius:z}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(b,M,p,f),t.strokeRect(b,M,p,f),t.fillStyle=l.backgroundColor,t.fillRect(R,M+1,p-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:f,boxWidth:p,boxPadding:_}=i,w=$e(i.bodyFont);let T=w.lineHeight,S=0;const M=wo(i.rtl,this.x,this.width),b=function(I){e.fillText(I,M.x(t.x+S),t.y+T/2),t.y+=T+a},R=M.textAlign(l);let z,$,Y,Z,nt,tt,P;for(e.textAlign=l,e.textBaseline="middle",e.font=w.string,t.x=Yu(this,R,i),e.fillStyle=i.bodyColor,$t(this.beforeBody,b),S=c&&R!=="right"?l==="center"?p/2+_:p+2+_:0,Z=0,tt=s.length;Z<tt;++Z){for(z=s[Z],$=this.labelTextColors[Z],e.fillStyle=$,$t(z.before,b),Y=z.lines,c&&Y.length&&(this._drawColorBox(e,t,Z,M,i),T=Math.max(w.lineHeight,f)),nt=0,P=Y.length;nt<P;++nt)b(Y[nt]),T=w.lineHeight;$t(z.after,b)}S=0,T=w.lineHeight,$t(this.afterBody,b),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,c;if(a){const f=wo(i.rtl,this.x,this.width);for(t.x=Yu(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=$e(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,c=0;c<a;++c)e.fillText(s[c],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:f}=t,{width:p,height:_}=i,{topLeft:w,topRight:T,bottomLeft:S,bottomRight:M}=vo(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+w,f),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(c+p-T,f),e.quadraticCurveTo(c+p,f,c+p,f+T),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(c+p,f+_-M),e.quadraticCurveTo(c+p,f+_,c+p-M,f+_),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(c+S,f+_),e.quadraticCurveTo(c,f+_,c,f+_-S),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(c,f+w),e.quadraticCurveTo(c,f,c+w,f),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Ha[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=f_(this,t),f=Object.assign({},l,this._size),p=p_(e,t,f),_=g_(t,f,p,e);(s._to!==_.x||a._to!==_.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Rn(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),yv(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),_v(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:c,index:f})=>{const p=this.chart.getDatasetMeta(c);if(!p)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:p.data[f],index:f}}),a=!Ec(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),c=this._positionChanged(l,t),f=e||!Ec(l,a)||c;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Ha[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}Lt(vf,"positioners",Ha);var yC={id:"tooltip",_element:vf,positioners:Ha,afterInit(n,t,e){e&&(n.tooltip=new vf({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Vv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _C=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function vC(n,t,e,i){const s=n.indexOf(t);if(s===-1)return _C(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const wC=(n,t)=>n===null?null:Qn(Math.round(n),0,t);function __(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class wf extends Lo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(te(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:vC(i,t,qt(e,t),this._addedLabels),wC(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return __.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Lt(wf,"id","category"),Lt(wf,"defaults",{ticks:{callback:__}});function EC(n,t){const e=[],{bounds:s,step:a,min:l,max:c,precision:f,count:p,maxTicks:_,maxDigits:w,includeBounds:T}=n,S=a||1,M=_-1,{min:b,max:R}=t,z=!te(l),$=!te(c),Y=!te(p),Z=(R-b)/(w+1);let nt=xy((R-b)/M/S)*S,tt,P,I,k;if(nt<1e-14&&!z&&!$)return[{value:b},{value:R}];k=Math.ceil(R/nt)-Math.floor(b/nt),k>M&&(nt=xy(k*nt/M/S)*S),te(f)||(tt=Math.pow(10,f),nt=Math.ceil(nt*tt)/tt),s==="ticks"?(P=Math.floor(b/nt)*nt,I=Math.ceil(R/nt)*nt):(P=b,I=R),z&&$&&a&&SI((c-l)/a,nt/1e3)?(k=Math.round(Math.min((c-l)/nt,_)),nt=(c-l)/k,P=l,I=c):Y?(P=z?l:P,I=$?c:I,k=p-1,nt=(I-P)/k):(k=(I-P)/nt,rc(k,Math.round(k),nt/1e3)?k=Math.round(k):k=Math.ceil(k));const D=Math.max(Sy(nt),Sy(P));tt=Math.pow(10,te(f)?D:f),P=Math.round(P*tt)/tt,I=Math.round(I*tt)/tt;let V=0;for(z&&(T&&P!==l?(e.push({value:l}),P<l&&V++,rc(Math.round((P+V*nt)*tt)/tt,l,v_(l,Z,n))&&V++):P<l&&V++);V<k;++V){const N=Math.round((P+V*nt)*tt)/tt;if($&&N>c)break;e.push({value:N})}return $&&T&&I!==c?e.length&&rc(e[e.length-1].value,c,v_(c,Z,n))?e[e.length-1].value=c:e.push({value:c}):(!$||I===c)&&e.push({value:I}),e}function v_(n,t,{horizontal:e,minRotation:i}){const s=hs(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class TC extends Lo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return te(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=f=>s=e?s:f,c=f=>a=i?a:f;if(t){const f=Tr(s),p=Tr(a);f<0&&p<0?c(0):f>0&&p>0&&l(0)}if(s===a){let f=a===0?1:Math.abs(a*.05);c(a+f),t||l(s-f)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=EC(s,a);return t.bounds==="ticks"&&II(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return ov(t,this.chart.options.locale,this.options.ticks.format)}}class Ef extends TC{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Pn(t)?t:0,this.max=Pn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=hs(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Lt(Ef,"id","linear"),Lt(Ef,"defaults",{ticks:{callback:lv.formatters.numeric}});const $c={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},un=Object.keys($c);function w_(n,t){return n-t}function E_(n,t){if(te(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Pn(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(Sc(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function T_(n,t,e,i){const s=un.length;for(let a=un.indexOf(n);a<s-1;++a){const l=$c[un[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(c*l.size))<=i)return un[a]}return un[s-1]}function xC(n,t,e,i,s){for(let a=un.length-1;a>=un.indexOf(e);a--){const l=un[a];if($c[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return un[e?un.indexOf(e):0]}function SC(n){for(let t=un.indexOf(n)+1,e=un.length;t<e;++t)if($c[un[t]].common)return un[t]}function x_(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Gf(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function IC(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,f;for(c=a;c<=l;c=+s.add(c,1,i))f=e[c],f>=0&&(t[f].major=!0);return t}function S_(n,t,e){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!e?i:IC(n,i,s,e)}class Cc extends Lo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new jk._date(t.adapters.date);s.init(e),Qa(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:E_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function f(p){!l&&!isNaN(p.min)&&(s=Math.min(s,p.min)),!c&&!isNaN(p.max)&&(a=Math.max(a,p.max))}(!l||!c)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=Pn(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=Pn(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=DI(s,a,l);return this._unit=e.unit||(i.autoSkip?T_(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):xC(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:SC(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),S_(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Qn(e,0,l),i=Qn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||T_(a.minUnit,e,i,this._getLabelCapacity(e)),c=qt(s.ticks.stepSize,1),f=l==="week"?a.isoWeekday:!1,p=Sc(f)||f===!0,_={};let w=e,T,S;if(p&&(w=+t.startOf(w,"isoWeek",f)),w=+t.startOf(w,p?"day":l),t.diff(i,e,l)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+l);const M=s.ticks.source==="data"&&this.getDataTimestamps();for(T=w,S=0;T<i;T=+t.add(T,c,l),S++)x_(_,T,M);return(T===i||s.bounds==="ticks"||S===1)&&x_(_,T,M),Object.keys(_).sort(w_).map(b=>+b)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return Zt(l,[t,e,i],this);const c=a.time.displayFormats,f=this._unit,p=this._majorUnit,_=f&&c[f],w=p&&c[p],T=i[e],S=p&&w&&T&&T.major;return this._adapter.format(t,s||(S?w:_))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=hs(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,S_(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(E_(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return nv(t.sort(w_))}}Lt(Cc,"id","time"),Lt(Cc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xu(n,t,e){let i=0,s=n.length-1,a,l,c,f;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=gf(n,"pos",t)),{pos:a,time:c}=n[i],{pos:l,time:f}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=gf(n,"time",t)),{time:a,pos:c}=n[i],{time:l,pos:f}=n[s]);const p=l-a;return p?c+(f-c)*(t-a)/p:c}class I_ extends Cc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Xu(e,this.min),this._tableRange=Xu(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,c,f,p,_;for(l=0,c=t.length;l<c;++l)p=t[l],p>=e&&p<=i&&s.push(p);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)_=s[l+1],f=s[l-1],p=s[l],Math.round((_+f)/2)!==p&&a.push({time:p,pos:l/(c-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Xu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Xu(this._table,i*this._tableRange+this._minPos,!0)}}Lt(I_,"id","timeseries"),Lt(I_,"defaults",Cc.defaults);const Ov="label";function k_(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function kC(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function Nv(n,t){n.labels=t}function Lv(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ov;const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function AC(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ov;const e={labels:[],datasets:[]};return Nv(e,n.labels),Lv(e,n.datasets,t),e}function CC(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:f,plugins:p=[],fallbackContent:_,updateMode:w,...T}=n,S=ge.useRef(null),M=ge.useRef(null),b=()=>{S.current&&(M.current=new Wc(S.current,{type:l,data:AC(c,a),options:f&&{...f},plugins:p}),k_(t,M.current))},R=()=>{k_(t,null),M.current&&(M.current.destroy(),M.current=null)};return ge.useEffect(()=>{!s&&M.current&&f&&kC(M.current,f)},[s,f]),ge.useEffect(()=>{!s&&M.current&&Nv(M.current.config.data,c.labels)},[s,c.labels]),ge.useEffect(()=>{!s&&M.current&&c.datasets&&Lv(M.current.config.data,c.datasets,a)},[s,c.datasets]),ge.useEffect(()=>{M.current&&(s?(R(),setTimeout(b)):M.current.update(w))},[s,f,c.labels,c.datasets,w]),ge.useEffect(()=>{M.current&&(R(),setTimeout(b))},[l]),ge.useEffect(()=>(b(),()=>R()),[]),A_.createElement("canvas",{ref:S,role:"img",height:e,width:i,...T},_)}const PC=ge.forwardRef(CC);function RC(n,t){return Wc.register(t),ge.forwardRef((e,i)=>A_.createElement(PC,{...e,ref:i,type:n}))}const bC=RC("bar",sc);Wc.register(wf,Ef,lc,uC,yC,aC);const DC=[{key:"dateTime",label:"Data i godzina"},{key:"pid",label:"PID"},{key:"tid",label:"TID"},{key:"priority",label:"Priority"},{key:"tag",label:"Tag"},{key:"message",label:"Message"}];function MC(){const[n,t]=ge.useState(!1),[e,i]=ge.useState(""),[s,a]=ge.useState([]),[l,c]=ge.useState([]),[f,p]=ge.useState({}),[_,w]=ge.useState({dateTime:!1,pid:!1,tid:!1,priority:!1,tag:!1,message:!1}),T=z=>{w($=>({...$,[z]:!$[z]}))},S=z=>{switch(z){case"F":return"row-fatal";case"E":return"table-danger";case"W":return"table-warning";case"I":return"table-info";case"D":return"table-success";case"V":return"row-verbose";default:return""}};ge.useEffect(()=>{(async()=>{try{const Z=(await Dd(bd(Fu,e))).docs.map(tt=>({id:tt.id,...tt.data()})).sort((tt,P)=>tt.ordinalNumber-P.ordinalNumber),nt=Z.reduce((tt,P)=>(tt[P.priority]=(tt[P.priority]||0)+1,tt),{});a(Z),p(nt)}catch($){console.error("Error fetching data:",$)}})().then($=>console.log($))},[e]),ge.useEffect(()=>{(async()=>{try{const Y=(await Dd(bd(Fu,"devices-registry"))).docs.map(Z=>Z.data().name);c(Y)}catch($){console.error("Error fetching device names:",$)}})().then($=>console.log($))},[]);const M={labels:["Fatal","Error","Warning","Info","Debug","Verbose"],datasets:[{label:"Liczba logów",data:["F","E","W","I","D","V"].map(z=>f[z]||0),backgroundColor:["rgba(220,53,206,0.81)","rgba(255,99,71,0.83)","rgba(255,193,7,0.82)","rgba(23,162,184,0.8)","rgba(40,167,69,0.81)","rgba(108,117,125,0.8)"],borderColor:["rgb(99,24,93)","rgb(119,47,34)","rgb(151,114,4)","rgb(13,95,108)","rgb(23,94,39)","rgb(60,65,69)"],borderWidth:1}]},b={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Liczba logów według poziomu priorytetu",font:{size:18,family:"Arial, sans-serif",weight:"bold"},color:"#fff"}},scales:{x:{ticks:{color:"#ddd"},grid:{color:"#444"}},y:{ticks:{color:"#ddd"},grid:{color:"#444"}}}};async function R(z){try{const $=bd(Fu,"devices-registry"),Z=(await Dd($)).docs.find(nt=>nt.data().name===z);Z?(await jS(AS(Fu,"devices-registry",Z.id)),console.log(`Urządzenie ${z} zostało usunięte.`),i(""),c(nt=>nt.filter(tt=>tt!==z))):console.warn(`Nie znaleziono urządzenia o nazwie ${z}.`)}catch($){console.error("Wystąpił błąd przy usuwaniu urządzenia:",$)}}return Ct.jsxs("div",{className:"container-fluid d-flex flex-column justify-content-center align-items-center bg-lc-dark",style:{minHeight:"100vh"},children:[Ct.jsx("div",{className:"text-center my-3 align-",children:Ct.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",zIndex:1e3},children:Ct.jsxs("select",{className:"form-select",onChange:z=>i(z.target.value),value:e,children:[Ct.jsx("option",{value:"",disabled:!0,children:"Wybierz urządzenie"}),l.map((z,$)=>Ct.jsx("option",{value:z,children:z},$))]})})}),Ct.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",zIndex:1e3},children:Ct.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[Ct.jsx("button",{className:"btn btn-secondary",type:"button",id:"optionsMenuButton",onClick:()=>t(!n),children:Ct.jsx("img",{src:"src/assets/gear.svg",width:"30",height:"30",alt:"options",className:"white-svg"})}),Ct.jsx("button",{style:{opacity:n?1:0,transform:n?"translateY(0)":"translateY(-10px)",transition:"opacity 0.3s ease, transform 0.3s ease",marginTop:"10px"},className:"btn btn-danger",onClick:()=>R(e),children:"Usuń to urządzenie"})]})}),Ct.jsxs("div",{className:"text-light",children:["Wybrane urządzenie: ",e]}),Ct.jsx("div",{style:{width:"80%",height:"50vh",marginTop:"30px",marginBottom:"20px",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},children:Ct.jsx(bC,{data:M,options:b})}),Ct.jsx("div",{className:"mb-3 text-center",style:{margin:20},children:DC.map(({key:z,label:$})=>Ct.jsx("button",{className:_[z]?"btn m-2 btn-outline-secondary":"btn m-2 btn-secondary",onClick:()=>T(z),children:_[z]?`Pokaż ${$}`:`Ukryj ${$}`},z))}),Ct.jsx("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{minHeight:"100vh",width:"80%"},children:Ct.jsxs("table",{className:"table table-striped table-bordered table-hover w-100",children:[Ct.jsx("thead",{className:"thead-dark",children:Ct.jsxs("tr",{children:[Ct.jsx("th",{className:"d-none",children:"Liczba porządkowa"}),!_.dateTime&&Ct.jsx("th",{children:"Data i godzina"}),!_.pid&&Ct.jsx("th",{children:"PID"}),!_.tid&&Ct.jsx("th",{children:"TID"}),!_.priority&&Ct.jsx("th",{children:"Priority"}),!_.tag&&Ct.jsx("th",{children:"Tag"}),!_.message&&Ct.jsx("th",{children:"Message"})]})}),Ct.jsx("tbody",{children:s.slice(0,2e3).map(z=>Ct.jsxs("tr",{className:S(z.priority),children:[Ct.jsx("td",{className:"d-none",children:z.ordinalNumber}),!_.dateTime&&Ct.jsx("td",{children:new Date(z.dateTime.seconds*1e3).toLocaleString()}),!_.pid&&Ct.jsx("td",{children:z.pid}),!_.tid&&Ct.jsx("td",{children:z.tid}),!_.priority&&Ct.jsx("td",{children:z.priority}),!_.tag&&Ct.jsx("td",{children:z.tag}),!_.message&&Ct.jsx("td",{className:"text-start",children:z.message})]},z.id))})]})})]})}Jw.createRoot(document.getElementById("root")).render(Ct.jsx(ge.StrictMode,{children:Ct.jsx(MC,{})}));
